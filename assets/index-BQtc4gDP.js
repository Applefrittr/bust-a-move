var m1=Object.defineProperty;var z_=r=>{throw TypeError(r)};var p1=(r,t,n)=>t in r?m1(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var B=(r,t,n)=>p1(r,typeof t!="symbol"?t+"":t,n),ap=(r,t,n)=>t.has(r)||z_("Cannot "+n);var D=(r,t,n)=>(ap(r,t,"read from private field"),n?n.call(r):t.get(r)),pt=(r,t,n)=>t.has(r)?z_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,n),at=(r,t,n,s)=>(ap(r,t,"write to private field"),s?s.call(r,n):t.set(r,n),n),Ot=(r,t,n)=>(ap(r,t,"access private method"),n);var tf=(r,t,n,s)=>({set _(o){at(r,t,o,n)},get _(){return D(r,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function g1(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var op={exports:{}},Tu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function y1(){if(H_)return Tu;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Tu.Fragment=t,Tu.jsx=n,Tu.jsxs=n,Tu}var q_;function v1(){return q_||(q_=1,op.exports=y1()),op.exports}var Y=v1(),lp={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function _1(){if(F_)return It;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),E=Symbol.iterator;function w(P){return P===null||typeof P!="object"?null:(P=E&&P[E]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,j={};function L(P,rt,yt){this.props=P,this.context=rt,this.refs=j,this.updater=yt||x}L.prototype.isReactComponent={},L.prototype.setState=function(P,rt){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,rt,"setState")},L.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function G(){}G.prototype=L.prototype;function it(P,rt,yt){this.props=P,this.context=rt,this.refs=j,this.updater=yt||x}var J=it.prototype=new G;J.constructor=it,V(J,L.prototype),J.isPureReactComponent=!0;var dt=Array.isArray,lt={H:null,A:null,T:null,S:null},Tt=Object.prototype.hasOwnProperty;function O(P,rt,yt,ut,ct,Mt){return yt=Mt.ref,{$$typeof:r,type:P,key:rt,ref:yt!==void 0?yt:null,props:Mt}}function R(P,rt){return O(P.type,rt,void 0,void 0,void 0,P.props)}function S(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function I(P){var rt={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(yt){return rt[yt]})}var N=/\/+/g;function H(P,rt){return typeof P=="object"&&P!==null&&P.key!=null?I(""+P.key):rt.toString(36)}function M(){}function Ie(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(M,M):(P.status="pending",P.then(function(rt){P.status==="pending"&&(P.status="fulfilled",P.value=rt)},function(rt){P.status==="pending"&&(P.status="rejected",P.reason=rt)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function be(P,rt,yt,ut,ct){var Mt=typeof P;(Mt==="undefined"||Mt==="boolean")&&(P=null);var Dt=!1;if(P===null)Dt=!0;else switch(Mt){case"bigint":case"string":case"number":Dt=!0;break;case"object":switch(P.$$typeof){case r:case t:Dt=!0;break;case A:return Dt=P._init,be(Dt(P._payload),rt,yt,ut,ct)}}if(Dt)return ct=ct(P),Dt=ut===""?"."+H(P,0):ut,dt(ct)?(yt="",Dt!=null&&(yt=Dt.replace(N,"$&/")+"/"),be(ct,rt,yt,"",function(me){return me})):ct!=null&&(S(ct)&&(ct=R(ct,yt+(ct.key==null||P&&P.key===ct.key?"":(""+ct.key).replace(N,"$&/")+"/")+Dt)),rt.push(ct)),1;Dt=0;var Se=ut===""?".":ut+":";if(dt(P))for(var Qt=0;Qt<P.length;Qt++)ut=P[Qt],Mt=Se+H(ut,Qt),Dt+=be(ut,rt,yt,Mt,ct);else if(Qt=w(P),typeof Qt=="function")for(P=Qt.call(P),Qt=0;!(ut=P.next()).done;)ut=ut.value,Mt=Se+H(ut,Qt++),Dt+=be(ut,rt,yt,Mt,ct);else if(Mt==="object"){if(typeof P.then=="function")return be(Ie(P),rt,yt,ut,ct);throw rt=String(P),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Dt}function ot(P,rt,yt){if(P==null)return P;var ut=[],ct=0;return be(P,ut,"","",function(Mt){return rt.call(yt,Mt,ct++)}),ut}function St(P){if(P._status===-1){var rt=P._result;rt=rt(),rt.then(function(yt){(P._status===0||P._status===-1)&&(P._status=1,P._result=yt)},function(yt){(P._status===0||P._status===-1)&&(P._status=2,P._result=yt)}),P._status===-1&&(P._status=0,P._result=rt)}if(P._status===1)return P._result.default;throw P._result}var At=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Xt(){}return It.Children={map:ot,forEach:function(P,rt,yt){ot(P,function(){rt.apply(this,arguments)},yt)},count:function(P){var rt=0;return ot(P,function(){rt++}),rt},toArray:function(P){return ot(P,function(rt){return rt})||[]},only:function(P){if(!S(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},It.Component=L,It.Fragment=n,It.Profiler=o,It.PureComponent=it,It.StrictMode=s,It.Suspense=p,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=lt,It.act=function(){throw Error("act(...) is not supported in production builds of React.")},It.cache=function(P){return function(){return P.apply(null,arguments)}},It.cloneElement=function(P,rt,yt){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ut=V({},P.props),ct=P.key,Mt=void 0;if(rt!=null)for(Dt in rt.ref!==void 0&&(Mt=void 0),rt.key!==void 0&&(ct=""+rt.key),rt)!Tt.call(rt,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&rt.ref===void 0||(ut[Dt]=rt[Dt]);var Dt=arguments.length-2;if(Dt===1)ut.children=yt;else if(1<Dt){for(var Se=Array(Dt),Qt=0;Qt<Dt;Qt++)Se[Qt]=arguments[Qt+2];ut.children=Se}return O(P.type,ct,void 0,void 0,Mt,ut)},It.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},It.createElement=function(P,rt,yt){var ut,ct={},Mt=null;if(rt!=null)for(ut in rt.key!==void 0&&(Mt=""+rt.key),rt)Tt.call(rt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ct[ut]=rt[ut]);var Dt=arguments.length-2;if(Dt===1)ct.children=yt;else if(1<Dt){for(var Se=Array(Dt),Qt=0;Qt<Dt;Qt++)Se[Qt]=arguments[Qt+2];ct.children=Se}if(P&&P.defaultProps)for(ut in Dt=P.defaultProps,Dt)ct[ut]===void 0&&(ct[ut]=Dt[ut]);return O(P,Mt,void 0,void 0,null,ct)},It.createRef=function(){return{current:null}},It.forwardRef=function(P){return{$$typeof:d,render:P}},It.isValidElement=S,It.lazy=function(P){return{$$typeof:A,_payload:{_status:-1,_result:P},_init:St}},It.memo=function(P,rt){return{$$typeof:g,type:P,compare:rt===void 0?null:rt}},It.startTransition=function(P){var rt=lt.T,yt={};lt.T=yt;try{var ut=P(),ct=lt.S;ct!==null&&ct(yt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Xt,At)}catch(Mt){At(Mt)}finally{lt.T=rt}},It.unstable_useCacheRefresh=function(){return lt.H.useCacheRefresh()},It.use=function(P){return lt.H.use(P)},It.useActionState=function(P,rt,yt){return lt.H.useActionState(P,rt,yt)},It.useCallback=function(P,rt){return lt.H.useCallback(P,rt)},It.useContext=function(P){return lt.H.useContext(P)},It.useDebugValue=function(){},It.useDeferredValue=function(P,rt){return lt.H.useDeferredValue(P,rt)},It.useEffect=function(P,rt){return lt.H.useEffect(P,rt)},It.useId=function(){return lt.H.useId()},It.useImperativeHandle=function(P,rt,yt){return lt.H.useImperativeHandle(P,rt,yt)},It.useInsertionEffect=function(P,rt){return lt.H.useInsertionEffect(P,rt)},It.useLayoutEffect=function(P,rt){return lt.H.useLayoutEffect(P,rt)},It.useMemo=function(P,rt){return lt.H.useMemo(P,rt)},It.useOptimistic=function(P,rt){return lt.H.useOptimistic(P,rt)},It.useReducer=function(P,rt,yt){return lt.H.useReducer(P,rt,yt)},It.useRef=function(P){return lt.H.useRef(P)},It.useState=function(P){return lt.H.useState(P)},It.useSyncExternalStore=function(P,rt,yt){return lt.H.useSyncExternalStore(P,rt,yt)},It.useTransition=function(){return lt.H.useTransition()},It.version="19.0.0",It}var Q_;function Lg(){return Q_||(Q_=1,lp.exports=_1()),lp.exports}var K=Lg(),up={exports:{}},bu={},cp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function A1(){return K_||(K_=1,function(r){function t(ot,St){var At=ot.length;ot.push(St);t:for(;0<At;){var Xt=At-1>>>1,P=ot[Xt];if(0<o(P,St))ot[Xt]=St,ot[At]=P,At=Xt;else break t}}function n(ot){return ot.length===0?null:ot[0]}function s(ot){if(ot.length===0)return null;var St=ot[0],At=ot.pop();if(At!==St){ot[0]=At;t:for(var Xt=0,P=ot.length,rt=P>>>1;Xt<rt;){var yt=2*(Xt+1)-1,ut=ot[yt],ct=yt+1,Mt=ot[ct];if(0>o(ut,At))ct<P&&0>o(Mt,ut)?(ot[Xt]=Mt,ot[ct]=At,Xt=ct):(ot[Xt]=ut,ot[yt]=At,Xt=yt);else if(ct<P&&0>o(Mt,At))ot[Xt]=Mt,ot[ct]=At,Xt=ct;else break t}}return St}function o(ot,St){var At=ot.sortIndex-St.sortIndex;return At!==0?At:ot.id-St.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,d=f.now();r.unstable_now=function(){return f.now()-d}}var p=[],g=[],A=1,E=null,w=3,x=!1,V=!1,j=!1,L=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function J(ot){for(var St=n(g);St!==null;){if(St.callback===null)s(g);else if(St.startTime<=ot)s(g),St.sortIndex=St.expirationTime,t(p,St);else break;St=n(g)}}function dt(ot){if(j=!1,J(ot),!V)if(n(p)!==null)V=!0,Ie();else{var St=n(g);St!==null&&be(dt,St.startTime-ot)}}var lt=!1,Tt=-1,O=5,R=-1;function S(){return!(r.unstable_now()-R<O)}function I(){if(lt){var ot=r.unstable_now();R=ot;var St=!0;try{t:{V=!1,j&&(j=!1,G(Tt),Tt=-1),x=!0;var At=w;try{e:{for(J(ot),E=n(p);E!==null&&!(E.expirationTime>ot&&S());){var Xt=E.callback;if(typeof Xt=="function"){E.callback=null,w=E.priorityLevel;var P=Xt(E.expirationTime<=ot);if(ot=r.unstable_now(),typeof P=="function"){E.callback=P,J(ot),St=!0;break e}E===n(p)&&s(p),J(ot)}else s(p);E=n(p)}if(E!==null)St=!0;else{var rt=n(g);rt!==null&&be(dt,rt.startTime-ot),St=!1}}break t}finally{E=null,w=At,x=!1}St=void 0}}finally{St?N():lt=!1}}}var N;if(typeof it=="function")N=function(){it(I)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,M=H.port2;H.port1.onmessage=I,N=function(){M.postMessage(null)}}else N=function(){L(I,0)};function Ie(){lt||(lt=!0,N())}function be(ot,St){Tt=L(function(){ot(r.unstable_now())},St)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ot){ot.callback=null},r.unstable_continueExecution=function(){V||x||(V=!0,Ie())},r.unstable_forceFrameRate=function(ot){0>ot||125<ot?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<ot?Math.floor(1e3/ot):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ot){switch(w){case 1:case 2:case 3:var St=3;break;default:St=w}var At=w;w=St;try{return ot()}finally{w=At}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ot,St){switch(ot){case 1:case 2:case 3:case 4:case 5:break;default:ot=3}var At=w;w=ot;try{return St()}finally{w=At}},r.unstable_scheduleCallback=function(ot,St,At){var Xt=r.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Xt+At:Xt):At=Xt,ot){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=At+P,ot={id:A++,callback:St,priorityLevel:ot,startTime:At,expirationTime:P,sortIndex:-1},At>Xt?(ot.sortIndex=At,t(g,ot),n(p)===null&&ot===n(g)&&(j?(G(Tt),Tt=-1):j=!0,be(dt,At-Xt))):(ot.sortIndex=P,t(p,ot),V||x||(V=!0,Ie())),ot},r.unstable_shouldYield=S,r.unstable_wrapCallback=function(ot){var St=w;return function(){var At=w;w=St;try{return ot.apply(this,arguments)}finally{w=At}}}}(hp)),hp}var G_;function E1(){return G_||(G_=1,cp.exports=A1()),cp.exports}var fp={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function T1(){if(W_)return sn;W_=1;var r=Lg();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)g+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,A){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:E==null?null:""+E,children:p,containerInfo:g,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,A)},sn.flushSync=function(p){var g=f.T,A=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=A,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var A=g.as,E=d(A,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;A==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:w,fetchPriority:x}):A==="script"&&s.d.X(p,{crossOrigin:E,integrity:w,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var A=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var A=g.as,E=d(A,g.crossOrigin);s.d.L(p,A,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var A=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,A){return f.H.useFormState(p,g,A)},sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},sn.version="19.0.0",sn}var Y_;function b1(){if(Y_)return fp.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),fp.exports=T1(),fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function S1(){if(X_)return bu;X_=1;var r=E1(),t=Lg(),n=b1();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),dt=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function Tt(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case p:return"Fragment";case d:return"Portal";case A:return"Profiler";case g:return"StrictMode";case j:return"Suspense";case L:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case V:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case it:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,N,H;function M(e){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||"",H=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+H}var Ie=!1;function be(e,i){if(!e||Ie)return"";Ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var Q=X}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(X){Q=X}e.call(nt.prototype)}}else{try{throw Error()}catch(X){Q=X}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],T=m[1];if(_&&T){var C=_.split(`
`),k=T.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===k.length)for(l=C.length-1,h=k.length-1;1<=l&&0<=h&&C[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==k[h]){var Z=`
`+C[l].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ie=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?M(a):""}function ot(e){switch(e.tag){case 26:case 27:case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 15:return e=be(e.type,!1),e;case 11:return e=be(e.type.render,!1),e;case 1:return e=be(e.type,!0),e;default:return""}}function St(e){try{var i="";do i+=ot(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function At(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Xt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function P(e){if(At(e)!==e)throw Error(s(188))}function rt(e){var i=e.alternate;if(!i){if(i=At(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===a)return P(h),e;if(m===l)return P(h),i;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=m;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=m;break}if(T===l){_=!0,l=h,a=m;break}T=T.sibling}if(!_){for(T=m.child;T;){if(T===a){_=!0,a=m,l=h;break}if(T===l){_=!0,l=m,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function yt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=yt(e),i!==null)return i;e=e.sibling}return null}var ut=Array.isArray,ct=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Mt={pending:!1,data:null,method:null,action:null},Dt=[],Se=-1;function Qt(e){return{current:e}}function me(e){0>Se||(e.current=Dt[Se],Dt[Se]=null,Se--)}function te(e,i){Se++,Dt[Se]=e.current,e.current=i}var cn=Qt(null),Ui=Qt(null),Mn=Qt(null),Er=Qt(null);function Tr(e,i){switch(te(Mn,i),te(Ui,e),te(cn,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?g_(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=g_(e),i=y_(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}me(cn),te(cn,i)}function Li(){me(cn),me(Ui),me(Mn)}function yl(e){e.memoizedState!==null&&te(Er,e);var i=cn.current,a=y_(i,e.type);i!==a&&(te(Ui,e),te(cn,a))}function Ba(e){Ui.current===e&&(me(cn),me(Ui)),Er.current===e&&(me(Er),yu._currentValue=Mt)}var ja=Object.prototype.hasOwnProperty,Os=r.unstable_scheduleCallback,za=r.unstable_cancelCallback,ld=r.unstable_shouldYield,vl=r.unstable_requestPaint,vn=r.unstable_now,Vc=r.unstable_getCurrentPriorityLevel,Me=r.unstable_ImmediatePriority,je=r.unstable_UserBlockingPriority,ki=r.unstable_NormalPriority,Pc=r.unstable_LowPriority,_l=r.unstable_IdlePriority,ud=r.log,Vs=r.unstable_setDisableYieldValue,br=null,nn=null;function Al(e){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(br,e,void 0,(e.current.flags&128)===128)}catch{}}function ci(e){if(typeof ud=="function"&&Vs(e),nn&&typeof nn.setStrictMode=="function")try{nn.setStrictMode(br,e)}catch{}}var hn=Math.clz32?Math.clz32:Uc,El=Math.log,Nc=Math.LN2;function Uc(e){return e>>>=0,e===0?32:31-(El(e)/Nc|0)|0}var hi=128,Sr=4194304;function Jn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function On(e,i){var a=e.pendingLanes;if(a===0)return 0;var l=0,h=e.suspendedLanes,m=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Jn(a):(m&=T,m!==0?l=Jn(m):e||(_=T&~_,_!==0&&(l=Jn(_))))):(T=a&~h,T!==0?l=Jn(T):m!==0?l=Jn(m):e||(_=a&~_,_!==0&&(l=Jn(_)))),l===0?0:i!==0&&i!==l&&!(i&h)&&(h=l&-l,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:l}function wr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Ha(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tl(){var e=hi;return hi<<=1,!(hi&4194176)&&(hi=128),e}function Rr(){var e=Sr;return Sr<<=1,!(Sr&62914560)&&(Sr=4194304),e}function qa(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Ae(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Lc(e,i,a,l,h,m){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,C=e.expirationTimes,k=e.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-hn(a),nt=1<<Z;T[Z]=0,C[Z]=-1;var Q=k[Z];if(Q!==null)for(k[Z]=null,Z=0;Z<Q.length;Z++){var X=Q[Z];X!==null&&(X.lane&=-536870913)}a&=~nt}l!==0&&Cr(e,l,0),m!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=m&~(_&~i))}function Cr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-hn(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194218}function xr(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-hn(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function kc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Bc(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function Dr(e,i){var a=ct.p;try{return ct.p=e,i()}finally{ct.p=a}}var fi=Math.random().toString(36).slice(2),ze="__reactFiber$"+fi,Oe="__reactProps$"+fi,Bi="__reactContainer$"+fi,Ps="__reactEvents$"+fi,Fa="__reactListeners$"+fi,di="__reactHandles$"+fi,bl="__reactResources$"+fi,Ir="__reactMarker$"+fi;function Ns(e){delete e[ze],delete e[Oe],delete e[Ps],delete e[Fa],delete e[di]}function $n(e){var i=e[ze];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Bi]||a[ze]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=A_(e);e!==null;){if(a=e[ze])return a;e=A_(e)}return i}e=a,a=e.parentNode}return null}function ji(e){if(e=e[ze]||e[Bi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Mr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Or(e){var i=e[bl];return i||(i=e[bl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Ir]=!0}var Sl=new Set,Qa={};function Sn(e,i){_n(e,i),_n(e+"Capture",i)}function _n(e,i){for(Qa[e]=i,e=0;e<i.length;e++)Sl.add(i[e])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},Rl={};function jc(e){return ja.call(Rl,e)?!0:ja.call(wl,e)?!1:cd.test(e)?Rl[e]=!0:(wl[e]=!0,!1)}function Vr(e,i,a){if(jc(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Pr(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Vn(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function hd(e){var i=zc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),l=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,m=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Us(e){e._valueTracker||(e._valueTracker=hd(e))}function Cl(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=zc(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ka(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var zi=/[\n"\\]/g;function pe(e){return e.replace(zi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nr(e,i,a,l,h,m,_,T){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+fn(i)):e.value!==""+fn(i)&&(e.value=""+fn(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Ga(e,_,fn(i)):a!=null?Ga(e,_,fn(a)):l!=null&&e.removeAttribute("value"),h==null&&m!=null&&(e.defaultChecked=!!m),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+fn(T):e.removeAttribute("name")}function Ls(e,i,a,l,h,m,_,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),i!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;a=a!=null?""+fn(a):"",i=i!=null?""+fn(i):a,T||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ga(e,i,a){i==="number"&&Ka(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Kt(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+fn(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function ks(e,i,a){if(i!=null&&(i=""+fn(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+fn(a):""}function Ur(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(ut(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=fn(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var fd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xl(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||fd.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Hc(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&xl(e,h,l)}else for(var m in i)i.hasOwnProperty(m)&&xl(e,m,i[m])}function Dl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mi(e){return md.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Nn=null;function Wa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Hi=null,qi=null;function Fi(e){var i=ji(e);if(i&&(e=i.stateNode)){var a=e[Oe]||null;t:switch(e=i.stateNode,i.type){case"input":if(Nr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pe(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Oe]||null;if(!h)throw Error(s(90));Nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Cl(l)}break t;case"textarea":ks(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Kt(e,!!a.multiple,i,!1)}}}var Il=!1;function qc(e,i,a){if(Il)return e(i,a);Il=!0;try{var l=e(i);return l}finally{if(Il=!1,(Hi!==null||qi!==null)&&(Ph(),Hi&&(i=Hi,e=qi,qi=Hi=null,Fi(i),e)))for(i=0;i<e.length;i++)Fi(e[i])}}function Bs(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Oe]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!1;if(wn)try{var js={};Object.defineProperty(js,"passive",{get:function(){Un=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Un=!1}var pi=null,Lr=null,Qi=null;function Ml(){if(Qi)return Qi;var e,i=Lr,a=i.length,l,h="value"in pi?pi.value:pi.textContent,m=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===h[m-l];l++);return Qi=h.slice(e,1<l?1-l:void 0)}function gi(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function yi(){return!0}function Ol(){return!1}function He(e){function i(a,l,h,m,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?yi:Ol,this.isPropagationStopped=Ol,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=yi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=yi)},persist:function(){},isPersistent:yi}),i}var Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=He(Zt),zs=I({},Zt,{view:0,detail:0}),Fc=He(zs),Xa,Za,vi,Hs=I({},zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vi&&(vi&&e.type==="mousemove"?(Xa=e.screenX-vi.screenX,Za=e.screenY-vi.screenY):Za=Xa=0,vi=e),Xa)},movementY:function(e){return"movementY"in e?e.movementY:Za}}),Ln=He(Hs),Qc=I({},Hs,{dataTransfer:0}),pd=He(Qc),qs=I({},zs,{relatedTarget:0}),Ja=He(qs),Vl=I({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0}),$a=He(Vl),Kc=I({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),to=He(Kc),gd=I({},Zt,{data:0}),Pl=He(gd),Fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Wc[e])?!!i[e]:!1}function Qs(){return Nl}var Yc=I({},zs,{key:function(e){if(e.key){var i=Fs[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=gi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(e){return e.type==="keypress"?gi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),eo=He(Yc),Xc=I({},Hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ul=He(Xc),Ki=I({},zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),Zc=He(Ki),Jc=I({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),$c=He(Jc),th=I({},Hs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),no=He(th),dn=I({},Zt,{newState:0,oldState:0}),eh=He(dn),nh=[9,13,27,32],_i=wn&&"CompositionEvent"in window,c=null;wn&&"documentMode"in document&&(c=document.documentMode);var y=wn&&"TextEvent"in window&&!c,v=wn&&(!_i||c&&8<c&&11>=c),b=" ",q=!1;function W(e,i){switch(e){case"keyup":return nh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jt=!1;function Ve(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(q=!0,b);case"textInput":return e=i.data,e===b&&q?null:e;default:return null}}function zt(e,i){if(jt)return e==="compositionend"||!_i&&W(e,i)?(e=Ml(),Qi=Lr=pi=null,jt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var qe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pe(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!qe[e.type]:i==="textarea"}function Gi(e,i,a,l){Hi?qi?qi.push(l):qi=[l]:Hi=l,i=Bh(i,"onChange"),0<i.length&&(a=new Ya("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var We=null,Ai=null;function Ll(e){h_(e,0)}function ih(e){var i=Mr(e);if(Cl(i))return e}function jy(e,i){if(e==="change")return i}var zy=!1;if(wn){var yd;if(wn){var vd="oninput"in document;if(!vd){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),vd=typeof Hy.oninput=="function"}yd=vd}else yd=!1;zy=yd&&(!document.documentMode||9<document.documentMode)}function qy(){We&&(We.detachEvent("onpropertychange",Fy),Ai=We=null)}function Fy(e){if(e.propertyName==="value"&&ih(Ai)){var i=[];Gi(i,Ai,e,Wa(e)),qc(Ll,i)}}function FS(e,i,a){e==="focusin"?(qy(),We=i,Ai=a,We.attachEvent("onpropertychange",Fy)):e==="focusout"&&qy()}function QS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ih(Ai)}function KS(e,i){if(e==="click")return ih(i)}function GS(e,i){if(e==="input"||e==="change")return ih(i)}function WS(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Rn=typeof Object.is=="function"?Object.is:WS;function kl(e,i){if(Rn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ja.call(i,h)||!Rn(e[h],i[h]))return!1}return!0}function Qy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ky(e,i){var a=Qy(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Qy(a)}}function Gy(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Gy(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Wy(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ka(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ka(e.document)}return i}function _d(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function YS(e,i){var a=Wy(i);i=e.focusedElem;var l=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&Gy(i.ownerDocument.documentElement,i)){if(l!==null&&_d(i)){if(e=l.start,a=l.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!a.extend&&m>l&&(h=l,l=m,m=h),h=Ky(i,m);var _=Ky(i,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),m>l?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var XS=wn&&"documentMode"in document&&11>=document.documentMode,io=null,Ad=null,Bl=null,Ed=!1;function Yy(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ed||io==null||io!==Ka(l)||(l=io,"selectionStart"in l&&_d(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Bl&&kl(Bl,l)||(Bl=l,l=Bh(Ad,"onSelect"),0<l.length&&(i=new Ya("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=io)))}function Ks(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ro={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionrun:Ks("Transition","TransitionRun"),transitionstart:Ks("Transition","TransitionStart"),transitioncancel:Ks("Transition","TransitionCancel"),transitionend:Ks("Transition","TransitionEnd")},Td={},Xy={};wn&&(Xy=document.createElement("div").style,"AnimationEvent"in window||(delete ro.animationend.animation,delete ro.animationiteration.animation,delete ro.animationstart.animation),"TransitionEvent"in window||delete ro.transitionend.transition);function Gs(e){if(Td[e])return Td[e];if(!ro[e])return e;var i=ro[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xy)return Td[e]=i[a];return e}var Zy=Gs("animationend"),Jy=Gs("animationiteration"),$y=Gs("animationstart"),ZS=Gs("transitionrun"),JS=Gs("transitionstart"),$S=Gs("transitioncancel"),tv=Gs("transitionend"),ev=new Map,nv="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ti(e,i){ev.set(e,i),Sn(i,[e])}var kn=[],so=0,bd=0;function rh(){for(var e=so,i=bd=so=0;i<e;){var a=kn[i];kn[i++]=null;var l=kn[i];kn[i++]=null;var h=kn[i];kn[i++]=null;var m=kn[i];if(kn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&iv(a,h,m)}}function sh(e,i,a,l){kn[so++]=e,kn[so++]=i,kn[so++]=a,kn[so++]=l,bd|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Sd(e,i,a,l){return sh(e,i,a,l),ah(e)}function kr(e,i){return sh(e,null,null,i),ah(e)}function iv(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,m=e.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(h=!0)),e=m,m=m.return;h&&i!==null&&e.tag===3&&(m=e.stateNode,h=31-hn(a),m=m.hiddenUpdates,e=m[h],e===null?m[h]=[i]:e.push(i),i.lane=a|536870912)}function ah(e){if(50<cu)throw cu=0,Im=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ao={},rv=new WeakMap;function Bn(e,i){if(typeof e=="object"&&e!==null){var a=rv.get(e);return a!==void 0?a:(i={value:e,source:i,stack:St(i)},rv.set(e,i),i)}return{value:e,source:i,stack:St(i)}}var oo=[],lo=0,oh=null,lh=0,jn=[],zn=0,Ws=null,Wi=1,Yi="";function Ys(e,i){oo[lo++]=lh,oo[lo++]=oh,oh=e,lh=i}function sv(e,i,a){jn[zn++]=Wi,jn[zn++]=Yi,jn[zn++]=Ws,Ws=e;var l=Wi;e=Yi;var h=32-hn(l)-1;l&=~(1<<h),a+=1;var m=32-hn(i)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Wi=1<<32-hn(i)+h|a<<h|l,Yi=m+e}else Wi=1<<m|a<<h|l,Yi=e}function wd(e){e.return!==null&&(Ys(e,1),sv(e,1,0))}function Rd(e){for(;e===oh;)oh=oo[--lo],oo[lo]=null,lh=oo[--lo],oo[lo]=null;for(;e===Ws;)Ws=jn[--zn],jn[zn]=null,Yi=jn[--zn],jn[zn]=null,Wi=jn[--zn],jn[zn]=null}var mn=null,Ye=null,Gt=!1,ei=null,Ei=!1,Cd=Error(s(519));function Xs(e){var i=Error(s(418,""));throw Hl(Bn(i,e)),Cd}function av(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[ze]=e,i[Oe]=l,a){case"dialog":Lt("cancel",i),Lt("close",i);break;case"iframe":case"object":case"embed":Lt("load",i);break;case"video":case"audio":for(a=0;a<fu.length;a++)Lt(fu[a],i);break;case"source":Lt("error",i);break;case"img":case"image":case"link":Lt("error",i),Lt("load",i);break;case"details":Lt("toggle",i);break;case"input":Lt("invalid",i),Ls(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Us(i);break;case"select":Lt("invalid",i);break;case"textarea":Lt("invalid",i),Ur(i,l.value,l.defaultValue,l.children),Us(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||p_(i.textContent,a)?(l.popover!=null&&(Lt("beforetoggle",i),Lt("toggle",i)),l.onScroll!=null&&Lt("scroll",i),l.onScrollEnd!=null&&Lt("scrollend",i),l.onClick!=null&&(i.onclick=jh),i=!0):i=!1,i||Xs(e)}function ov(e){for(mn=e.return;mn;)switch(mn.tag){case 3:case 27:Ei=!0;return;case 5:case 13:Ei=!1;return;default:mn=mn.return}}function jl(e){if(e!==mn)return!1;if(!Gt)return ov(e),Gt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Gm(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ye&&Xs(e),ov(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ye=ii(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ye=null}}else Ye=mn?ii(e.stateNode.nextSibling):null;return!0}function zl(){Ye=mn=null,Gt=!1}function Hl(e){ei===null?ei=[e]:ei.push(e)}var ql=Error(s(460)),lv=Error(s(474)),xd={then:function(){}};function uv(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uh(){}function cv(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(uh,uh),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===ql?Error(s(483)):e;default:if(typeof i.status=="string")i.then(uh,uh);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===ql?Error(s(483)):e}throw Fl=i,ql}}var Fl=null;function hv(){if(Fl===null)throw Error(s(459));var e=Fl;return Fl=null,e}var uo=null,Ql=0;function ch(e){var i=Ql;return Ql+=1,uo===null&&(uo=[]),cv(uo,e,i)}function Kl(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function hh(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function fv(e){var i=e._init;return i(e._payload)}function dv(e){function i(z,U){if(e){var F=z.deletions;F===null?(z.deletions=[U],z.flags|=16):F.push(U)}}function a(z,U){if(!e)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function l(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=Xr(z,U),z.index=0,z.sibling=null,z}function m(z,U,F){return z.index=F,e?(F=z.alternate,F!==null?(F=F.index,F<U?(z.flags|=33554434,U):F):(z.flags|=33554434,U)):(z.flags|=1048576,U)}function _(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function T(z,U,F,$){return U===null||U.tag!==6?(U=Tm(F,z.mode,$),U.return=z,U):(U=h(U,F),U.return=z,U)}function C(z,U,F,$){var mt=F.type;return mt===p?Z(z,U,F.props.children,$,F.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===it&&fv(mt)===U.type)?(U=h(U,F.props),Kl(U,F),U.return=z,U):(U=Dh(F.type,F.key,F.props,null,z.mode,$),Kl(U,F),U.return=z,U)}function k(z,U,F,$){return U===null||U.tag!==4||U.stateNode.containerInfo!==F.containerInfo||U.stateNode.implementation!==F.implementation?(U=bm(F,z.mode,$),U.return=z,U):(U=h(U,F.children||[]),U.return=z,U)}function Z(z,U,F,$,mt){return U===null||U.tag!==7?(U=aa(F,z.mode,$,mt),U.return=z,U):(U=h(U,F),U.return=z,U)}function nt(z,U,F){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Tm(""+U,z.mode,F),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return F=Dh(U.type,U.key,U.props,null,z.mode,F),Kl(F,U),F.return=z,F;case d:return U=bm(U,z.mode,F),U.return=z,U;case it:var $=U._init;return U=$(U._payload),nt(z,U,F)}if(ut(U)||Tt(U))return U=aa(U,z.mode,F,null),U.return=z,U;if(typeof U.then=="function")return nt(z,ch(U),F);if(U.$$typeof===x)return nt(z,Rh(z,U),F);hh(z,U)}return null}function Q(z,U,F,$){var mt=U!==null?U.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return mt!==null?null:T(z,U,""+F,$);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case f:return F.key===mt?C(z,U,F,$):null;case d:return F.key===mt?k(z,U,F,$):null;case it:return mt=F._init,F=mt(F._payload),Q(z,U,F,$)}if(ut(F)||Tt(F))return mt!==null?null:Z(z,U,F,$,null);if(typeof F.then=="function")return Q(z,U,ch(F),$);if(F.$$typeof===x)return Q(z,U,Rh(z,F),$);hh(z,F)}return null}function X(z,U,F,$,mt){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return z=z.get(F)||null,T(U,z,""+$,mt);if(typeof $=="object"&&$!==null){switch($.$$typeof){case f:return z=z.get($.key===null?F:$.key)||null,C(U,z,$,mt);case d:return z=z.get($.key===null?F:$.key)||null,k(U,z,$,mt);case it:var Pt=$._init;return $=Pt($._payload),X(z,U,F,$,mt)}if(ut($)||Tt($))return z=z.get(F)||null,Z(U,z,$,mt,null);if(typeof $.then=="function")return X(z,U,F,ch($),mt);if($.$$typeof===x)return X(z,U,F,Rh(U,$),mt);hh(U,$)}return null}function gt(z,U,F,$){for(var mt=null,Pt=null,_t=U,bt=U=0,Ke=null;_t!==null&&bt<F.length;bt++){_t.index>bt?(Ke=_t,_t=null):Ke=_t.sibling;var Wt=Q(z,_t,F[bt],$);if(Wt===null){_t===null&&(_t=Ke);break}e&&_t&&Wt.alternate===null&&i(z,_t),U=m(Wt,U,bt),Pt===null?mt=Wt:Pt.sibling=Wt,Pt=Wt,_t=Ke}if(bt===F.length)return a(z,_t),Gt&&Ys(z,bt),mt;if(_t===null){for(;bt<F.length;bt++)_t=nt(z,F[bt],$),_t!==null&&(U=m(_t,U,bt),Pt===null?mt=_t:Pt.sibling=_t,Pt=_t);return Gt&&Ys(z,bt),mt}for(_t=l(_t);bt<F.length;bt++)Ke=X(_t,z,bt,F[bt],$),Ke!==null&&(e&&Ke.alternate!==null&&_t.delete(Ke.key===null?bt:Ke.key),U=m(Ke,U,bt),Pt===null?mt=Ke:Pt.sibling=Ke,Pt=Ke);return e&&_t.forEach(function(is){return i(z,is)}),Gt&&Ys(z,bt),mt}function Ct(z,U,F,$){if(F==null)throw Error(s(151));for(var mt=null,Pt=null,_t=U,bt=U=0,Ke=null,Wt=F.next();_t!==null&&!Wt.done;bt++,Wt=F.next()){_t.index>bt?(Ke=_t,_t=null):Ke=_t.sibling;var is=Q(z,_t,Wt.value,$);if(is===null){_t===null&&(_t=Ke);break}e&&_t&&is.alternate===null&&i(z,_t),U=m(is,U,bt),Pt===null?mt=is:Pt.sibling=is,Pt=is,_t=Ke}if(Wt.done)return a(z,_t),Gt&&Ys(z,bt),mt;if(_t===null){for(;!Wt.done;bt++,Wt=F.next())Wt=nt(z,Wt.value,$),Wt!==null&&(U=m(Wt,U,bt),Pt===null?mt=Wt:Pt.sibling=Wt,Pt=Wt);return Gt&&Ys(z,bt),mt}for(_t=l(_t);!Wt.done;bt++,Wt=F.next())Wt=X(_t,z,bt,Wt.value,$),Wt!==null&&(e&&Wt.alternate!==null&&_t.delete(Wt.key===null?bt:Wt.key),U=m(Wt,U,bt),Pt===null?mt=Wt:Pt.sibling=Wt,Pt=Wt);return e&&_t.forEach(function(d1){return i(z,d1)}),Gt&&Ys(z,bt),mt}function ve(z,U,F,$){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case f:t:{for(var mt=F.key;U!==null;){if(U.key===mt){if(mt=F.type,mt===p){if(U.tag===7){a(z,U.sibling),$=h(U,F.props.children),$.return=z,z=$;break t}}else if(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===it&&fv(mt)===U.type){a(z,U.sibling),$=h(U,F.props),Kl($,F),$.return=z,z=$;break t}a(z,U);break}else i(z,U);U=U.sibling}F.type===p?($=aa(F.props.children,z.mode,$,F.key),$.return=z,z=$):($=Dh(F.type,F.key,F.props,null,z.mode,$),Kl($,F),$.return=z,z=$)}return _(z);case d:t:{for(mt=F.key;U!==null;){if(U.key===mt)if(U.tag===4&&U.stateNode.containerInfo===F.containerInfo&&U.stateNode.implementation===F.implementation){a(z,U.sibling),$=h(U,F.children||[]),$.return=z,z=$;break t}else{a(z,U);break}else i(z,U);U=U.sibling}$=bm(F,z.mode,$),$.return=z,z=$}return _(z);case it:return mt=F._init,F=mt(F._payload),ve(z,U,F,$)}if(ut(F))return gt(z,U,F,$);if(Tt(F)){if(mt=Tt(F),typeof mt!="function")throw Error(s(150));return F=mt.call(F),Ct(z,U,F,$)}if(typeof F.then=="function")return ve(z,U,ch(F),$);if(F.$$typeof===x)return ve(z,U,Rh(z,F),$);hh(z,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,U!==null&&U.tag===6?(a(z,U.sibling),$=h(U,F),$.return=z,z=$):(a(z,U),$=Tm(F,z.mode,$),$.return=z,z=$),_(z)):a(z,U)}return function(z,U,F,$){try{Ql=0;var mt=ve(z,U,F,$);return uo=null,mt}catch(_t){if(_t===ql)throw _t;var Pt=Qn(29,_t,null,z.mode);return Pt.lanes=$,Pt.return=z,Pt}finally{}}}var Zs=dv(!0),mv=dv(!1),co=Qt(null),fh=Qt(0);function pv(e,i){e=ar,te(fh,e),te(co,i),ar=e|i.baseLanes}function Dd(){te(fh,ar),te(co,co.current)}function Id(){ar=fh.current,me(co),me(fh)}var Hn=Qt(null),Ti=null;function Br(e){var i=e.alternate;te(Ne,Ne.current&1),te(Hn,e),Ti===null&&(i===null||co.current!==null||i.memoizedState!==null)&&(Ti=e)}function gv(e){if(e.tag===22){if(te(Ne,Ne.current),te(Hn,e),Ti===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Ti=e)}}else jr()}function jr(){te(Ne,Ne.current),te(Hn,Hn.current)}function Xi(e){me(Hn),Ti===e&&(Ti=null),me(Ne)}var Ne=Qt(0);function dh(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tw=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},ew=r.unstable_scheduleCallback,nw=r.unstable_NormalPriority,Ue={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Md(){return{controller:new tw,data:new Map,refCount:0}}function Gl(e){e.refCount--,e.refCount===0&&ew(nw,function(){e.controller.abort()})}var Wl=null,Od=0,ho=0,fo=null;function iw(e,i){if(Wl===null){var a=Wl=[];Od=0,ho=km(),fo={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Od++,i.then(yv,yv),i}function yv(){if(--Od===0&&Wl!==null){fo!==null&&(fo.status="fulfilled");var e=Wl;Wl=null,ho=0,fo=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function rw(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var vv=S.S;S.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&iw(e,i),vv!==null&&vv(e,i)};var Js=Qt(null);function Vd(){var e=Js.current;return e!==null?e:se.pooledCache}function mh(e,i){i===null?te(Js,Js.current):te(Js,i.pool)}function _v(){var e=Vd();return e===null?null:{parent:Ue._currentValue,pool:e}}var zr=0,Vt=null,ee=null,we=null,ph=!1,mo=!1,$s=!1,gh=0,Yl=0,po=null,sw=0;function Ee(){throw Error(s(321))}function Pd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Rn(e[a],i[a]))return!1;return!0}function Nd(e,i,a,l,h,m){return zr=m,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,S.H=e===null||e.memoizedState===null?ta:Hr,$s=!1,m=a(l,h),$s=!1,mo&&(m=Ev(i,a,l,h)),Av(e),m}function Av(e){S.H=bi;var i=ee!==null&&ee.next!==null;if(zr=0,we=ee=Vt=null,ph=!1,Yl=0,po=null,i)throw Error(s(300));e===null||Fe||(e=e.dependencies,e!==null&&wh(e)&&(Fe=!0))}function Ev(e,i,a,l){Vt=e;var h=0;do{if(mo&&(po=null),Yl=0,mo=!1,25<=h)throw Error(s(301));if(h+=1,we=ee=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=ea,m=i(a,l)}while(mo);return m}function aw(){var e=S.H,i=e.useState()[0];return i=typeof i.then=="function"?Xl(i):i,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Vt.flags|=1024),i}function Ud(){var e=gh!==0;return gh=0,e}function Ld(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function kd(e){if(ph){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}ph=!1}zr=0,we=ee=Vt=null,mo=!1,Yl=gh=0,po=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Vt.memoizedState=we=e:we=we.next=e,we}function Re(){if(ee===null){var e=Vt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var i=we===null?Vt.memoizedState:we.next;if(i!==null)we=i,ee=e;else{if(e===null)throw Vt.alternate===null?Error(s(467)):Error(s(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},we===null?Vt.memoizedState=we=e:we=we.next=e}return we}var yh;yh=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Xl(e){var i=Yl;return Yl+=1,po===null&&(po=[]),e=cv(po,e,i),i=Vt,(we===null?i.memoizedState:we.next)===null&&(i=i.alternate,S.H=i===null||i.memoizedState===null?ta:Hr),e}function vh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xl(e);if(e.$$typeof===x)return rn(e)}throw Error(s(438,String(e)))}function Bd(e){var i=null,a=Vt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Vt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yh(),Vt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=dt;return i.index++,a}function Zi(e,i){return typeof i=="function"?i(e):i}function _h(e){var i=Re();return jd(i,ee,e)}function jd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=e.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}i.baseQueue=h=m,l.pending=null}if(m=e.baseState,h===null)e.memoizedState=m;else{i=h.next;var T=_=null,C=null,k=i,Z=!1;do{var nt=k.lane&-536870913;if(nt!==k.lane?(Ht&nt)===nt:(zr&nt)===nt){var Q=k.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),nt===ho&&(Z=!0);else if((zr&Q)===Q){k=k.next,Q===ho&&(Z=!0);continue}else nt={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(T=C=nt,_=m):C=C.next=nt,Vt.lanes|=Q,Zr|=Q;nt=k.action,$s&&a(m,nt),m=k.hasEagerState?k.eagerState:a(m,nt)}else Q={lane:nt,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(T=C=Q,_=m):C=C.next=Q,Vt.lanes|=nt,Zr|=nt;k=k.next}while(k!==null&&k!==i);if(C===null?_=m:C.next=T,!Rn(m,e.memoizedState)&&(Fe=!0,Z&&(a=fo,a!==null)))throw a;e.memoizedState=m,e.baseState=_,e.baseQueue=C,l.lastRenderedState=m}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function zd(e){var i=Re(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,m=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do m=e(m,_.action),_=_.next;while(_!==h);Rn(m,i.memoizedState)||(Fe=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),a.lastRenderedState=m}return[m,l]}function Tv(e,i,a){var l=Vt,h=Re(),m=Gt;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Rn((ee||h).memoizedState,a);if(_&&(h.memoizedState=a,Fe=!0),h=h.queue,Fd(wv.bind(null,l,h,e),[e]),h.getSnapshot!==i||_||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,go(9,Sv.bind(null,l,h,a,i),{destroy:void 0},null),se===null)throw Error(s(349));m||zr&60||bv(l,i,a)}return a}function bv(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Vt.updateQueue,i===null?(i=yh(),Vt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Sv(e,i,a,l){i.value=a,i.getSnapshot=l,Rv(i)&&Cv(e)}function wv(e,i,a){return a(function(){Rv(i)&&Cv(e)})}function Rv(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Rn(e,a)}catch{return!0}}function Cv(e){var i=kr(e,2);i!==null&&pn(i,e,2)}function Hd(e){var i=An();if(typeof e=="function"){var a=e;if(e=a(),$s){ci(!0);try{a()}finally{ci(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},i}function xv(e,i,a,l){return e.baseState=a,jd(e,ee,typeof l=="function"?l:Zi)}function ow(e,i,a,l,h){if(Th(e))throw Error(s(485));if(e=i.action,e!==null){var m={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=i.pending,a===null?(m.next=i.pending=m,Dv(i,m)):(m.next=a.next,i.pending=a.next=m)}}function Dv(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var m=S.T,_={};S.T=_;try{var T=a(h,l),C=S.S;C!==null&&C(_,T),Iv(e,i,T)}catch(k){qd(e,i,k)}finally{S.T=m}}else try{m=a(h,l),Iv(e,i,m)}catch(k){qd(e,i,k)}}function Iv(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Mv(e,i,l)},function(l){return qd(e,i,l)}):Mv(e,i,a)}function Mv(e,i,a){i.status="fulfilled",i.value=a,Ov(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Dv(e,a)))}function qd(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ov(i),i=i.next;while(i!==l)}e.action=null}function Ov(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Vv(e,i){return i}function Pv(e,i){if(Gt){var a=se.formState;if(a!==null){t:{var l=Vt;if(Gt){if(Ye){e:{for(var h=Ye,m=Ei;h.nodeType!==8;){if(!m){h=null;break e}if(h=ii(h.nextSibling),h===null){h=null;break e}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ye=ii(h.nextSibling),l=h.data==="F!";break t}}Xs(l)}l=!1}l&&(i=a[0])}}return a=An(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vv,lastRenderedState:i},a.queue=l,a=Jv.bind(null,Vt,l),l.dispatch=a,l=Hd(!1),m=Yd.bind(null,Vt,!1,l.queue),l=An(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=ow.bind(null,Vt,h,m,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Nv(e){var i=Re();return Uv(i,ee,e)}function Uv(e,i,a){i=jd(e,i,Vv)[0],e=_h(Zi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Xl(i):i;var l=Re(),h=l.queue,m=h.dispatch;return a!==l.memoizedState&&(Vt.flags|=2048,go(9,lw.bind(null,h,a),{destroy:void 0},null)),[i,m,e]}function lw(e,i){e.action=i}function Lv(e){var i=Re(),a=ee;if(a!==null)return Uv(i,a,e);Re(),i=i.memoizedState,a=Re();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function go(e,i,a,l){return e={tag:e,create:i,inst:a,deps:l,next:null},i=Vt.updateQueue,i===null&&(i=yh(),Vt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function kv(){return Re().memoizedState}function Ah(e,i,a,l){var h=An();Vt.flags|=e,h.memoizedState=go(1|i,a,{destroy:void 0},l===void 0?null:l)}function Eh(e,i,a,l){var h=Re();l=l===void 0?null:l;var m=h.memoizedState.inst;ee!==null&&l!==null&&Pd(l,ee.memoizedState.deps)?h.memoizedState=go(i,a,m,l):(Vt.flags|=e,h.memoizedState=go(1|i,a,m,l))}function Bv(e,i){Ah(8390656,8,e,i)}function Fd(e,i){Eh(2048,8,e,i)}function jv(e,i){return Eh(4,2,e,i)}function zv(e,i){return Eh(4,4,e,i)}function Hv(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function qv(e,i,a){a=a!=null?a.concat([e]):null,Eh(4,4,Hv.bind(null,i,e),a)}function Qd(){}function Fv(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Pd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Qv(e,i){var a=Re();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Pd(i,l[1]))return l[0];if(l=e(),$s){ci(!0);try{e()}finally{ci(!1)}}return a.memoizedState=[l,i],l}function Kd(e,i,a){return a===void 0||zr&1073741824?e.memoizedState=i:(e.memoizedState=a,e=G0(),Vt.lanes|=e,Zr|=e,a)}function Kv(e,i,a,l){return Rn(a,i)?a:co.current!==null?(e=Kd(e,a,l),Rn(e,i)||(Fe=!0),e):zr&42?(e=G0(),Vt.lanes|=e,Zr|=e,i):(Fe=!0,e.memoizedState=a)}function Gv(e,i,a,l,h){var m=ct.p;ct.p=m!==0&&8>m?m:8;var _=S.T,T={};S.T=T,Yd(e,!1,i,a);try{var C=h(),k=S.S;if(k!==null&&k(T,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=rw(C,l);Zl(e,i,Z,In(e))}else Zl(e,i,l,In(e))}catch(nt){Zl(e,i,{then:function(){},status:"rejected",reason:nt},In())}finally{ct.p=m,S.T=_}}function uw(){}function Gd(e,i,a,l){if(e.tag!==5)throw Error(s(476));var h=Wv(e).queue;Gv(e,h,i,Mt,a===null?uw:function(){return Yv(e),a(l)})}function Wv(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Mt,baseState:Mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:Mt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Yv(e){var i=Wv(e).next.queue;Zl(e,i,{},In())}function Wd(){return rn(yu)}function Xv(){return Re().memoizedState}function Zv(){return Re().memoizedState}function cw(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();e=Qr(a);var l=Kr(i,e,a);l!==null&&(pn(l,i,a),tu(l,i,a)),i={cache:Md()},e.payload=i;return}i=i.return}}function hw(e,i,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Th(e)?$v(i,a):(a=Sd(e,i,a,l),a!==null&&(pn(a,e,l),t0(a,i,l)))}function Jv(e,i,a){var l=In();Zl(e,i,a,l)}function Zl(e,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Th(e))$v(i,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var _=i.lastRenderedState,T=m(_,a);if(h.hasEagerState=!0,h.eagerState=T,Rn(T,_))return sh(e,i,h,0),se===null&&rh(),!1}catch{}finally{}if(a=Sd(e,i,h,l),a!==null)return pn(a,e,l),t0(a,i,l),!0}return!1}function Yd(e,i,a,l){if(l={lane:2,revertLane:km(),action:l,hasEagerState:!1,eagerState:null,next:null},Th(e)){if(i)throw Error(s(479))}else i=Sd(e,a,l,2),i!==null&&pn(i,e,2)}function Th(e){var i=e.alternate;return e===Vt||i!==null&&i===Vt}function $v(e,i){mo=ph=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function t0(e,i,a){if(a&4194176){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,xr(e,a)}}var bi={readContext:rn,use:vh,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee};bi.useCacheRefresh=Ee,bi.useMemoCache=Ee,bi.useHostTransitionStatus=Ee,bi.useFormState=Ee,bi.useActionState=Ee,bi.useOptimistic=Ee;var ta={readContext:rn,use:vh,useCallback:function(e,i){return An().memoizedState=[e,i===void 0?null:i],e},useContext:rn,useEffect:Bv,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Ah(4194308,4,Hv.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Ah(4194308,4,e,i)},useInsertionEffect:function(e,i){Ah(4,2,e,i)},useMemo:function(e,i){var a=An();i=i===void 0?null:i;var l=e();if($s){ci(!0);try{e()}finally{ci(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=An();if(a!==void 0){var h=a(i);if($s){ci(!0);try{a(i)}finally{ci(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=hw.bind(null,Vt,e),[l.memoizedState,e]},useRef:function(e){var i=An();return e={current:e},i.memoizedState=e},useState:function(e){e=Hd(e);var i=e.queue,a=Jv.bind(null,Vt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Qd,useDeferredValue:function(e,i){var a=An();return Kd(a,e,i)},useTransition:function(){var e=Hd(!1);return e=Gv.bind(null,Vt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=Vt,h=An();if(Gt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),se===null)throw Error(s(349));Ht&60||bv(l,i,a)}h.memoizedState=a;var m={value:a,getSnapshot:i};return h.queue=m,Bv(wv.bind(null,l,m,e),[e]),l.flags|=2048,go(9,Sv.bind(null,l,m,a,i),{destroy:void 0},null),a},useId:function(){var e=An(),i=se.identifierPrefix;if(Gt){var a=Yi,l=Wi;a=(l&~(1<<32-hn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=gh++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=sw++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return An().memoizedState=cw.bind(null,Vt)}};ta.useMemoCache=Bd,ta.useHostTransitionStatus=Wd,ta.useFormState=Pv,ta.useActionState=Pv,ta.useOptimistic=function(e){var i=An();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yd.bind(null,Vt,!0,a),a.dispatch=i,[e,i]};var Hr={readContext:rn,use:vh,useCallback:Fv,useContext:rn,useEffect:Fd,useImperativeHandle:qv,useInsertionEffect:jv,useLayoutEffect:zv,useMemo:Qv,useReducer:_h,useRef:kv,useState:function(){return _h(Zi)},useDebugValue:Qd,useDeferredValue:function(e,i){var a=Re();return Kv(a,ee.memoizedState,e,i)},useTransition:function(){var e=_h(Zi)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:Xl(e),i]},useSyncExternalStore:Tv,useId:Xv};Hr.useCacheRefresh=Zv,Hr.useMemoCache=Bd,Hr.useHostTransitionStatus=Wd,Hr.useFormState=Nv,Hr.useActionState=Nv,Hr.useOptimistic=function(e,i){var a=Re();return xv(a,ee,e,i)};var ea={readContext:rn,use:vh,useCallback:Fv,useContext:rn,useEffect:Fd,useImperativeHandle:qv,useInsertionEffect:jv,useLayoutEffect:zv,useMemo:Qv,useReducer:zd,useRef:kv,useState:function(){return zd(Zi)},useDebugValue:Qd,useDeferredValue:function(e,i){var a=Re();return ee===null?Kd(a,e,i):Kv(a,ee.memoizedState,e,i)},useTransition:function(){var e=zd(Zi)[0],i=Re().memoizedState;return[typeof e=="boolean"?e:Xl(e),i]},useSyncExternalStore:Tv,useId:Xv};ea.useCacheRefresh=Zv,ea.useMemoCache=Bd,ea.useHostTransitionStatus=Wd,ea.useFormState=Lv,ea.useActionState=Lv,ea.useOptimistic=function(e,i){var a=Re();return ee!==null?xv(a,ee,e,i):(a.baseState=e,[e,a.queue.dispatch])};function Xd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Zd={isMounted:function(e){return(e=e._reactInternals)?At(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var l=In(),h=Qr(l);h.payload=i,a!=null&&(h.callback=a),i=Kr(e,h,l),i!==null&&(pn(i,e,l),tu(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=In(),h=Qr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Kr(e,h,l),i!==null&&(pn(i,e,l),tu(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=In(),l=Qr(a);l.tag=2,i!=null&&(l.callback=i),i=Kr(e,l,a),i!==null&&(pn(i,e,a),tu(i,e,a))}};function e0(e,i,a,l,h,m,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,_):i.prototype&&i.prototype.isPureReactComponent?!kl(a,l)||!kl(h,m):!0}function n0(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Zd.enqueueReplaceState(i,i.state,null)}function na(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=I({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var bh=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function i0(e){bh(e)}function r0(e){console.error(e)}function s0(e){bh(e)}function Sh(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function a0(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jd(e,i,a){return a=Qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sh(e,i)},a}function o0(e){return e=Qr(e),e.tag=3,e}function l0(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;e.payload=function(){return h(m)},e.callback=function(){a0(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){a0(i,a,l),typeof h!="function"&&(Jr===null?Jr=new Set([this]):Jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function fw(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&$l(i,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return Ti===null?Vm():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===xd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Nm(e,l,h)),!1;case 22:return a.flags|=65536,l===xd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Nm(e,l,h)),!1}throw Error(s(435,a.tag))}return Nm(e,l,h),Vm(),!1}if(Gt)return i=Hn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Cd&&(e=Error(s(422),{cause:l}),Hl(Bn(e,a)))):(l!==Cd&&(i=Error(s(423),{cause:l}),Hl(Bn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Bn(l,a),h=Jd(e.stateNode,l,h),dm(e,h),ye!==4&&(ye=2)),!1;var m=Error(s(520),{cause:l});if(m=Bn(m,a),lu===null?lu=[m]:lu.push(m),ye!==4&&(ye=2),i===null)return!0;l=Bn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Jd(a.stateNode,l,e),dm(a,e),!1;case 1:if(i=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jr===null||!Jr.has(m))))return a.flags|=65536,h&=-h,a.lanes|=h,h=o0(h),l0(h,e,a,l),dm(a,h),!1}a=a.return}while(a!==null);return!1}var u0=Error(s(461)),Fe=!1;function Xe(e,i,a,l){i.child=e===null?mv(i,null,a,l):Zs(i,e.child,a,l)}function c0(e,i,a,l,h){a=a.render;var m=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ra(i),l=Nd(e,i,a,_,m,h),T=Ud(),e!==null&&!Fe?(Ld(e,i,h),Ji(e,i,h)):(Gt&&T&&wd(i),i.flags|=1,Xe(e,i,l,h),i.child)}function h0(e,i,a,l,h){if(e===null){var m=a.type;return typeof m=="function"&&!Em(m)&&m.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=m,f0(e,i,m,l,h)):(e=Dh(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(m=e.child,!om(e,h)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:kl,a(_,l)&&e.ref===i.ref)return Ji(e,i,h)}return i.flags|=1,e=Xr(m,l),e.ref=i.ref,e.return=i,i.child=e}function f0(e,i,a,l,h){if(e!==null){var m=e.memoizedProps;if(kl(m,l)&&e.ref===i.ref)if(Fe=!1,i.pendingProps=l=m,om(e,h))e.flags&131072&&(Fe=!0);else return i.lanes=e.lanes,Ji(e,i,h)}return $d(e,i,a,l,h)}function d0(e,i,a){var l=i.pendingProps,h=l.children,m=(i.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(Jl(e,i),l.mode==="hidden"||m){if(i.flags&128){if(l=_!==null?_.baseLanes|a:a,e!==null){for(h=i.child=e.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;i.childLanes=m&~l}else i.childLanes=0,i.child=null;return m0(e,i,l,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&mh(i,_!==null?_.cachePool:null),_!==null?pv(i,_):Dd(),gv(i);else return i.lanes=i.childLanes=536870912,m0(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(mh(i,_.cachePool),pv(i,_),jr(),i.memoizedState=null):(e!==null&&mh(i,null),Dd(),jr());return Xe(e,i,h,a),i.child}function m0(e,i,a,l){var h=Vd();return h=h===null?null:{parent:Ue._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&mh(i,null),Dd(),gv(i),e!==null&&$l(e,i,l,!0),null}function Jl(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function $d(e,i,a,l,h){return ra(i),a=Nd(e,i,a,l,void 0,h),l=Ud(),e!==null&&!Fe?(Ld(e,i,h),Ji(e,i,h)):(Gt&&l&&wd(i),i.flags|=1,Xe(e,i,a,h),i.child)}function p0(e,i,a,l,h,m){return ra(i),i.updateQueue=null,a=Ev(i,l,a,h),Av(e),l=Ud(),e!==null&&!Fe?(Ld(e,i,m),Ji(e,i,m)):(Gt&&l&&wd(i),i.flags|=1,Xe(e,i,a,m),i.child)}function g0(e,i,a,l,h){if(ra(i),i.stateNode===null){var m=ao,_=a.contextType;typeof _=="object"&&_!==null&&(m=rn(_)),m=new a(l,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Zd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=l,m.state=i.memoizedState,m.refs={},hm(i),_=a.contextType,m.context=typeof _=="object"&&_!==null?rn(_):ao,m.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Xd(i,a,_,l),m.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Zd.enqueueReplaceState(m,m.state,null),nu(i,l,m,h),eu(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){m=i.stateNode;var T=i.memoizedProps,C=na(a,T);m.props=C;var k=m.context,Z=a.contextType;_=ao,typeof Z=="object"&&Z!==null&&(_=rn(Z));var nt=a.getDerivedStateFromProps;Z=typeof nt=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||k!==_)&&n0(i,m,l,_),Fr=!1;var Q=i.memoizedState;m.state=Q,nu(i,l,m,h),eu(),k=i.memoizedState,T||Q!==k||Fr?(typeof nt=="function"&&(Xd(i,a,nt,l),k=i.memoizedState),(C=Fr||e0(i,a,C,l,Q,k,_))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),m.props=l,m.state=k,m.context=_,l=C):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{m=i.stateNode,fm(e,i),_=i.memoizedProps,Z=na(a,_),m.props=Z,nt=i.pendingProps,Q=m.context,k=a.contextType,C=ao,typeof k=="object"&&k!==null&&(C=rn(k)),T=a.getDerivedStateFromProps,(k=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==nt||Q!==C)&&n0(i,m,l,C),Fr=!1,Q=i.memoizedState,m.state=Q,nu(i,l,m,h),eu();var X=i.memoizedState;_!==nt||Q!==X||Fr||e!==null&&e.dependencies!==null&&wh(e.dependencies)?(typeof T=="function"&&(Xd(i,a,T,l),X=i.memoizedState),(Z=Fr||e0(i,a,Z,l,Q,X,C)||e!==null&&e.dependencies!==null&&wh(e.dependencies))?(k||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,X,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,X,C)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=X),m.props=l,m.state=X,m.context=C,l=Z):(typeof m.componentDidUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),l=!1)}return m=l,Jl(e,i),l=(i.flags&128)!==0,m||l?(m=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,e!==null&&l?(i.child=Zs(i,e.child,null,h),i.child=Zs(i,null,a,h)):Xe(e,i,a,h),i.memoizedState=m.state,e=i.child):e=Ji(e,i,h),e}function y0(e,i,a,l){return zl(),i.flags|=256,Xe(e,i,a,l),i.child}var tm={dehydrated:null,treeContext:null,retryLane:0};function em(e){return{baseLanes:e,cachePool:_v()}}function nm(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Kn),e}function v0(e,i,a){var l=i.pendingProps,h=!1,m=(i.flags&128)!==0,_;if((_=m)||(_=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Gt){if(h?Br(i):jr(),Gt){var T=Ye,C;if(C=T){t:{for(C=T,T=Ei;C.nodeType!==8;){if(!T){T=null;break t}if(C=ii(C.nextSibling),C===null){T=null;break t}}T=C}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ws!==null?{id:Wi,overflow:Yi}:null,retryLane:536870912},C=Qn(18,null,null,0),C.stateNode=T,C.return=i,i.child=C,mn=i,Ye=null,C=!0):C=!1}C||Xs(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?i.lanes=16:i.lanes=536870912,null;Xi(i)}return T=l.children,l=l.fallback,h?(jr(),h=i.mode,T=rm({mode:"hidden",children:T},h),l=aa(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=em(a),h.childLanes=nm(e,_,a),i.memoizedState=tm,l):(Br(i),im(i,T))}if(C=e.memoizedState,C!==null&&(T=C.dehydrated,T!==null)){if(m)i.flags&256?(Br(i),i.flags&=-257,i=sm(e,i,a)):i.memoizedState!==null?(jr(),i.child=e.child,i.flags|=128,i=null):(jr(),h=l.fallback,T=i.mode,l=rm({mode:"visible",children:l.children},T),h=aa(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Zs(i,e.child,null,a),l=i.child,l.memoizedState=em(a),l.childLanes=nm(e,_,a),i.memoizedState=tm,i=h);else if(Br(i),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var k=_.dgst;_=k,l=Error(s(419)),l.stack="",l.digest=_,Hl({value:l,source:null,stack:null}),i=sm(e,i,a)}else if(Fe||$l(e,i,a,!1),_=(a&e.childLanes)!==0,Fe||_){if(_=se,_!==null){if(l=a&-a,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(_.suspendedLanes|a)?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,kr(e,l),pn(_,e,l),u0}T.data==="$?"||Vm(),i=sm(e,i,a)}else T.data==="$?"?(i.flags|=128,i.child=e.child,i=Cw.bind(null,e),T._reactRetry=i,i=null):(e=C.treeContext,Ye=ii(T.nextSibling),mn=i,Gt=!0,ei=null,Ei=!1,e!==null&&(jn[zn++]=Wi,jn[zn++]=Yi,jn[zn++]=Ws,Wi=e.id,Yi=e.overflow,Ws=i),i=im(i,l.children),i.flags|=4096);return i}return h?(jr(),h=l.fallback,T=i.mode,C=e.child,k=C.sibling,l=Xr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,k!==null?h=Xr(k,h):(h=aa(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=e.child.memoizedState,T===null?T=em(a):(C=T.cachePool,C!==null?(k=Ue._currentValue,C=C.parent!==k?{parent:k,pool:k}:C):C=_v(),T={baseLanes:T.baseLanes|a,cachePool:C}),h.memoizedState=T,h.childLanes=nm(e,_,a),i.memoizedState=tm,l):(Br(i),a=e.child,e=a.sibling,a=Xr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function im(e,i){return i=rm({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function rm(e,i){return F0(e,i,0,null)}function sm(e,i,a){return Zs(i,e.child,null,a),e=im(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function _0(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),um(e.return,i,a)}function am(e,i,a,l,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=h)}function A0(e,i,a){var l=i.pendingProps,h=l.revealOrder,m=l.tail;if(Xe(e,i,l.children,a),l=Ne.current,l&2)l=l&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_0(e,a,i);else if(e.tag===19)_0(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(te(Ne,l),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&dh(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),am(i,!1,h,a,m);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&dh(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}am(i,!0,a,null,m);break;case"together":am(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ji(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Zr|=i.lanes,!(a&i.childLanes))if(e!==null){if($l(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Xr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Xr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function om(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&wh(e)))}function dw(e,i,a){switch(i.tag){case 3:Tr(i,i.stateNode.containerInfo),qr(i,Ue,e.memoizedState.cache),zl();break;case 27:case 5:yl(i);break;case 4:Tr(i,i.stateNode.containerInfo);break;case 10:qr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Br(i),i.flags|=128,null):a&i.child.childLanes?v0(e,i,a):(Br(i),e=Ji(e,i,a),e!==null?e.sibling:null);Br(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||($l(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return A0(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Ne,Ne.current),l)break;return null;case 22:case 23:return i.lanes=0,d0(e,i,a);case 24:qr(i,Ue,e.memoizedState.cache)}return Ji(e,i,a)}function E0(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Fe=!0;else{if(!om(e,a)&&!(i.flags&128))return Fe=!1,dw(e,i,a);Fe=!!(e.flags&131072)}else Fe=!1,Gt&&i.flags&1048576&&sv(i,lh,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Em(l)?(e=na(l,e),i.tag=1,i=g0(null,i,l,e,a)):(i.tag=0,i=$d(null,i,l,e,a));else{if(l!=null){if(h=l.$$typeof,h===V){i.tag=11,i=c0(null,i,l,e,a);break t}else if(h===G){i.tag=14,i=h0(null,i,l,e,a);break t}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return $d(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=na(l,i.pendingProps),g0(e,i,l,h,a);case 3:t:{if(Tr(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var m=i.pendingProps;h=i.memoizedState,l=h.element,fm(e,i),nu(i,m,null,a);var _=i.memoizedState;if(m=_.cache,qr(i,Ue,m),m!==h.cache&&cm(i,[Ue],a,!0),eu(),m=_.element,h.isDehydrated)if(h={element:m,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=y0(e,i,m,a);break t}else if(m!==l){l=Bn(Error(s(424)),i),Hl(l),i=y0(e,i,m,a);break t}else for(Ye=ii(i.stateNode.containerInfo.firstChild),mn=i,Gt=!0,ei=null,Ei=!0,a=mv(i,null,m,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(zl(),m===l){i=Ji(e,i,a);break t}Xe(e,i,m,a)}i=i.child}return i;case 26:return Jl(e,i),e===null?(a=S_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Gt||(a=i.type,e=i.pendingProps,l=zh(Mn.current).createElement(a),l[ze]=i,l[Oe]=e,Ze(l,a,e),le(l),i.stateNode=l):i.memoizedState=S_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return yl(i),e===null&&Gt&&(l=i.stateNode=E_(i.type,i.pendingProps,Mn.current),mn=i,Ei=!0,Ye=ii(l.firstChild)),l=i.pendingProps.children,e!==null||Gt?Xe(e,i,l,a):i.child=Zs(i,null,l,a),Jl(e,i),i.child;case 5:return e===null&&Gt&&((h=l=Ye)&&(l=qw(l,i.type,i.pendingProps,Ei),l!==null?(i.stateNode=l,mn=i,Ye=ii(l.firstChild),Ei=!1,h=!0):h=!1),h||Xs(i)),yl(i),h=i.type,m=i.pendingProps,_=e!==null?e.memoizedProps:null,l=m.children,Gm(h,m)?l=null:_!==null&&Gm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Nd(e,i,aw,null,null,a),yu._currentValue=h),Jl(e,i),Xe(e,i,l,a),i.child;case 6:return e===null&&Gt&&((e=a=Ye)&&(a=Fw(a,i.pendingProps,Ei),a!==null?(i.stateNode=a,mn=i,Ye=null,e=!0):e=!1),e||Xs(i)),null;case 13:return v0(e,i,a);case 4:return Tr(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Zs(i,null,l,a):Xe(e,i,l,a),i.child;case 11:return c0(e,i,i.type,i.pendingProps,a);case 7:return Xe(e,i,i.pendingProps,a),i.child;case 8:return Xe(e,i,i.pendingProps.children,a),i.child;case 12:return Xe(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qr(i,i.type,l.value),Xe(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ra(i),h=rn(h),l=l(h),i.flags|=1,Xe(e,i,l,a),i.child;case 14:return h0(e,i,i.type,i.pendingProps,a);case 15:return f0(e,i,i.type,i.pendingProps,a);case 19:return A0(e,i,a);case 22:return d0(e,i,a);case 24:return ra(i),l=rn(Ue),e===null?(h=Vd(),h===null&&(h=se,m=Md(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=a),h=m),i.memoizedState={parent:l,cache:h},hm(i),qr(i,Ue,h)):(e.lanes&a&&(fm(e,i),nu(i,null,null,a),eu()),h=e.memoizedState,m=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),qr(i,Ue,l)):(l=m.cache,qr(i,Ue,l),l!==h.cache&&cm(i,[Ue],a,!0))),Xe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var lm=Qt(null),ia=null,$i=null;function qr(e,i,a){te(lm,i._currentValue),i._currentValue=a}function tr(e){e._currentValue=lm.current,me(lm)}function um(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function cm(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;t:for(;m!==null;){var T=m;m=h;for(var C=0;C<i.length;C++)if(T.context===i[C]){m.lanes|=a,T=m.alternate,T!==null&&(T.lanes|=a),um(m.return,a,e),l||(_=null);break t}m=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),um(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function $l(e,i,a,l){e=null;for(var h=i,m=!1;h!==null;){if(!m){if(h.flags&524288)m=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;Rn(h.pendingProps.value,_.value)||(e!==null?e.push(T):e=[T])}}else if(h===Er.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yu):e=[yu])}h=h.return}e!==null&&cm(i,e,a,l),i.flags|=262144}function wh(e){for(e=e.firstContext;e!==null;){if(!Rn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ra(e){ia=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function rn(e){return T0(ia,e)}function Rh(e,i){return ia===null&&ra(e),T0(e,i)}function T0(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(e===null)throw Error(s(308));$i=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else $i=$i.next=i;return a}var Fr=!1;function hm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fm(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Kr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,ce&2){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ah(e),iv(e,null,a),i}return sh(e,l,i,a),ah(e)}function tu(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,xr(e,a)}}function dm(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?h=m=i:m=m.next=i}else h=m=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var mm=!1;function eu(){if(mm){var e=fo;if(e!==null)throw e}}function nu(e,i,a,l){mm=!1;var h=e.updateQueue;Fr=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var C=T,k=C.next;C.next=null,_===null?m=k:_.next=k,_=C;var Z=e.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=k:T.next=k,Z.lastBaseUpdate=C))}if(m!==null){var nt=h.baseState;_=0,Z=k=C=null,T=m;do{var Q=T.lane&-536870913,X=Q!==T.lane;if(X?(Ht&Q)===Q:(l&Q)===Q){Q!==0&&Q===ho&&(mm=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var gt=e,Ct=T;Q=i;var ve=a;switch(Ct.tag){case 1:if(gt=Ct.payload,typeof gt=="function"){nt=gt.call(ve,nt,Q);break t}nt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Ct.payload,Q=typeof gt=="function"?gt.call(ve,nt,Q):gt,Q==null)break t;nt=I({},nt,Q);break t;case 2:Fr=!0}}Q=T.callback,Q!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(k=Z=X,C=nt):Z=Z.next=X,_|=Q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;X=T,T=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);Z===null&&(C=nt),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),Zr|=_,e.lanes=_,e.memoizedState=nt}}function b0(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function S0(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)b0(a[e],i)}function iu(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){ie(i,i.return,T)}}function Gr(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&e)===e){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var C=a;try{T()}catch(k){ie(h,C,k)}}}l=l.next}while(l!==m)}}catch(k){ie(i,i.return,k)}}function w0(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{S0(i,a)}catch(l){ie(e,e.return,l)}}}function R0(e,i,a){a.props=na(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,i,l)}}function sa(e,i){try{var a=e.ref;if(a!==null){var l=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(m){ie(e,i,m)}}function Cn(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(e,i,h)}else a.current=null}function C0(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ie(e,e.return,h)}}function x0(e,i,a){try{var l=e.stateNode;kw(l,e.type,a,i),l[Oe]=i}catch(h){ie(e,e.return,h)}}function D0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function pm(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||D0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gm(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=jh));else if(l!==4&&l!==27&&(e=e.child,e!==null))for(gm(e,i,a),e=e.sibling;e!==null;)gm(e,i,a),e=e.sibling}function Ch(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&l!==27&&(e=e.child,e!==null))for(Ch(e,i,a),e=e.sibling;e!==null;)Ch(e,i,a),e=e.sibling}var er=!1,ge=!1,ym=!1,I0=typeof WeakSet=="function"?WeakSet:Set,Qe=null,M0=!1;function mw(e,i){if(e=e.containerInfo,Qm=Gh,e=Wy(e),_d(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break t}var _=0,T=-1,C=-1,k=0,Z=0,nt=e,Q=null;e:for(;;){for(var X;nt!==a||h!==0&&nt.nodeType!==3||(T=_+h),nt!==m||l!==0&&nt.nodeType!==3||(C=_+l),nt.nodeType===3&&(_+=nt.nodeValue.length),(X=nt.firstChild)!==null;)Q=nt,nt=X;for(;;){if(nt===e)break e;if(Q===a&&++k===h&&(T=_),Q===m&&++Z===l&&(C=_),(X=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=X}a=T===-1||C===-1?null:{start:T,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Km={focusedElem:e,selectionRange:a},Gh=!1,Qe=i;Qe!==null;)if(i=Qe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Qe=e;else for(;Qe!==null;){switch(i=Qe,m=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&m!==null){e=void 0,a=i,h=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var gt=na(a.type,h,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(gt,m),l.__reactInternalSnapshotBeforeUpdate=e}catch(Ct){ie(a,a.return,Ct)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Xm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Qe=e;break}Qe=i.return}return gt=M0,M0=!1,gt}function O0(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(e,a),l&4&&iu(5,a);break;case 1:if(ir(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(T){ie(a,a.return,T)}else{var h=na(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(T){ie(a,a.return,T)}}l&64&&w0(a),l&512&&sa(a,a.return);break;case 3:if(ir(e,a),l&64&&(l=a.updateQueue,l!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{S0(l,e)}catch(T){ie(a,a.return,T)}}break;case 26:ir(e,a),l&512&&sa(a,a.return);break;case 27:case 5:ir(e,a),i===null&&l&4&&C0(a),l&512&&sa(a,a.return);break;case 12:ir(e,a);break;case 13:ir(e,a),l&4&&N0(e,a);break;case 22:if(h=a.memoizedState!==null||er,!h){i=i!==null&&i.memoizedState!==null||ge;var m=er,_=ge;er=h,(ge=i)&&!_?Wr(e,a,(a.subtreeFlags&8772)!==0):ir(e,a),er=m,ge=_}l&512&&(a.memoizedProps.mode==="manual"?sa(a,a.return):Cn(a,a.return));break;default:ir(e,a)}}function V0(e){var i=e.alternate;i!==null&&(e.alternate=null,V0(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Ns(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ce=null,xn=!1;function nr(e,i,a){for(a=a.child;a!==null;)P0(e,i,a),a=a.sibling}function P0(e,i,a){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(br,a)}catch{}switch(a.tag){case 26:ge||Cn(a,i),nr(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ge||Cn(a,i);var l=Ce,h=xn;for(Ce=a.stateNode,nr(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ns(a),Ce=l,xn=h;break;case 5:ge||Cn(a,i);case 6:h=Ce;var m=xn;if(Ce=null,nr(e,i,a),Ce=h,xn=m,Ce!==null)if(xn)try{e=Ce,l=a.stateNode,e.nodeType===8?e.parentNode.removeChild(l):e.removeChild(l)}catch(_){ie(a,i,_)}else try{Ce.removeChild(a.stateNode)}catch(_){ie(a,i,_)}break;case 18:Ce!==null&&(xn?(i=Ce,a=a.stateNode,i.nodeType===8?Ym(i.parentNode,a):i.nodeType===1&&Ym(i,a),Eu(i)):Ym(Ce,a.stateNode));break;case 4:l=Ce,h=xn,Ce=a.stateNode.containerInfo,xn=!0,nr(e,i,a),Ce=l,xn=h;break;case 0:case 11:case 14:case 15:ge||Gr(2,a,i),ge||Gr(4,a,i),nr(e,i,a);break;case 1:ge||(Cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&R0(a,i,l)),nr(e,i,a);break;case 21:nr(e,i,a);break;case 22:ge||Cn(a,i),ge=(l=ge)||a.memoizedState!==null,nr(e,i,a),ge=l;break;default:nr(e,i,a)}}function N0(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Eu(e)}catch(a){ie(i,i.return,a)}}function pw(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new I0),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new I0),i;default:throw Error(s(435,e.tag))}}function vm(e,i){var a=pw(e);i.forEach(function(l){var h=xw.bind(null,e,l);a.has(l)||(a.add(l),l.then(h,h))})}function qn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],m=e,_=i,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:Ce=T.stateNode,xn=!1;break t;case 3:Ce=T.stateNode.containerInfo,xn=!0;break t;case 4:Ce=T.stateNode.containerInfo,xn=!0;break t}T=T.return}if(Ce===null)throw Error(s(160));P0(m,_,h),Ce=null,xn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)U0(i,e),i=i.sibling}var ni=null;function U0(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(i,e),Fn(e),l&4&&(Gr(3,e,e.return),iu(3,e),Gr(5,e,e.return));break;case 1:qn(i,e),Fn(e),l&512&&(ge||a===null||Cn(a,a.return)),l&64&&er&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(qn(i,e),Fn(e),l&512&&(ge||a===null||Cn(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ir]||m[ze]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),Ze(m,l,a),m[ze]=e,le(m),l=m;break t;case"link":var _=C_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(m=_[T],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}m=h.createElement(l),Ze(m,l,a),h.head.appendChild(m);break;case"meta":if(_=C_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(m=_[T],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}m=h.createElement(l),Ze(m,l,a),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[ze]=e,le(m),l=m}e.stateNode=l}else x_(h,e.type,e.stateNode);else e.stateNode=R_(h,l,e.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?x_(h,e.type,e.stateNode):R_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&x0(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&e.alternate===null){h=e.stateNode,m=e.memoizedProps;try{for(var C=h.firstChild;C;){var k=C.nextSibling,Z=C.nodeName;C[Ir]||Z==="HEAD"||Z==="BODY"||Z==="SCRIPT"||Z==="STYLE"||Z==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=k}for(var nt=e.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);Ze(h,nt,m),h[ze]=e,h[Oe]=m}catch(gt){ie(e,e.return,gt)}}case 5:if(qn(i,e),Fn(e),l&512&&(ge||a===null||Cn(a,a.return)),e.flags&32){h=e.stateNode;try{Pn(h,"")}catch(gt){ie(e,e.return,gt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,x0(e,h,a!==null?a.memoizedProps:h)),l&1024&&(ym=!0);break;case 6:if(qn(i,e),Fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(gt){ie(e,e.return,gt)}}break;case 3:if(Fh=null,h=ni,ni=Hh(i.containerInfo),qn(i,e),ni=h,Fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Eu(i.containerInfo)}catch(gt){ie(e,e.return,gt)}ym&&(ym=!1,L0(e));break;case 4:l=ni,ni=Hh(e.stateNode.containerInfo),qn(i,e),Fn(e),ni=l;break;case 12:qn(i,e),Fn(e);break;case 13:qn(i,e),Fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cm=vn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vm(e,l)));break;case 22:if(l&512&&(ge||a===null||Cn(a,a.return)),C=e.memoizedState!==null,k=a!==null&&a.memoizedState!==null,Z=er,nt=ge,er=Z||C,ge=nt||k,qn(i,e),ge=nt,er=Z,Fn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=er||ge,a===null||k||i||yo(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,C)m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=k.stateNode,T=k.memoizedProps.style;var X=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(gt){ie(k,k.return,gt)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=C?"":k.memoizedProps}catch(gt){ie(k,k.return,gt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,vm(e,a))));break;case 19:qn(i,e),Fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,vm(e,l)));break;case 21:break;default:qn(i,e),Fn(e)}}function Fn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(D0(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,m=pm(e);Ch(e,m,h);break;case 5:var _=l.stateNode;l.flags&32&&(Pn(_,""),l.flags&=-33);var T=pm(e);Ch(e,T,_);break;case 3:case 4:var C=l.stateNode.containerInfo,k=pm(e);gm(e,k,C);break;default:throw Error(s(161))}}}catch(Z){ie(e,e.return,Z)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function L0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;L0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function ir(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)O0(e,i.alternate,i),i=i.sibling}function yo(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Gr(4,i,i.return),yo(i);break;case 1:Cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&R0(i,i.return,a),yo(i);break;case 26:case 27:case 5:Cn(i,i.return),yo(i);break;case 22:Cn(i,i.return),i.memoizedState===null&&yo(i);break;default:yo(i)}e=e.sibling}}function Wr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,m=i,_=m.flags;switch(m.tag){case 0:case 11:case 15:Wr(h,m,a),iu(4,m);break;case 1:if(Wr(h,m,a),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){ie(l,l.return,k)}if(l=m,h=l.updateQueue,h!==null){var T=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)b0(C[h],T)}catch(k){ie(l,l.return,k)}}a&&_&64&&w0(m),sa(m,m.return);break;case 26:case 27:case 5:Wr(h,m,a),a&&l===null&&_&4&&C0(m),sa(m,m.return);break;case 12:Wr(h,m,a);break;case 13:Wr(h,m,a),a&&_&4&&N0(h,m);break;case 22:m.memoizedState===null&&Wr(h,m,a),sa(m,m.return);break;default:Wr(h,m,a)}i=i.sibling}}function _m(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Gl(a))}function Am(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Gl(e))}function Yr(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k0(e,i,a,l),i=i.sibling}function k0(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(e,i,a,l),h&2048&&iu(9,i);break;case 3:Yr(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Gl(e)));break;case 12:if(h&2048){Yr(e,i,a,l),e=i.stateNode;try{var m=i.memoizedProps,_=m.id,T=m.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ie(i,i.return,C)}}else Yr(e,i,a,l);break;case 23:break;case 22:m=i.stateNode,i.memoizedState!==null?m._visibility&4?Yr(e,i,a,l):ru(e,i):m._visibility&4?Yr(e,i,a,l):(m._visibility|=4,vo(e,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&_m(i.alternate,i);break;case 24:Yr(e,i,a,l),h&2048&&Am(i.alternate,i);break;default:Yr(e,i,a,l)}}function vo(e,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=e,_=i,T=a,C=l,k=_.flags;switch(_.tag){case 0:case 11:case 15:vo(m,_,T,C,h),iu(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&4?vo(m,_,T,C,h):ru(m,_):(Z._visibility|=4,vo(m,_,T,C,h)),h&&k&2048&&_m(_.alternate,_);break;case 24:vo(m,_,T,C,h),h&&k&2048&&Am(_.alternate,_);break;default:vo(m,_,T,C,h)}i=i.sibling}}function ru(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:ru(a,l),h&2048&&_m(l.alternate,l);break;case 24:ru(a,l),h&2048&&Am(l.alternate,l);break;default:ru(a,l)}i=i.sibling}}var su=8192;function _o(e){if(e.subtreeFlags&su)for(e=e.child;e!==null;)B0(e),e=e.sibling}function B0(e){switch(e.tag){case 26:_o(e),e.flags&su&&e.memoizedState!==null&&i1(ni,e.memoizedState,e.memoizedProps);break;case 5:_o(e);break;case 3:case 4:var i=ni;ni=Hh(e.stateNode.containerInfo),_o(e),ni=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=su,su=16777216,_o(e),su=i):_o(e));break;default:_o(e)}}function j0(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function au(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qe=l,H0(l,e)}j0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)z0(e),e=e.sibling}function z0(e){switch(e.tag){case 0:case 11:case 15:au(e),e.flags&2048&&Gr(9,e,e.return);break;case 3:au(e);break;case 12:au(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,xh(e)):au(e);break;default:au(e)}}function xh(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Qe=l,H0(l,e)}j0(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Gr(8,i,i.return),xh(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,xh(i));break;default:xh(i)}e=e.sibling}}function H0(e,i){for(;Qe!==null;){var a=Qe;switch(a.tag){case 0:case 11:case 15:Gr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Qe=l;else t:for(a=e;Qe!==null;){l=Qe;var h=l.sibling,m=l.return;if(V0(l),l===a){Qe=null;break t}if(h!==null){h.return=m,Qe=h;break t}Qe=m}}}function gw(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(e,i,a,l){return new gw(e,i,a,l)}function Em(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xr(e,i){var a=e.alternate;return a===null?(a=Qn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function q0(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Dh(e,i,a,l,h,m){var _=0;if(l=e,typeof e=="function")Em(e)&&(_=1);else if(typeof e=="string")_=e1(e,a,cn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case p:return aa(a.children,h,m,i);case g:_=8,h|=24;break;case A:return e=Qn(12,a,i,h|2),e.elementType=A,e.lanes=m,e;case j:return e=Qn(13,a,i,h),e.elementType=j,e.lanes=m,e;case L:return e=Qn(19,a,i,h),e.elementType=L,e.lanes=m,e;case J:return F0(a,h,m,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E:case x:_=10;break t;case w:_=9;break t;case V:_=11;break t;case G:_=14;break t;case it:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=Qn(_,a,i,h),i.elementType=e,i.type=l,i.lanes=m,i}function aa(e,i,a,l){return e=Qn(7,e,l,i),e.lanes=a,e}function F0(e,i,a,l){e=Qn(22,e,l,i),e.elementType=J,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=h._current;if(m===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=kr(m,2);_!==null&&(h._pendingVisibility|=2,pn(_,m,2))}},attach:function(){var m=h._current;if(m===null)throw Error(s(456));if(h._pendingVisibility&2){var _=kr(m,2);_!==null&&(h._pendingVisibility&=-3,pn(_,m,2))}}};return e.stateNode=h,e}function Tm(e,i,a){return e=Qn(6,e,null,i),e.lanes=a,e}function bm(e,i,a){return i=Qn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function rr(e){e.flags|=4}function Q0(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!D_(i)){if(i=Hn.current,i!==null&&((Ht&4194176)===Ht?Ti!==null:(Ht&62914560)!==Ht&&!(Ht&536870912)||i!==Ti))throw Fl=xd,lv;e.flags|=8192}}function Ih(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Rr():536870912,e.lanes|=i,Eo|=i)}function ou(e,i){if(!Gt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function yw(e,i,a){var l=i.pendingProps;switch(Rd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(i),null;case 1:return ue(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),tr(Ue),Li(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(jl(i)?rr(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,ei!==null&&(Mm(ei),ei=null))),ue(i),null;case 26:return a=i.memoizedState,e===null?(rr(i),a!==null?(ue(i),Q0(i,a)):(ue(i),i.flags&=-16777217)):a?a!==e.memoizedState?(rr(i),ue(i),Q0(i,a)):(ue(i),i.flags&=-16777217):(e.memoizedProps!==l&&rr(i),ue(i),i.flags&=-16777217),null;case 27:Ba(i),a=Mn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ue(i),null}e=cn.current,jl(i)?av(i):(e=E_(h,l,a),i.stateNode=e,rr(i))}return ue(i),null;case 5:if(Ba(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&rr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ue(i),null}if(e=cn.current,jl(i))av(i);else{switch(h=zh(Mn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}e[ze]=i,e[Oe]=l;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Ze(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&rr(i)}}return ue(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&rr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Mn.current,jl(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=mn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ze]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||p_(e.nodeValue,a)),e||Xs(i)}else e=zh(e).createTextNode(l),e[ze]=i,i.stateNode=e}return ue(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=jl(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ze]=i}else zl(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ue(i),h=!1}else ei!==null&&(Mm(ei),ei=null),h=!0;if(!h)return i.flags&256?(Xi(i),i):(Xi(i),null)}if(Xi(i),i.flags&128)return i.lanes=a,i;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Ih(i,i.updateQueue),ue(i),null;case 4:return Li(),e===null&&Hm(i.stateNode.containerInfo),ue(i),null;case 10:return tr(i.type),ue(i),null;case 19:if(me(Ne),h=i.memoizedState,h===null)return ue(i),null;if(l=(i.flags&128)!==0,m=h.rendering,m===null)if(l)ou(h,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(m=dh(e),m!==null){for(i.flags|=128,ou(h,!1),e=m.updateQueue,i.updateQueue=e,Ih(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)q0(a,e),a=a.sibling;return te(Ne,Ne.current&1|2),i.child}e=e.sibling}h.tail!==null&&vn()>Mh&&(i.flags|=128,l=!0,ou(h,!1),i.lanes=4194304)}else{if(!l)if(e=dh(m),e!==null){if(i.flags|=128,l=!0,e=e.updateQueue,i.updateQueue=e,Ih(i,e),ou(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Gt)return ue(i),null}else 2*vn()-h.renderingStartTime>Mh&&a!==536870912&&(i.flags|=128,l=!0,ou(h,!1),i.lanes=4194304);h.isBackwards?(m.sibling=i.child,i.child=m):(e=h.last,e!==null?e.sibling=m:i.child=m,h.last=m)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=vn(),i.sibling=null,e=Ne.current,te(Ne,l?e&1|2:e&1),i):(ue(i),null);case 22:case 23:return Xi(i),Id(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?a&536870912&&!(i.flags&128)&&(ue(i),i.subtreeFlags&6&&(i.flags|=8192)):ue(i),a=i.updateQueue,a!==null&&Ih(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&me(Js),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),tr(Ue),ue(i),null;case 25:return null}throw Error(s(156,i.tag))}function vw(e,i){switch(Rd(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return tr(Ue),Li(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ba(i),null;case 13:if(Xi(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zl()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return me(Ne),null;case 4:return Li(),null;case 10:return tr(i.type),null;case 22:case 23:return Xi(i),Id(),e!==null&&me(Js),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return tr(Ue),null;case 25:return null;default:return null}}function K0(e,i){switch(Rd(i),i.tag){case 3:tr(Ue),Li();break;case 26:case 27:case 5:Ba(i);break;case 4:Li();break;case 13:Xi(i);break;case 19:me(Ne);break;case 10:tr(i.type);break;case 22:case 23:Xi(i),Id(),e!==null&&me(Js);break;case 24:tr(Ue)}}var _w={getCacheForType:function(e){var i=rn(Ue),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},Aw=typeof WeakMap=="function"?WeakMap:Map,ce=0,se=null,Nt=null,Ht=0,ae=0,Dn=null,sr=!1,Ao=!1,Sm=!1,ar=0,ye=0,Zr=0,oa=0,wm=0,Kn=0,Eo=0,lu=null,Si=null,Rm=!1,Cm=0,Mh=1/0,Oh=null,Jr=null,Vh=!1,la=null,uu=0,xm=0,Dm=null,cu=0,Im=null;function In(){if(ce&2&&Ht!==0)return Ht&-Ht;if(S.T!==null){var e=ho;return e!==0?e:km()}return Bc()}function G0(){Kn===0&&(Kn=!(Ht&536870912)||Gt?Tl():536870912);var e=Hn.current;return e!==null&&(e.flags|=32),Kn}function pn(e,i,a){(e===se&&ae===2||e.cancelPendingCommit!==null)&&(To(e,0),or(e,Ht,Kn,!1)),Ae(e,a),(!(ce&2)||e!==se)&&(e===se&&(!(ce&2)&&(oa|=a),ye===4&&or(e,Ht,Kn,!1)),wi(e))}function W0(e,i,a){if(ce&6)throw Error(s(327));var l=!a&&(i&60)===0&&(i&e.expiredLanes)===0||wr(e,i),h=l?bw(e,i):Pm(e,i,!0),m=l;do{if(h===0){Ao&&!l&&or(e,i,0,!1);break}else if(h===6)or(e,i,0,!sr);else{if(a=e.current.alternate,m&&!Ew(a)){h=Pm(e,i,!1),m=!1;continue}if(h===2){if(m=i,e.errorRecoveryDisabledLanes&m)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var T=e;h=lu;var C=T.current.memoizedState.isDehydrated;if(C&&(To(T,_).flags|=256),_=Pm(T,_,!1),_!==2){if(Sm&&!C){T.errorRecoveryDisabledLanes|=m,oa|=m,h=4;break t}m=Si,Si=h,m!==null&&Mm(m)}h=_}if(m=!1,h!==2)continue}}if(h===1){To(e,0),or(e,i,0,!0);break}t:{switch(l=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){or(l,i,Kn,!sr);break t}break;case 2:Si=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(m=Cm+300-vn(),10<m)){if(or(l,i,Kn,!sr),On(l,0)!==0)break t;l.timeoutHandle=v_(Y0.bind(null,l,a,Si,Oh,Rm,i,Kn,oa,Eo,sr,2,-0,0),m);break t}Y0(l,a,Si,Oh,Rm,i,Kn,oa,Eo,sr,0,-0,0)}}break}while(!0);wi(e)}function Mm(e){Si===null?Si=e:Si.push.apply(Si,e)}function Y0(e,i,a,l,h,m,_,T,C,k,Z,nt,Q){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(gu={stylesheets:null,count:0,unsuspend:n1},B0(i),i=r1(),i!==null)){e.cancelPendingCommit=i(n_.bind(null,e,a,l,h,_,T,C,1,nt,Q)),or(e,m,_,!k);return}n_(e,a,l,h,_,T,C,Z,nt,Q)}function Ew(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],m=h.getSnapshot;h=h.value;try{if(!Rn(m(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function or(e,i,a,l){i&=~wm,i&=~oa,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var m=31-hn(h),_=1<<m;l[m]=-1,h&=~_}a!==0&&Cr(e,a,i)}function Ph(){return ce&6?!0:(hu(0),!1)}function Om(){if(Nt!==null){if(ae===0)var e=Nt.return;else e=Nt,$i=ia=null,kd(e),uo=null,Ql=0,e=Nt;for(;e!==null;)K0(e.alternate,e),e=e.return;Nt=null}}function To(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Om(),se=e,Nt=a=Xr(e.current,null),Ht=i,ae=0,Dn=null,sr=!1,Ao=wr(e,i),Sm=!1,Eo=Kn=wm=oa=Zr=ye=0,Si=lu=null,Rm=!1,i&8&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-hn(l),m=1<<h;i|=e[h],l&=~m}return ar=i,rh(),a}function X0(e,i){Vt=null,S.H=bi,i===ql?(i=hv(),ae=3):i===lv?(i=hv(),ae=4):ae=i===u0?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,Nt===null&&(ye=1,Sh(e,Bn(i,e.current)))}function Z0(){var e=S.H;return S.H=bi,e===null?bi:e}function J0(){var e=S.A;return S.A=_w,e}function Vm(){ye=4,sr||(Ht&4194176)!==Ht&&Hn.current!==null||(Ao=!0),!(Zr&134217727)&&!(oa&134217727)||se===null||or(se,Ht,Kn,!1)}function Pm(e,i,a){var l=ce;ce|=2;var h=Z0(),m=J0();(se!==e||Ht!==i)&&(Oh=null,To(e,i)),i=!1;var _=ye;t:do try{if(ae!==0&&Nt!==null){var T=Nt,C=Dn;switch(ae){case 8:Om(),_=6;break t;case 3:case 2:case 6:Hn.current===null&&(i=!0);var k=ae;if(ae=0,Dn=null,bo(e,T,C,k),a&&Ao){_=0;break t}break;default:k=ae,ae=0,Dn=null,bo(e,T,C,k)}}Tw(),_=ye;break}catch(Z){X0(e,Z)}while(!0);return i&&e.shellSuspendCounter++,$i=ia=null,ce=l,S.H=h,S.A=m,Nt===null&&(se=null,Ht=0,rh()),_}function Tw(){for(;Nt!==null;)$0(Nt)}function bw(e,i){var a=ce;ce|=2;var l=Z0(),h=J0();se!==e||Ht!==i?(Oh=null,Mh=vn()+500,To(e,i)):Ao=wr(e,i);t:do try{if(ae!==0&&Nt!==null){i=Nt;var m=Dn;e:switch(ae){case 1:ae=0,Dn=null,bo(e,i,m,1);break;case 2:if(uv(m)){ae=0,Dn=null,t_(i);break}i=function(){ae===2&&se===e&&(ae=7),wi(e)},m.then(i,i);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:uv(m)?(ae=0,Dn=null,t_(i)):(ae=0,Dn=null,bo(e,i,m,7));break;case 5:var _=null;switch(Nt.tag){case 26:_=Nt.memoizedState;case 5:case 27:var T=Nt;if(!_||D_(_)){ae=0,Dn=null;var C=T.sibling;if(C!==null)Nt=C;else{var k=T.return;k!==null?(Nt=k,Nh(k)):Nt=null}break e}}ae=0,Dn=null,bo(e,i,m,5);break;case 6:ae=0,Dn=null,bo(e,i,m,6);break;case 8:Om(),ye=6;break t;default:throw Error(s(462))}}Sw();break}catch(Z){X0(e,Z)}while(!0);return $i=ia=null,S.H=l,S.A=h,ce=a,Nt!==null?0:(se=null,Ht=0,rh(),ye)}function Sw(){for(;Nt!==null&&!ld();)$0(Nt)}function $0(e){var i=E0(e.alternate,e,ar);e.memoizedProps=e.pendingProps,i===null?Nh(e):Nt=i}function t_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=p0(a,i,i.pendingProps,i.type,void 0,Ht);break;case 11:i=p0(a,i,i.pendingProps,i.type.render,i.ref,Ht);break;case 5:kd(i);default:K0(a,i),i=Nt=q0(i,ar),i=E0(a,i,ar)}e.memoizedProps=e.pendingProps,i===null?Nh(e):Nt=i}function bo(e,i,a,l){$i=ia=null,kd(i),uo=null,Ql=0;var h=i.return;try{if(fw(e,h,i,a,Ht)){ye=1,Sh(e,Bn(a,e.current)),Nt=null;return}}catch(m){if(h!==null)throw Nt=h,m;ye=1,Sh(e,Bn(a,e.current)),Nt=null;return}i.flags&32768?(Gt||l===1?e=!0:Ao||Ht&536870912?e=!1:(sr=e=!0,(l===2||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),e_(i,e)):Nh(i)}function Nh(e){var i=e;do{if(i.flags&32768){e_(i,sr);return}e=i.return;var a=yw(i.alternate,i,ar);if(a!==null){Nt=a;return}if(i=i.sibling,i!==null){Nt=i;return}Nt=i=e}while(i!==null);ye===0&&(ye=5)}function e_(e,i){do{var a=vw(e.alternate,e);if(a!==null){a.flags&=32767,Nt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Nt=e;return}Nt=e=a}while(e!==null);ye=6,Nt=null}function n_(e,i,a,l,h,m,_,T,C,k){var Z=S.T,nt=ct.p;try{ct.p=2,S.T=null,ww(e,i,a,l,nt,h,m,_,T,C,k)}finally{S.T=Z,ct.p=nt}}function ww(e,i,a,l,h,m,_,T){do So();while(la!==null);if(ce&6)throw Error(s(327));var C=e.finishedWork;if(l=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var k=C.lanes|C.childLanes;if(k|=bd,Lc(e,l,k,m,_,T),e===se&&(Nt=se=null,Ht=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||Vh||(Vh=!0,xm=k,Dm=a,Dw(ki,function(){return So(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=S.T,S.T=null,m=ct.p,ct.p=2,_=ce,ce|=4,mw(e,C),U0(C,e),YS(Km,e.containerInfo),Gh=!!Qm,Km=Qm=null,e.current=C,O0(e,C.alternate,C),vl(),ce=_,ct.p=m,S.T=a):e.current=C,Vh?(Vh=!1,la=e,uu=l):i_(e,k),k=e.pendingLanes,k===0&&(Jr=null),Al(C.stateNode),wi(e),i!==null)for(h=e.onRecoverableError,C=0;C<i.length;C++)k=i[C],h(k.value,{componentStack:k.stack});return uu&3&&So(),k=e.pendingLanes,l&4194218&&k&42?e===Im?cu++:(cu=0,Im=e):cu=0,hu(0),null}function i_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Gl(i)))}function So(){if(la!==null){var e=la,i=xm;xm=0;var a=kc(uu),l=S.T,h=ct.p;try{if(ct.p=32>a?32:a,S.T=null,la===null)var m=!1;else{a=Dm,Dm=null;var _=la,T=uu;if(la=null,uu=0,ce&6)throw Error(s(331));var C=ce;if(ce|=4,z0(_.current),k0(_,_.current,T,a),ce=C,hu(0,!1),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(br,_)}catch{}m=!0}return m}finally{ct.p=h,S.T=l,i_(e,i)}}return!1}function r_(e,i,a){i=Bn(a,i),i=Jd(e.stateNode,i,2),e=Kr(e,i,2),e!==null&&(Ae(e,2),wi(e))}function ie(e,i,a){if(e.tag===3)r_(e,e,a);else for(;i!==null;){if(i.tag===3){r_(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jr===null||!Jr.has(l))){e=Bn(a,e),a=o0(2),l=Kr(i,a,2),l!==null&&(l0(a,l,i,e),Ae(l,2),wi(l));break}}i=i.return}}function Nm(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new Aw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sm=!0,h.add(a),e=Rw.bind(null,e,i,a),i.then(e,e))}function Rw(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,se===e&&(Ht&a)===a&&(ye===4||ye===3&&(Ht&62914560)===Ht&&300>vn()-Cm?!(ce&2)&&To(e,0):wm|=a,Eo===Ht&&(Eo=0)),wi(e)}function s_(e,i){i===0&&(i=Rr()),e=kr(e,i),e!==null&&(Ae(e,i),wi(e))}function Cw(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),s_(e,a)}function xw(e,i){var a=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),s_(e,a)}function Dw(e,i){return Os(e,i)}var Uh=null,wo=null,Um=!1,Lh=!1,Lm=!1,ua=0;function wi(e){e!==wo&&e.next===null&&(wo===null?Uh=wo=e:wo=wo.next=e),Lh=!0,Um||(Um=!0,Mw(Iw))}function hu(e,i){if(!Lm&&Lh){Lm=!0;do for(var a=!1,l=Uh;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,T=l.pingedLanes;m=(1<<31-hn(42|e)+1)-1,m&=h&~(_&~T),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,l_(l,m))}else m=Ht,m=On(l,l===se?m:0),!(m&3)||wr(l,m)||(a=!0,l_(l,m));l=l.next}while(a);Lm=!1}}function Iw(){Lh=Um=!1;var e=0;ua!==0&&(Bw()&&(e=ua),ua=0);for(var i=vn(),a=null,l=Uh;l!==null;){var h=l.next,m=a_(l,i);m===0?(l.next=null,a===null?Uh=h:a.next=h,h===null&&(wo=a)):(a=l,(e!==0||m&3)&&(Lh=!0)),l=h}hu(e)}function a_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var _=31-hn(m),T=1<<_,C=h[_];C===-1?(!(T&a)||T&l)&&(h[_]=Ha(T,i)):C<=i&&(e.expiredLanes|=T),m&=~T}if(i=se,a=Ht,a=On(e,e===i?a:0),l=e.callbackNode,a===0||e===i&&ae===2||e.cancelPendingCommit!==null)return l!==null&&l!==null&&za(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||wr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&za(l),kc(a)){case 2:case 8:a=je;break;case 32:a=ki;break;case 268435456:a=_l;break;default:a=ki}return l=o_.bind(null,e),a=Os(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&za(l),e.callbackPriority=2,e.callbackNode=null,2}function o_(e,i){var a=e.callbackNode;if(So()&&e.callbackNode!==a)return null;var l=Ht;return l=On(e,e===se?l:0),l===0?null:(W0(e,l,i),a_(e,vn()),e.callbackNode!=null&&e.callbackNode===a?o_.bind(null,e):null)}function l_(e,i){if(So())return null;W0(e,i,!0)}function Mw(e){zw(function(){ce&6?Os(Me,e):e()})}function km(){return ua===0&&(ua=Tl()),ua}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:mi(""+e)}function c_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Ow(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var m=u_((h[Oe]||null).action),_=l.submitter;_&&(i=(i=_[Oe]||null)?u_(i.formAction):_.getAttribute("formAction"),i!==null&&(m=i,_=null));var T=new Ya("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var C=_?c_(h,_):new FormData(h);Gd(a,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(T.preventDefault(),C=_?c_(h,_):new FormData(h),Gd(a,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var Bm=0;Bm<nv.length;Bm++){var jm=nv[Bm],Vw=jm.toLowerCase(),Pw=jm[0].toUpperCase()+jm.slice(1);ti(Vw,"on"+Pw)}ti(Zy,"onAnimationEnd"),ti(Jy,"onAnimationIteration"),ti($y,"onAnimationStart"),ti("dblclick","onDoubleClick"),ti("focusin","onFocus"),ti("focusout","onBlur"),ti(ZS,"onTransitionRun"),ti(JS,"onTransitionStart"),ti($S,"onTransitionCancel"),ti(tv,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fu));function h_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var m=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],C=T.instance,k=T.currentTarget;if(T=T.listener,C!==m&&h.isPropagationStopped())break t;m=T,h.currentTarget=k;try{m(h)}catch(Z){bh(Z)}h.currentTarget=null,m=C}else for(_=0;_<l.length;_++){if(T=l[_],C=T.instance,k=T.currentTarget,T=T.listener,C!==m&&h.isPropagationStopped())break t;m=T,h.currentTarget=k;try{m(h)}catch(Z){bh(Z)}h.currentTarget=null,m=C}}}}function Lt(e,i){var a=i[Ps];a===void 0&&(a=i[Ps]=new Set);var l=e+"__bubble";a.has(l)||(f_(i,e,2,!1),a.add(l))}function zm(e,i,a){var l=0;i&&(l|=4),f_(a,e,l,i)}var kh="_reactListening"+Math.random().toString(36).slice(2);function Hm(e){if(!e[kh]){e[kh]=!0,Sl.forEach(function(a){a!=="selectionchange"&&(Nw.has(a)||zm(a,!1,e),zm(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[kh]||(i[kh]=!0,zm("selectionchange",!1,i))}}function f_(e,i,a,l){switch(N_(i)){case 2:var h=o1;break;case 8:h=l1;break;default:h=ep}a=h.bind(null,i,a,e),h=void 0,!Un||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function qm(e,i,a,l,h){var m=l;if(!(i&1)&&!(i&2)&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;T!==null;){if(_=$n(T),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=m=_;continue t}T=T.parentNode}}l=l.return}qc(function(){var k=m,Z=Wa(a),nt=[];t:{var Q=ev.get(e);if(Q!==void 0){var X=Ya,gt=e;switch(e){case"keypress":if(gi(a)===0)break t;case"keydown":case"keyup":X=eo;break;case"focusin":gt="focus",X=Ja;break;case"focusout":gt="blur",X=Ja;break;case"beforeblur":case"afterblur":X=Ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Zc;break;case Zy:case Jy:case $y:X=$a;break;case tv:X=$c;break;case"scroll":case"scrollend":X=Fc;break;case"wheel":X=no;break;case"copy":case"cut":case"paste":X=to;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ul;break;case"toggle":case"beforetoggle":X=eh}var Ct=(i&4)!==0,ve=!Ct&&(e==="scroll"||e==="scrollend"),z=Ct?Q!==null?Q+"Capture":null:Q;Ct=[];for(var U=k,F;U!==null;){var $=U;if(F=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||F===null||z===null||($=Bs(U,z),$!=null&&Ct.push(du(U,$,F))),ve)break;U=U.return}0<Ct.length&&(Q=new X(Q,gt,null,a,Z),nt.push({event:Q,listeners:Ct}))}}if(!(i&7)){t:{if(Q=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Q&&a!==Nn&&(gt=a.relatedTarget||a.fromElement)&&($n(gt)||gt[Bi]))break t;if((X||Q)&&(Q=Z.window===Z?Z:(Q=Z.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(gt=a.relatedTarget||a.toElement,X=k,gt=gt?$n(gt):null,gt!==null&&(ve=At(gt),Ct=gt.tag,gt!==ve||Ct!==5&&Ct!==27&&Ct!==6)&&(gt=null)):(X=null,gt=k),X!==gt)){if(Ct=Ln,$="onMouseLeave",z="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Ct=Ul,$="onPointerLeave",z="onPointerEnter",U="pointer"),ve=X==null?Q:Mr(X),F=gt==null?Q:Mr(gt),Q=new Ct($,U+"leave",X,a,Z),Q.target=ve,Q.relatedTarget=F,$=null,$n(Z)===k&&(Ct=new Ct(z,U+"enter",gt,a,Z),Ct.target=F,Ct.relatedTarget=ve,$=Ct),ve=$,X&&gt)e:{for(Ct=X,z=gt,U=0,F=Ct;F;F=Ro(F))U++;for(F=0,$=z;$;$=Ro($))F++;for(;0<U-F;)Ct=Ro(Ct),U--;for(;0<F-U;)z=Ro(z),F--;for(;U--;){if(Ct===z||z!==null&&Ct===z.alternate)break e;Ct=Ro(Ct),z=Ro(z)}Ct=null}else Ct=null;X!==null&&d_(nt,Q,X,Ct,!1),gt!==null&&ve!==null&&d_(nt,ve,gt,Ct,!0)}}t:{if(Q=k?Mr(k):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var mt=jy;else if(Pe(Q))if(zy)mt=GS;else{mt=QS;var Pt=FS}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?k&&Dl(k.elementType)&&(mt=jy):mt=KS;if(mt&&(mt=mt(e,k))){Gi(nt,mt,a,Z);break t}Pt&&Pt(e,Q,k),e==="focusout"&&k&&Q.type==="number"&&k.memoizedProps.value!=null&&Ga(Q,"number",Q.value)}switch(Pt=k?Mr(k):window,e){case"focusin":(Pe(Pt)||Pt.contentEditable==="true")&&(io=Pt,Ad=k,Bl=null);break;case"focusout":Bl=Ad=io=null;break;case"mousedown":Ed=!0;break;case"contextmenu":case"mouseup":case"dragend":Ed=!1,Yy(nt,a,Z);break;case"selectionchange":if(XS)break;case"keydown":case"keyup":Yy(nt,a,Z)}var _t;if(_i)t:{switch(e){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else jt?W(e,a)&&(bt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(bt="onCompositionStart");bt&&(v&&a.locale!=="ko"&&(jt||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&jt&&(_t=Ml()):(pi=Z,Lr="value"in pi?pi.value:pi.textContent,jt=!0)),Pt=Bh(k,bt),0<Pt.length&&(bt=new Pl(bt,e,null,a,Z),nt.push({event:bt,listeners:Pt}),_t?bt.data=_t:(_t=st(a),_t!==null&&(bt.data=_t)))),(_t=y?Ve(e,a):zt(e,a))&&(bt=Bh(k,"onBeforeInput"),0<bt.length&&(Pt=new Pl("onBeforeInput","beforeinput",null,a,Z),nt.push({event:Pt,listeners:bt}),Pt.data=_t)),Ow(nt,e,k,a,Z)}h_(nt,i)})}function du(e,i,a){return{instance:e,listener:i,currentTarget:a}}function Bh(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Bs(e,a),h!=null&&l.unshift(du(e,h,m)),h=Bs(e,i),h!=null&&l.push(du(e,h,m))),e=e.return}return l}function Ro(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,i,a,l,h){for(var m=i._reactName,_=[];a!==null&&a!==l;){var T=a,C=T.alternate,k=T.stateNode;if(T=T.tag,C!==null&&C===l)break;T!==5&&T!==26&&T!==27||k===null||(C=k,h?(k=Bs(a,m),k!=null&&_.unshift(du(a,k,C))):h||(k=Bs(a,m),k!=null&&_.push(du(a,k,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Uw=/\r\n?/g,Lw=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(Uw,`
`).replace(Lw,"")}function p_(e,i){return i=m_(i),m_(e)===i}function jh(){}function ne(e,i,a,l,h,m){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Pn(e,""+l);break;case"className":Pr(e,"class",l);break;case"tabIndex":Pr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(e,a,l);break;case"style":Hc(e,l,m);break;case"data":if(i!=="object"){Pr(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=mi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(i!=="input"&&ne(e,i,"name",h.name,h,null),ne(e,i,"formEncType",h.formEncType,h,null),ne(e,i,"formMethod",h.formMethod,h,null),ne(e,i,"formTarget",h.formTarget,h,null)):(ne(e,i,"encType",h.encType,h,null),ne(e,i,"method",h.method,h,null),ne(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=mi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=jh);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=mi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),Vr(e,"popover",l);break;case"xlinkActuate":Vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Vr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dd.get(a)||a,Vr(e,a,l))}}function Fm(e,i,a,l,h,m){switch(a){case"style":Hc(e,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Pn(e,l):(typeof l=="number"||typeof l=="bigint")&&Pn(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),m=e[Oe]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(i,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Vr(e,a,l)}}}function Ze(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,h=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(e,i,m,_,a,null)}}h&&ne(e,i,"srcSet",a.srcSet,a,null),l&&ne(e,i,"src",a.src,a,null);return;case"input":Lt("invalid",e);var T=m=_=h=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":C=Z;break;case"defaultChecked":k=Z;break;case"value":m=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:ne(e,i,l,Z,a,null)}}Ls(e,m,T,C,k,_,h,!1),Us(e);return;case"select":Lt("invalid",e),l=_=m=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":m=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:ne(e,i,h,T,a,null)}i=m,a=_,e.multiple=!!l,i!=null?Kt(e,!!l,i,!1):a!=null&&Kt(e,!!l,a,!0);return;case"textarea":Lt("invalid",e),m=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:ne(e,i,_,T,a,null)}Ur(e,l,h,m),Us(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ne(e,i,C,l,a,null)}return;case"dialog":Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<fu.length;l++)Lt(fu[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(e,i,k,l,a,null)}return;default:if(Dl(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Fm(e,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&ne(e,i,T,l,a,null))}function kw(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,T=null,C=null,k=null,Z=null;for(X in a){var nt=a[X];if(a.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=nt;default:l.hasOwnProperty(X)||ne(e,i,X,null,l,nt)}}for(var Q in l){var X=l[Q];if(nt=a[Q],l.hasOwnProperty(Q)&&(X!=null||nt!=null))switch(Q){case"type":m=X;break;case"name":h=X;break;case"checked":k=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==nt&&ne(e,i,Q,X,l,nt)}}Nr(e,_,T,C,k,Z,m,h);return;case"select":X=_=T=Q=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":X=C;default:l.hasOwnProperty(m)||ne(e,i,m,null,l,C)}for(h in l)if(m=l[h],C=a[h],l.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":Q=m;break;case"defaultValue":T=m;break;case"multiple":_=m;default:m!==C&&ne(e,i,h,m,l,C)}i=T,a=_,l=X,Q!=null?Kt(e,!!a,Q,!1):!!l!=!!a&&(i!=null?Kt(e,!!a,i,!0):Kt(e,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ne(e,i,T,null,l,h)}for(_ in l)if(h=l[_],m=a[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&ne(e,i,_,h,l,m)}ks(e,Q,X);return;case"option":for(var gt in a)if(Q=a[gt],a.hasOwnProperty(gt)&&Q!=null&&!l.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:ne(e,i,gt,null,l,Q)}for(C in l)if(Q=l[C],X=a[C],l.hasOwnProperty(C)&&Q!==X&&(Q!=null||X!=null))switch(C){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ne(e,i,C,Q,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)Q=a[Ct],a.hasOwnProperty(Ct)&&Q!=null&&!l.hasOwnProperty(Ct)&&ne(e,i,Ct,null,l,Q);for(k in l)if(Q=l[k],X=a[k],l.hasOwnProperty(k)&&Q!==X&&(Q!=null||X!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ne(e,i,k,Q,l,X)}return;default:if(Dl(i)){for(var ve in a)Q=a[ve],a.hasOwnProperty(ve)&&Q!==void 0&&!l.hasOwnProperty(ve)&&Fm(e,i,ve,void 0,l,Q);for(Z in l)Q=l[Z],X=a[Z],!l.hasOwnProperty(Z)||Q===X||Q===void 0&&X===void 0||Fm(e,i,Z,Q,l,X);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!l.hasOwnProperty(z)&&ne(e,i,z,null,l,Q);for(nt in l)Q=l[nt],X=a[nt],!l.hasOwnProperty(nt)||Q===X||Q==null&&X==null||ne(e,i,nt,Q,l,X)}var Qm=null,Km=null;function zh(e){return e.nodeType===9?e:e.ownerDocument}function g_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Gm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Wm=null;function Bw(){var e=window.event;return e&&e.type==="popstate"?e===Wm?!1:(Wm=e,!0):(Wm=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,jw=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,zw=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(e){return __.resolve(null).then(e).catch(Hw)}:v_;function Hw(e){setTimeout(function(){throw e})}function Ym(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){e.removeChild(h),Eu(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Eu(i)}function Xm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Xm(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qw(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ir])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=ii(e.nextSibling),e===null)break}return null}function Fw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ii(e.nextSibling),e===null))return null;return e}function ii(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function A_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function E_(e,i,a){switch(i=zh(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Gn=new Map,T_=new Set;function Hh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var lr=ct.d;ct.d={f:Qw,r:Kw,D:Gw,C:Ww,L:Yw,m:Xw,X:Jw,S:Zw,M:$w};function Qw(){var e=lr.f(),i=Ph();return e||i}function Kw(e){var i=ji(e);i!==null&&i.tag===5&&i.type==="form"?Yv(i):lr.r(e)}var Co=typeof document>"u"?null:document;function b_(e,i,a){var l=Co;if(l&&typeof i=="string"&&i){var h=pe(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),T_.has(h)||(T_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ze(i,"link",e),le(i),l.head.appendChild(i)))}}function Gw(e){lr.D(e),b_("dns-prefetch",e,null)}function Ww(e,i){lr.C(e,i),b_("preconnect",e,i)}function Yw(e,i,a){lr.L(e,i,a);var l=Co;if(l&&e&&i){var h='link[rel="preload"][as="'+pe(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pe(a.imageSizes)+'"]')):h+='[href="'+pe(e)+'"]';var m=h;switch(i){case"style":m=xo(e);break;case"script":m=Do(e)}Gn.has(m)||(e=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Gn.set(m,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(mu(m))||i==="script"&&l.querySelector(pu(m))||(i=l.createElement("link"),Ze(i,"link",e),le(i),l.head.appendChild(i)))}}function Xw(e,i){lr.m(e,i);var a=Co;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pe(l)+'"][href="'+pe(e)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Do(e)}if(!Gn.has(m)&&(e=I({rel:"modulepreload",href:e},i),Gn.set(m,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pu(m)))return}l=a.createElement("link"),Ze(l,"link",e),le(l),a.head.appendChild(l)}}}function Zw(e,i,a){lr.S(e,i,a);var l=Co;if(l&&e){var h=Or(l).hoistableStyles,m=xo(e);i=i||"default";var _=h.get(m);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(mu(m)))T.loading=5;else{e=I({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Gn.get(m))&&Zm(e,a);var C=_=l.createElement("link");le(C),Ze(C,"link",e),C._p=new Promise(function(k,Z){C.onload=k,C.onerror=Z}),C.addEventListener("load",function(){T.loading|=1}),C.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qh(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(m,_)}}}function Jw(e,i){lr.X(e,i);var a=Co;if(a&&e){var l=Or(a).hoistableScripts,h=Do(e),m=l.get(h);m||(m=a.querySelector(pu(h)),m||(e=I({src:e,async:!0},i),(i=Gn.get(h))&&Jm(e,i),m=a.createElement("script"),le(m),Ze(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function $w(e,i){lr.M(e,i);var a=Co;if(a&&e){var l=Or(a).hoistableScripts,h=Do(e),m=l.get(h);m||(m=a.querySelector(pu(h)),m||(e=I({src:e,async:!0,type:"module"},i),(i=Gn.get(h))&&Jm(e,i),m=a.createElement("script"),le(m),Ze(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function S_(e,i,a,l){var h=(h=Mn.current)?Hh(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=xo(a.href),a=Or(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=xo(a.href);var m=Or(h).hoistableStyles,_=m.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,_),(m=h.querySelector(mu(e)))&&!m._p&&(_.instance=m,_.state.loading=5),Gn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(e,a),m||t1(h,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(a),a=Or(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function xo(e){return'href="'+pe(e)+'"'}function mu(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return I({},e,{"data-precedence":e.precedence,precedence:null})}function t1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ze(i,"link",a),le(i),e.head.appendChild(i))}function Do(e){return'[src="'+pe(e)+'"]'}function pu(e){return"script[async]"+e}function R_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+pe(a.href)+'"]');if(l)return i.instance=l,le(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),le(l),Ze(l,"style",h),qh(l,a.precedence,e),i.instance=l;case"stylesheet":h=xo(a.href);var m=e.querySelector(mu(h));if(m)return i.state.loading|=4,i.instance=m,le(m),m;l=w_(a),(h=Gn.get(h))&&Zm(l,h),m=(e.ownerDocument||e).createElement("link"),le(m);var _=m;return _._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ze(m,"link",l),i.state.loading|=4,qh(m,a.precedence,e),i.instance=m;case"script":return m=Do(a.src),(h=e.querySelector(pu(m)))?(i.instance=h,le(h),h):(l=a,(h=Gn.get(m))&&(l=I({},a),Jm(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Ze(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(l=i.instance,i.state.loading|=4,qh(l,a.precedence,e));return i.instance}function qh(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)m=T;else if(m!==h)break}m?m.parentNode.insertBefore(e,m.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Zm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Jm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Fh=null;function C_(e,i,a){if(Fh===null){var l=new Map,h=Fh=new Map;h.set(a,l)}else h=Fh,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var m=a[h];if(!(m[Ir]||m[ze]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(i)||"";_=e+_;var T=l.get(_);T?T.push(m):l.set(_,[m])}}return l}function x_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function e1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var gu=null;function n1(){}function i1(e,i,a){if(gu===null)throw Error(s(475));var l=gu;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=xo(a.href),m=e.querySelector(mu(h));if(m){e=m._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Qh.bind(l),e.then(l,l)),i.state.loading|=4,i.instance=m,le(m);return}m=e.ownerDocument||e,a=w_(a),(h=Gn.get(h))&&Zm(a,h),m=m.createElement("link"),le(m);var _=m;_._p=new Promise(function(T,C){_.onload=T,_.onerror=C}),Ze(m,"link",a),i.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(l.count++,i=Qh.bind(l),e.addEventListener("load",i),e.addEventListener("error",i))}}function r1(){if(gu===null)throw Error(s(475));var e=gu;return e.stylesheets&&e.count===0&&$m(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&$m(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Qh(){if(this.count--,this.count===0){if(this.stylesheets)$m(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kh=null;function $m(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kh=new Map,i.forEach(s1,e),Kh=null,Qh.call(e))}function s1(e,i){if(!(i.state.loading&4)){var a=Kh.get(e);if(a)var l=a.get(null);else{a=new Map,Kh.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,h),a.set(_,h),this.count++,l=Qh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yu={$$typeof:x,Provider:null,Consumer:null,_currentValue:Mt,_currentValue2:Mt,_threadCount:0};function a1(e,i,a,l,h,m,_,T){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qa(0),this.hiddenUpdates=qa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function I_(e,i,a,l,h,m,_,T,C,k,Z,nt){return e=new a1(e,i,a,_,T,C,k,nt),i=1,m===!0&&(i|=24),m=Qn(3,null,null,i),e.current=m,m.stateNode=e,i=Md(),i.refCount++,e.pooledCache=i,i.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:i},hm(m),e}function M_(e){return e?(e=ao,e):ao}function O_(e,i,a,l,h,m){h=M_(h),l.context===null?l.context=h:l.pendingContext=h,l=Qr(i),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=Kr(e,l,i),a!==null&&(pn(a,e,i),tu(a,e,i))}function V_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function tp(e,i){V_(e,i),(e=e.alternate)&&V_(e,i)}function P_(e){if(e.tag===13){var i=kr(e,67108864);i!==null&&pn(i,e,67108864),tp(e,67108864)}}var Gh=!0;function o1(e,i,a,l){var h=S.T;S.T=null;var m=ct.p;try{ct.p=2,ep(e,i,a,l)}finally{ct.p=m,S.T=h}}function l1(e,i,a,l){var h=S.T;S.T=null;var m=ct.p;try{ct.p=8,ep(e,i,a,l)}finally{ct.p=m,S.T=h}}function ep(e,i,a,l){if(Gh){var h=np(l);if(h===null)qm(e,i,l,Wh,a),U_(e,l);else if(c1(h,e,i,a,l))l.stopPropagation();else if(U_(e,l),i&4&&-1<u1.indexOf(e)){for(;h!==null;){var m=ji(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Jn(m.pendingLanes);if(_!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var C=1<<31-hn(_);T.entanglements[1]|=C,_&=~C}wi(m),!(ce&6)&&(Mh=vn()+500,hu(0))}}break;case 13:T=kr(m,2),T!==null&&pn(T,m,2),Ph(),tp(m,2)}if(m=np(l),m===null&&qm(e,i,l,Wh,a),m===h)break;h=m}h!==null&&l.stopPropagation()}else qm(e,i,l,null,a)}}function np(e){return e=Wa(e),ip(e)}var Wh=null;function ip(e){if(Wh=null,e=$n(e),e!==null){var i=At(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Xt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Wh=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Vc()){case Me:return 2;case je:return 8;case ki:case Pc:return 32;case _l:return 268435456;default:return 32}default:return 32}}var rp=!1,$r=null,ts=null,es=null,vu=new Map,_u=new Map,ns=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(e,i){switch(e){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":vu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_u.delete(i.pointerId)}}function Au(e,i,a,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},i!==null&&(i=ji(i),i!==null&&P_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function c1(e,i,a,l,h){switch(i){case"focusin":return $r=Au($r,e,i,a,l,h),!0;case"dragenter":return ts=Au(ts,e,i,a,l,h),!0;case"mouseover":return es=Au(es,e,i,a,l,h),!0;case"pointerover":var m=h.pointerId;return vu.set(m,Au(vu.get(m)||null,e,i,a,l,h)),!0;case"gotpointercapture":return m=h.pointerId,_u.set(m,Au(_u.get(m)||null,e,i,a,l,h)),!0}return!1}function L_(e){var i=$n(e.target);if(i!==null){var a=At(i);if(a!==null){if(i=a.tag,i===13){if(i=Xt(a),i!==null){e.blockedOn=i,Dr(e.priority,function(){if(a.tag===13){var l=In(),h=kr(a,l);h!==null&&pn(h,a,l),tp(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Yh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=np(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Nn=l,a.target.dispatchEvent(l),Nn=null}else return i=ji(a),i!==null&&P_(i),e.blockedOn=a,!1;i.shift()}return!0}function k_(e,i,a){Yh(e)&&a.delete(i)}function h1(){rp=!1,$r!==null&&Yh($r)&&($r=null),ts!==null&&Yh(ts)&&(ts=null),es!==null&&Yh(es)&&(es=null),vu.forEach(k_),_u.forEach(k_)}function Xh(e,i){e.blockedOn===i&&(e.blockedOn=null,rp||(rp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,h1)))}var Zh=null;function B_(e){Zh!==e&&(Zh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Zh===e&&(Zh=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(ip(l||a)===null)continue;break}var m=ji(a);m!==null&&(e.splice(i,3),i-=3,Gd(m,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Eu(e){function i(C){return Xh(C,e)}$r!==null&&Xh($r,e),ts!==null&&Xh(ts,e),es!==null&&Xh(es,e),vu.forEach(i),_u.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&ns.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],m=a[l+1],_=h[Oe]||null;if(typeof m=="function")_||B_(a);else if(_){var T=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[Oe]||null)T=_.formAction;else if(ip(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),B_(a)}}}function sp(e){this._internalRoot=e}Jh.prototype.render=sp.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();O_(a,l,e,i,null,null)},Jh.prototype.unmount=sp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&So(),O_(e.current,2,null,e,null,null),Ph(),i[Bi]=null}};function Jh(e){this._internalRoot=e}Jh.prototype.unstable_scheduleHydration=function(e){if(e){var i=Bc();e={blockedOn:null,target:e,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,e),a===0&&L_(e)}};var j_=t.version;if(j_!=="19.0.0")throw Error(s(527,j_,"19.0.0"));ct.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=rt(i),e=e!==null?yt(e):null,e=e===null?null:e.stateNode,e};var f1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:$n,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{br=$h.inject(f1),nn=$h}catch{}}return bu.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",h=i0,m=r0,_=s0,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=I_(e,1,!1,null,null,a,l,h,m,_,T,null),e[Bi]=i.current,Hm(e.nodeType===8?e.parentNode:e),new sp(i)},bu.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,h="",m=i0,_=r0,T=s0,C=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=I_(e,1,!0,i,a??null,l,h,m,_,T,C,k),i.context=M_(null),a=i.current,l=In(),h=Qr(l),h.callback=null,Kr(a,h,l),i.current.lanes=l,Ae(i,l),wi(i),e[Bi]=i.current,Hm(e),new Jh(i)},bu.version="19.0.0",bu}var Z_;function w1(){if(Z_)return up.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),up.exports=S1(),up.exports}var R1=w1(),Su={},J_;function C1(){if(J_)return Su;J_=1,Object.defineProperty(Su,"__esModule",{value:!0}),Su.parse=f,Su.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,x){const V=new u,j=w.length;if(j<2)return V;const L=(x==null?void 0:x.decode)||A;let G=0;do{const it=w.indexOf("=",G);if(it===-1)break;const J=w.indexOf(";",G),dt=J===-1?j:J;if(it>dt){G=w.lastIndexOf(";",it-1)+1;continue}const lt=d(w,G,it),Tt=p(w,it,lt),O=w.slice(lt,Tt);if(V[O]===void 0){let R=d(w,it+1,dt),S=p(w,dt,R);const I=L(w.slice(R,S));V[O]=I}G=dt+1}while(G<j);return V}function d(w,x,V){do{const j=w.charCodeAt(x);if(j!==32&&j!==9)return x}while(++x<V);return V}function p(w,x,V){for(;x>V;){const j=w.charCodeAt(--x);if(j!==32&&j!==9)return x+1}return V}function g(w,x,V){const j=(V==null?void 0:V.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const L=j(x);if(!t.test(L))throw new TypeError(`argument val is invalid: ${x}`);let G=w+"="+L;if(!V)return G;if(V.maxAge!==void 0){if(!Number.isInteger(V.maxAge))throw new TypeError(`option maxAge is invalid: ${V.maxAge}`);G+="; Max-Age="+V.maxAge}if(V.domain){if(!n.test(V.domain))throw new TypeError(`option domain is invalid: ${V.domain}`);G+="; Domain="+V.domain}if(V.path){if(!s.test(V.path))throw new TypeError(`option path is invalid: ${V.path}`);G+="; Path="+V.path}if(V.expires){if(!E(V.expires)||!Number.isFinite(V.expires.valueOf()))throw new TypeError(`option expires is invalid: ${V.expires}`);G+="; Expires="+V.expires.toUTCString()}if(V.httpOnly&&(G+="; HttpOnly"),V.secure&&(G+="; Secure"),V.partitioned&&(G+="; Partitioned"),V.priority)switch(typeof V.priority=="string"?V.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${V.priority}`)}if(V.sameSite)switch(typeof V.sameSite=="string"?V.sameSite.toLowerCase():V.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${V.sameSite}`)}return G}function A(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function E(w){return o.call(w)==="[object Date]"}return Su}C1();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $_="popstate";function x1(r={}){function t(o,u){let{pathname:f="/",search:d="",hash:p=""}=Va(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),tg("",{pathname:f,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),d="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof u=="string"?u:lc(u))}function s(o,u){li(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return I1(t,n,s,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function li(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function D1(){return Math.random().toString(36).substring(2,10)}function tA(r,t){return{usr:r.state,key:r.key,idx:t}}function tg(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Va(t):t,state:n,key:t&&t.key||s||D1()}}function lc({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Va(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function I1(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,d="POP",p=null,g=A();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function A(){return(f.state||{idx:null}).idx}function E(){d="POP";let L=A(),G=L==null?null:L-g;g=L,p&&p({action:d,location:j.location,delta:G})}function w(L,G){d="PUSH";let it=tg(j.location,L,G);n&&n(it,L),g=A()+1;let J=tA(it,g),dt=j.createHref(it);try{f.pushState(J,"",dt)}catch(lt){if(lt instanceof DOMException&&lt.name==="DataCloneError")throw lt;o.location.assign(dt)}u&&p&&p({action:d,location:j.location,delta:1})}function x(L,G){d="REPLACE";let it=tg(j.location,L,G);n&&n(it,L),g=A();let J=tA(it,g),dt=j.createHref(it);f.replaceState(J,"",dt),u&&p&&p({action:d,location:j.location,delta:0})}function V(L){let G=o.location.origin!=="null"?o.location.origin:o.location.href,it=typeof L=="string"?L:lc(L);return it=it.replace(/ $/,"%20"),fe(G,`No window.location.(origin|href) available to create URL for href: ${it}`),new URL(it,G)}let j={get action(){return d},get location(){return r(o,f)},listen(L){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($_,E),p=L,()=>{o.removeEventListener($_,E),p=null}},createHref(L){return t(o,L)},createURL:V,encodeLocation(L){let G=V(L);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:x,go(L){return f.go(L)}};return j}function hT(r,t,n="/"){return M1(r,t,n,!1)}function M1(r,t,n,s){let o=typeof t=="string"?Va(t):t,u=bs(o.pathname||"/",n);if(u==null)return null;let f=fT(r);O1(f);let d=null;for(let p=0;d==null&&p<f.length;++p){let g=q1(u);d=z1(f[p],g,s)}return d}function fT(r,t=[],n=[],s=""){let o=(u,f,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(fe(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=mr([s,p.relativePath]),A=n.concat(p);u.children&&u.children.length>0&&(fe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),fT(u.children,t,A,g)),!(u.path==null&&!u.index)&&t.push({path:g,score:B1(g,u.index),routesMeta:A})};return r.forEach((u,f)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,f);else for(let p of dT(u.path))o(u,f,p)}),t}function dT(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=dT(s.join("/")),d=[];return d.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...f),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function O1(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:j1(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var V1=/^:[\w-]+$/,P1=3,N1=2,U1=1,L1=10,k1=-2,eA=r=>r==="*";function B1(r,t){let n=r.split("/"),s=n.length;return n.some(eA)&&(s+=k1),t&&(s+=N1),n.filter(o=>!eA(o)).reduce((o,u)=>o+(V1.test(u)?P1:u===""?U1:L1),s)}function j1(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function z1(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,A=u==="/"?t:t.slice(u.length)||"/",E=wf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},A),w=p.route;if(!E&&g&&n&&!s[s.length-1].route.index&&(E=wf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},A)),!E)return null;Object.assign(o,E.params),f.push({params:o,pathname:mr([u,E.pathname]),pathnameBase:G1(mr([u,E.pathnameBase])),route:w}),E.pathnameBase!=="/"&&(u=mr([u,E.pathnameBase]))}return f}function wf(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=H1(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:A,isOptional:E},w)=>{if(A==="*"){let V=d[w]||"";f=u.slice(0,u.length-V.length).replace(/(.)\/+$/,"$1")}const x=d[w];return E&&!x?g[A]=void 0:g[A]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function H1(r,t=!1,n=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function q1(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function bs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function F1(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Va(r):r;return{pathname:n?n.startsWith("/")?n:Q1(n,t):t,search:W1(s),hash:Y1(o)}}function Q1(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function dp(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function K1(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function mT(r){let t=K1(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function pT(r,t,n,s=!1){let o;typeof r=="string"?o=Va(r):(o={...r},fe(!o.pathname||!o.pathname.includes("?"),dp("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),dp("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),dp("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,d;if(f==null)d=n;else{let E=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),E-=1;o.pathname=w.join("/")}d=E>=0?t[E]:"/"}let p=F1(o,d),g=f&&f!=="/"&&f.endsWith("/"),A=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||A)&&(p.pathname+="/"),p}var mr=r=>r.join("/").replace(/\/\/+/g,"/"),G1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),W1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Y1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function X1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var gT=["POST","PUT","PATCH","DELETE"];new Set(gT);var Z1=["GET",...gT];new Set(Z1);var ul=K.createContext(null);ul.displayName="DataRouter";var Kf=K.createContext(null);Kf.displayName="DataRouterState";var yT=K.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var J1=K.createContext(new Map);J1.displayName="Fetchers";var $1=K.createContext(null);$1.displayName="Await";var Ni=K.createContext(null);Ni.displayName="Navigation";var wc=K.createContext(null);wc.displayName="Location";var Ar=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var kg=K.createContext(null);kg.displayName="RouteError";function tR(r,{relative:t}={}){fe(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=K.useContext(Ni),{hash:o,pathname:u,search:f}=Cc(r,{relative:t}),d=u;return n!=="/"&&(d=u==="/"?n:mr([n,u])),s.createHref({pathname:d,search:f,hash:o})}function Rc(){return K.useContext(wc)!=null}function Pa(){return fe(Rc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(wc).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _T(r){K.useContext(Ni).static||K.useLayoutEffect(r)}function eR(){let{isDataRoute:r}=K.useContext(Ar);return r?mR():nR()}function nR(){fe(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(ul),{basename:t,navigator:n}=K.useContext(Ni),{matches:s}=K.useContext(Ar),{pathname:o}=Pa(),u=JSON.stringify(mT(s)),f=K.useRef(!1);return _T(()=>{f.current=!0}),K.useCallback((p,g={})=>{if(li(f.current,vT),!f.current)return;if(typeof p=="number"){n.go(p);return}let A=pT(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:mr([t,A.pathname])),(g.replace?n.replace:n.push)(A,g.state,g)},[t,n,u,o,r])}K.createContext(null);function Cc(r,{relative:t}={}){let{matches:n}=K.useContext(Ar),{pathname:s}=Pa(),o=JSON.stringify(mT(n));return K.useMemo(()=>pT(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function iR(r,t){return AT(r,t)}function AT(r,t,n,s){var it;fe(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=K.useContext(Ni),{matches:f}=K.useContext(Ar),d=f[f.length-1],p=d?d.params:{},g=d?d.pathname:"/",A=d?d.pathnameBase:"/",E=d&&d.route;{let J=E&&E.path||"";ET(g,!E||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=Pa(),x;if(t){let J=typeof t=="string"?Va(t):t;fe(A==="/"||((it=J.pathname)==null?void 0:it.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${J.pathname}" was given in the \`location\` prop.`),x=J}else x=w;let V=x.pathname||"/",j=V;if(A!=="/"){let J=A.replace(/^\//,"").split("/");j="/"+V.replace(/^\//,"").split("/").slice(J.length).join("/")}let L=!u&&n&&n.matches&&n.matches.length>0?n.matches:hT(r,{pathname:j});li(E||L!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),li(L==null||L[L.length-1].route.element!==void 0||L[L.length-1].route.Component!==void 0||L[L.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=lR(L&&L.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:mr([A,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?A:mr([A,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return t&&G?K.createElement(wc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},G):G}function rR(){let r=dR(),t=X1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:u},"ErrorBoundary")," or"," ",K.createElement("code",{style:u},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),n?K.createElement("pre",{style:o},n):null,f)}var sR=K.createElement(rR,null),aR=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?K.createElement(Ar.Provider,{value:this.props.routeContext},K.createElement(kg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oR({routeContext:r,match:t,children:n}){let s=K.useContext(ul);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Ar.Provider,{value:r},n)}function lR(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);fe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:A,errors:E}=n,w=g.route.loader&&!A.hasOwnProperty(g.route.id)&&(!E||E[g.route.id]===void 0);if(g.route.lazy||w){f=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,A)=>{let E,w=!1,x=null,V=null;n&&(E=u&&g.route.id?u[g.route.id]:void 0,x=g.route.errorElement||sR,f&&(d<0&&A===0?(ET("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,V=null):d===A&&(w=!0,V=g.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,A+1)),L=()=>{let G;return E?G=x:w?G=V:g.route.Component?G=K.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,K.createElement(oR,{match:g,routeContext:{outlet:p,matches:j,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||A===0)?K.createElement(aR,{location:n.location,revalidation:n.revalidation,component:x,error:E,children:L(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):L()},null)}function Bg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uR(r){let t=K.useContext(ul);return fe(t,Bg(r)),t}function cR(r){let t=K.useContext(Kf);return fe(t,Bg(r)),t}function hR(r){let t=K.useContext(Ar);return fe(t,Bg(r)),t}function jg(r){let t=hR(r),n=t.matches[t.matches.length-1];return fe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function fR(){return jg("useRouteId")}function dR(){var s;let r=K.useContext(kg),t=cR("useRouteError"),n=jg("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function mR(){let{router:r}=uR("useNavigate"),t=jg("useNavigate"),n=K.useRef(!1);return _T(()=>{n.current=!0}),K.useCallback(async(o,u={})=>{li(n.current,vT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var nA={};function ET(r,t,n){!t&&!nA[r]&&(nA[r]=!0,li(!1,n))}K.memo(pR);function pR({routes:r,future:t,state:n}){return AT(r,void 0,n,t)}function Xu(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gR({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){fe(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Va(n));let{pathname:p="/",search:g="",hash:A="",state:E=null,key:w="default"}=n,x=K.useMemo(()=>{let V=bs(p,f);return V==null?null:{location:{pathname:V,search:g,hash:A,state:E,key:w},navigationType:s}},[f,p,g,A,E,w,s]);return li(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${A}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:K.createElement(Ni.Provider,{value:d},K.createElement(wc.Provider,{children:t,value:x}))}function yR({children:r,location:t}){return iR(eg(r),t)}function eg(r,t=[]){let n=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let u=[...t,o];if(s.type===K.Fragment){n.push.apply(n,eg(s.props.children,u));return}fe(s.type===Xu,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=eg(s.props.children,u)),n.push(f)}),n}var df="get",mf="application/x-www-form-urlencoded";function Gf(r){return r!=null&&typeof r.tagName=="string"}function vR(r){return Gf(r)&&r.tagName.toLowerCase()==="button"}function _R(r){return Gf(r)&&r.tagName.toLowerCase()==="form"}function AR(r){return Gf(r)&&r.tagName.toLowerCase()==="input"}function ER(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function TR(r,t){return r.button===0&&(!t||t==="_self")&&!ER(r)}var ef=null;function bR(){if(ef===null)try{new FormData(document.createElement("form"),0),ef=!1}catch{ef=!0}return ef}var SR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(r){return r!=null&&!SR.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mf}"`),null):r}function wR(r,t){let n,s,o,u,f;if(_R(r)){let d=r.getAttribute("action");s=d?bs(d,t):null,n=r.getAttribute("method")||df,o=mp(r.getAttribute("enctype"))||mf,u=new FormData(r)}else if(vR(r)||AR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(s=p?bs(p,t):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||df,o=mp(r.getAttribute("formenctype"))||mp(d.getAttribute("enctype"))||mf,u=new FormData(d,r),!bR()){let{name:g,type:A,value:E}=r;if(A==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,E)}}else{if(Gf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=df,s=null,o=mf,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function zg(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function RR(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function xR(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let f=await RR(u,n);return f.links?f.links():[]}return[]}));return OR(s.flat(1).filter(CR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function iA(r,t,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var A;return n[g].pathname!==p.pathname||((A=n[g].route.path)==null?void 0:A.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,g)=>f(p,g)||d(p,g)):u==="data"?t.filter((p,g)=>{var E;let A=s.routes[p.route.id];if(!A||!A.hasLoader)return!1;if(f(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((E=n[0])==null?void 0:E.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function DR(r,t,{includeHydrateFallback:n}={}){return IR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function IR(r){return[...new Set(r)]}function MR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function OR(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(MR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function VR(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function PR(){let r=K.useContext(ul);return zg(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function NR(){let r=K.useContext(Kf);return zg(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Hg=K.createContext(void 0);Hg.displayName="FrameworkContext";function TT(){let r=K.useContext(Hg);return zg(r,"You must render this element inside a <HydratedRouter> element"),r}function UR(r,t){let n=K.useContext(Hg),[s,o]=K.useState(!1),[u,f]=K.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:A,onTouchStart:E}=t,w=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let j=G=>{G.forEach(it=>{f(it.isIntersecting)})},L=new IntersectionObserver(j,{threshold:.5});return w.current&&L.observe(w.current),()=>{L.disconnect()}}},[r]),K.useEffect(()=>{if(s){let j=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(j)}}},[s]);let x=()=>{o(!0)},V=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:wu(d,x),onBlur:wu(p,V),onMouseEnter:wu(g,x),onMouseLeave:wu(A,V),onTouchStart:wu(E,x)}]:[!1,w,{}]}function wu(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function LR({page:r,...t}){let{router:n}=PR(),s=K.useMemo(()=>hT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?K.createElement(BR,{page:r,matches:s,...t}):null}function kR(r){let{manifest:t,routeModules:n}=TT(),[s,o]=K.useState([]);return K.useEffect(()=>{let u=!1;return xR(r,t,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,t,n]),s}function BR({page:r,matches:t,...n}){let s=Pa(),{manifest:o,routeModules:u}=TT(),{loaderData:f,matches:d}=NR(),p=K.useMemo(()=>iA(r,t,d,o,s,"data"),[r,t,d,o,s]),g=K.useMemo(()=>iA(r,t,d,o,s,"assets"),[r,t,d,o,s]),A=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let x=new Set,V=!1;if(t.forEach(L=>{var it;let G=o.routes[L.route.id];!G||!G.hasLoader||(!p.some(J=>J.route.id===L.route.id)&&L.route.id in f&&((it=u[L.route.id])!=null&&it.shouldRevalidate)||G.hasClientLoader?V=!0:x.add(L.route.id))}),x.size===0)return[];let j=VR(r);return V&&x.size>0&&j.searchParams.set("_routes",t.filter(L=>x.has(L.route.id)).map(L=>L.route.id).join(",")),[j.pathname+j.search]},[f,s,o,p,t,r,u]),E=K.useMemo(()=>DR(g,o),[g,o]),w=kR(g);return K.createElement(K.Fragment,null,A.map(x=>K.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),E.map(x=>K.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),w.map(({key:x,link:V})=>K.createElement("link",{key:x,...V})))}function jR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var bT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bT&&(window.__reactRouterVersion="7.2.0")}catch{}function zR({basename:r,children:t,window:n}){let s=K.useRef();s.current==null&&(s.current=x1({window:n,v5Compat:!0}));let o=s.current,[u,f]=K.useState({action:o.action,location:o.location}),d=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(d),[o,d]),K.createElement(gR,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qg=K.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:d,target:p,to:g,preventScrollReset:A,viewTransition:E,...w},x){let{basename:V}=K.useContext(Ni),j=typeof g=="string"&&ST.test(g),L,G=!1;if(typeof g=="string"&&j&&(L=g,bT))try{let S=new URL(window.location.href),I=g.startsWith("//")?new URL(S.protocol+g):new URL(g),N=bs(I.pathname,V);I.origin===S.origin&&N!=null?g=N+I.search+I.hash:G=!0}catch{li(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=tR(g,{relative:o}),[J,dt,lt]=UR(s,w),Tt=QR(g,{replace:f,state:d,target:p,preventScrollReset:A,relative:o,viewTransition:E});function O(S){t&&t(S),S.defaultPrevented||Tt(S)}let R=K.createElement("a",{...w,...lt,href:L||it,onClick:G||u?t:O,ref:jR(x,dt),target:p,"data-discover":!j&&n==="render"?"true":void 0});return J&&!j?K.createElement(K.Fragment,null,R,K.createElement(LR,{page:it})):R});qg.displayName="Link";var HR=K.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:d,children:p,...g},A){let E=Cc(f,{relative:g.relative}),w=Pa(),x=K.useContext(Kf),{navigator:V,basename:j}=K.useContext(Ni),L=x!=null&&XR(E)&&d===!0,G=V.encodeLocation?V.encodeLocation(E).pathname:E.pathname,it=w.pathname,J=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(it=it.toLowerCase(),J=J?J.toLowerCase():null,G=G.toLowerCase()),J&&j&&(J=bs(J,j)||J);const dt=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let lt=it===G||!o&&it.startsWith(G)&&it.charAt(dt)==="/",Tt=J!=null&&(J===G||!o&&J.startsWith(G)&&J.charAt(G.length)==="/"),O={isActive:lt,isPending:Tt,isTransitioning:L},R=lt?t:void 0,S;typeof s=="function"?S=s(O):S=[s,lt?"active":null,Tt?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(O):u;return K.createElement(qg,{...g,"aria-current":R,className:S,ref:A,style:I,to:f,viewTransition:d},typeof p=="function"?p(O):p)});HR.displayName="NavLink";var qR=K.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:f=df,action:d,onSubmit:p,relative:g,preventScrollReset:A,viewTransition:E,...w},x)=>{let V=WR(),j=YR(d,{relative:g}),L=f.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&ST.test(d),it=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let dt=J.nativeEvent.submitter,lt=(dt==null?void 0:dt.getAttribute("formmethod"))||f;V(dt||J.currentTarget,{fetcherKey:t,method:lt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:A,viewTransition:E})};return K.createElement("form",{ref:x,method:L,action:j,onSubmit:s?p:it,...w,"data-discover":!G&&r==="render"?"true":void 0})});qR.displayName="Form";function FR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function wT(r){let t=K.useContext(ul);return fe(t,FR(r)),t}function QR(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let d=eR(),p=Pa(),g=Cc(r,{relative:u});return K.useCallback(A=>{if(TR(A,t)){A.preventDefault();let E=n!==void 0?n:lc(p)===lc(g);d(r,{replace:E,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,d,g,n,s,t,r,o,u,f])}var KR=0,GR=()=>`__${String(++KR)}__`;function WR(){let{router:r}=wT("useSubmit"),{basename:t}=K.useContext(Ni),n=fR();return K.useCallback(async(s,o={})=>{let{action:u,method:f,encType:d,formData:p,body:g}=wR(s,t);if(o.navigate===!1){let A=o.fetcherKey||GR();await r.fetch(A,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function YR(r,{relative:t}={}){let{basename:n}=K.useContext(Ni),s=K.useContext(Ar);fe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Cc(r||".",{relative:t})},f=Pa();if(r==null){u.search=f.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(A=>A==="")){d.delete("index"),p.filter(E=>E).forEach(E=>d.append("index",E));let A=d.toString();u.search=A?`?${A}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:mr([n,u.pathname])),lc(u)}function XR(r,t={}){let n=K.useContext(yT);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=wT("useViewTransitionState"),o=Cc(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=bs(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=bs(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wf(o.pathname,f)!=null||wf(o.pathname,u)!=null}new TextEncoder;const ZR=5e3,ng=9.8/(1e3/60),Yt={width:256,height:224},pa=8,Io={HD:3,"2K":4,"4K":5},rA=.05,pp=6,pf=[["green","blue"],["purple","white"],["white","red","blue"],["purple","yellow","green"],["red","purple","white","green"],["blue","yellow","white","red"],["green","blue","red","white","yellow"],["purple","yellow","green","red","blue","white"]],JR="/bust-a-move/assets/bg-lvl1-arena-CnWpDwuO.png",$R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAD3XpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZZrkuQoDIT/c4o9ApIQEsfhGbE32ONvgl39mO6ZrokoEzYujIUyP8AV5n//rvAPDtLsIal5LjlHHKmkwhU3Hq+jnCvFdK7nSI87+twe3l5iNAlquX5avWqqaNf3Fx7dqX1uD34/Yb8D3Q8eAWWPzLgZH5NEO1/tlO5AZV43ubh9TLXxVfe740nlPqk/0rqrvqV9aEgGl4ZiIGGeQhLP1a8MZJ8qFbWcq6EfScI9SwmnyncwGPJJ3qOO8aNBn0x+3IVf3Y/5e/O53j3kFy/zg1r+/gHp9+Yfiz8MLG8Z8ecHs8T0Rc59rjV8rXmpqynD0XzPqGM2PcKgY4Plcl7LKIZTcW+nFBSPNXYgH7HHhtKpEIPKCpRoUKVF89SdOlJMPBlMmLmznDYHo8JdLk4otNikyBAHrM4zAGUSfsuFzrjljNfJMfIgdGVCMMIrvy3hTw//poS19jQlOobm4xXy4j2vkcYmt6/otVfrurnpMfhRbvzxw8TCVAUzPTY7BNbYrhBN6X1uyeEs6KeoL8YUbNwBYBHGViRDAgIxkyhlisZsRPDRAagic5bEDQRIlQeS5CSSORg777HxjtHpy8qZdzP2JoBQyWJgU6QCVkqK+WPJMYeqiiZVzWrqQYvWLDllzTlb3ptcNbFkatnM3IpVF0+unt3cvXgtXAR7oJZcrHgppVYOFQNVxKroX9HSuElLTVtu1ryVVjumT09de+7WvZdeBw8Z2CZGHjZ8lFEnhYmdYqapM0+bPsusC3NtyUpLV162fJVV36jdVL+Uv6BGNzU+pHY/e6OG1mD2CEF7O9HNDMQ4EYjbJoAJzZtZdEqJN7nNLBbGolBGkrrZhEGbGBCmSayL3ti9k3uKW1B/ihv/RC5sdK8gF4DuK7dvqI39neuH2LUKt6dRsPoKzdkTzE7YpJR6brG2AsFEcLDhM2Vppeo+axorZ55ZUp+jT+ktdZjQaI+GYFrZQ0XnDt0aV5OKHgQBkJqpGT6Cjt/ebeD9ZLTqkBl9cGwV9hWoUCxG90Gh+v5cYTetM8UOcQ2DKiWM1GBjw8Ij7ymXWXrPZc1uzVZLhgRyauacHfupwGxJ2XtXrPGpMMPSlHKFwsYgMgbUzVLJq/jIpMYVgFgnmXR8LGaBGyOk0ibC7NHKaKUbeDqsyLJtj8gw7aCeftAefhT/pPbwo/gv2vGX5xv14Qn5T6kPT8h/Sn14BfqtPrwC/dYeXoF+aw+vQL+1h1eg3+rDK9Bv9eEV6Lf68Ar0W334DfqZ7eSM/2vYHfEvPfwP3Vf/5ZbyExEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1O1IhUHC4p0yFCdLIiKCC5ahSJUCLVCqw4ml35Bk4YkxcVRcC04+LFYdXBx1tXBVRAEP0DcBSdFFynxf2mhRYwHx/14d+9x9w4QaiWmWR1jgKbbZjIeE9OZVTHwCj+6MIAZhGVmGXOSlIDn+LqHj693UZ7lfe7P0atmLQb4ROJZZpg28Qbx1KZtcN4nDrGCrBKfE4+adEHiR64rDX7jnHdZ4JkhM5WcJw4Ri/k2VtqYFUyNeJI4omo65QvpBquctzhrpQpr3pO/MJjVV5a5TjOMOBaxBAkiFFRQRAk2orTqpFhI0n7Mwz/k+iVyKeQqgpFjAWVokF0/+B/87tbKTYw3koIxoPPFcT6GgcAuUK86zvex49RPAP8zcKW3/OUaMP1JerWlRY6Avm3g4rqlKXvA5Q4w+GTIpuxKfppCLge8n9E3ZYD+W6BnrdFbcx+nD0CKukrcAAeHwEiestc93t3d3tu/Z5r9/QCf63K5S1bc0wAAAAlwSFlzAAAK8AAACvABQqw0mAAAAAd0SU1FB+kDBxMdG0yBGloAAAFcSURBVFjD7ZihjsMwDIazU0HgoKHhQcPAwcHBwYN7hMHBwcE9wmBh4WBgYGGgYWDgAZ+iXTdVu/R00q02qOwk1v+54K+ahV1tERERzc8jpWQmx3K5rJNOKcUYjTHKr/yz5W8Qcbf/qJa/nFsAAICKXmZebVy19LX1MUblV/458y9Ofd/7OMVCQgi+85JbsJlz2bJgjTGDlVKe2uMU6XeH+93heD4ov/LPlr8RJ5gyABEZY3zn3doBADP7zluwREREzMzMIYTM+faA0FdL33qe8iv/bPnfxs+tNk40RhJmJiK3diEEYS3OdL8i5YD+GZW6UH7lf23+ZnyA3seUEgCMJGUGsSJ5yidekq3ZXFtfPIOIBt7zpEpFKL/yvzZ/Y34pBj4BAN3lmlKSSzZEDCFUv8c/COVX/v/I38hvdM555FDZvU2EeKSx0D8s74d/qDJIvrX4L/dSfuWfLf8nWVYkVHzU+YgAAAAASUVORK5CYII=",tC="/bust-a-move/assets/bg-lvl2-arena-BMHMfxQg.png",eC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAADwHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZZrkusoDIX/s4pZApIQguXwrJodzPLngO10+nYmcVeNKQPhKb4jFLvxz9/T/YWH1JILyGKO0eMJOWQuqCR/PHnn5MPO9xOuGn1vd49JjCZBKcdPK0dJBe36NeEaTvV7u0tnD6dzobPjWlDWzoxKfzYS7Xy0UzgXyuOoxJzs2dTKR9nOgduU86V2mXUWbR3tqSEYKHXFRsI8hMTvPB0WyHpVCkpBvnr9ylEXIYeC5ToSgHw73lV6/wzoG+Sr5v6k7+Nr+FzOEfIHy3ipFl93kL6GvxE/bSwPi/h7xxQffhznfOfsac5xnK6ECKLx9KgNm65lMLACuexpEcnwKuq2U0ZKvvgGybtvviI1ysQgPh0F6lRo0thlowYTAw82lMyNZbclMc7cZOkUVqLJJlm6JIjVeDhIF4QfttDeN+/9GiXs3AlDmbAYYcp/Jveu8zfJzbnclGgDjZsV7OLl1zBjKbdyjFq3dZ666QZ8pVN+/+RYcFVophtzwgGLr8cSVenLt2TrLBinKA+NyVk/FwAi7K0whgQK+EiiFMkbsxGBY4JABZazBK5QgFS5w0gOIpGdceK1N+YY7bGsHHk1IzZBCJUoBm2yFIgVgsJ/LCT4UFHRoKpRTZPTrCVKDFFjjBZXkCsmFkwtmlmybCVJCklTTJZSyqlkzoIYqDlmyynnXAq7go0K1ioYX9BSuUoNVWusVlPNtTS4TwtNW2zWUsutdO7SESZ67NZTz70McgORYoShIw4baeRRJnxtygxTZ5w208yzPFQ7Vf2RfqEanarxVmqNs4dqaHVm1xK0wokuzaAYB4LithSAQ/PSzCcKgZdySzOfEcZEGUbq0sZ1WopBwjCIddJDuy/lbunmNN3SjT8p55Z0/4dyDtL91O2Fan39z7Wt2HELF1MvuH04eo/VjVa5d8sgzQQW0afSPa/IBxkslKZhUujD8qA8YCuXmjG4l5KWcXPhm7j9owYlHdSUSq5V+sT/Sg1gb1FK9ZExZ6ndK9bJpeL4CHA4YUkaBYEgUI3BjbAkzrONBFjBNwQ5RNpQysSG1ILFIJZwptgpDMk0ELa7DUikBqDWC+wGIyAkhHzuqUZYnISytgmsca2cE8W6IXxg4G5DOBjAi/D98AKAu0fgMwB3j8BnAO4egc8A3D0CnwG4ewQ+A3D3CHwG4H51D94AcPcvwXsA7v4leA/A3b8E7wG4+5fgPQB3/xK8B+DuXwKcaBms+ISbiJj4cnf/AlzP/yI0VJAVAAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnoGiZNGAAAACXBIWXMAAArwAAAK8AFCrDSYAAAAB3RJTUUH6QMKDh8YASrBnAAAAalJREFUWMPtmKGPgzAUxh8JgklkJRK5OZCVzIE8OYub3ORN4u5fQII7JJI65qgbsueYG/LEW5pmsB2X3Kn2ieYlfe/7fg1JeakVRUBp1PcclsU43hxntbBYCAEAhJA/Fx/H2zBchRhd1/Abfn35rTzfBcEaFgdj5+X1p9O746z2+/1/iJdlVRRVmhp+w68vvx0Ea8bOyw8ghGBsafEwXAlZLdf/lTjemobf8OvMb2Nb33PP89X1WRvnLcBmqvWiHQcJWaYmS8RnXdSxxPAbfm35bdwIQ9o0tbpiadv2U6GuqzBJ0x0efrZdDuvSGLcAQK15cJHiMmZd1A9g+A2/tvzW5fJRlhXnre9v1BV1XRcnAZhNhuGuPm0HgDiOJESWZZ7nyy2ZSJdnFphMXQghTVO3bZ/nht/w68tvowHKqSsGpREAFEU1mxTF/bY4HI6MnQnZBsG6LIHzltJtlmVSJwxpXX9iGQDE8bEsK9XlmQUmU8iHMPyGX09+K893+FufvlN33dePN1CSzDzBCyGS5E2VDUNaFPn0PV26vL6Bpi5ywklTw2/49eX/BqWXrxUMbe4nAAAAAElFTkSuQmCC",nC="/bust-a-move/assets/bg-lvl3-arena-BcyvGgfa.png",iC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAFVHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVZZduQoEPznFHMEMiEXjpNs780N5vgTqFR22e3uds8b4ZIwYkkiIgOl9c/fO/2Fi6TlVMVcm2rGVVttHKh4flztulOu1/266rNGH9vT2yBGU8GzPP61eDwp0C7vA57dqX9sT36/Yb8nul88JyxnZUZlvgaJdn60U70nautR0eb2Gmrnx3PcHa9Q7h+NZ1j3Y5ytvTRUA0pTsFBhXoVKvu7+iKCcn5TAs+B+3uZzR12Kp+sF35MBkA/bez5zfgXoA8jPWvqMftavwee4e5RPWOqTNf36BcnX4F8Qvyxc3iLijy9wyQ/buX97T997PXYXVYGo3oq6wKbnNOjYAXm5himK4Seo21UaiufIA5TPPHJHGdSIgfhOVGlS0KZ1PQcNhFh5seHJPLhcbV6MG49yeKqn0GYrrczi4HLwSqCyFn6Lha5127XeIMfKk9CVCZMRhvy0pF+9/JOS9j4yJboA1QsrxMVHWQjjMHfu6HWydd+8yQXws9z05xdhQapgUC6YHRuM3B9TdKF3bZWL54J+gucjhSjZvCcARFhbEAwVMJCVipBSNmYjAo4OggKRc6ncwQCJ8ESQXEtRTsbOZ22MMbr6srDyaYY3gQgpWgzctBIgq1aBfqw6NBRSpIqIioknaRJatKqoqukxubBi1cTUzNyahRevLq5u7t48GrcCD5SmzZq31iI4BRYKzBXoH2jp3EuvXbp2695bjwH5jDpk6LDho42YPMuETUydNn22GYvSglOsumTpsuWrrdjQ2i67btm6bftuO95Yu1n9ofwBa3SzxhdTp5+9sYbWZPacgo6dyOEMjHElMG6HAQiaD2fZqVY+zB3OcmMkhTCClMNNmnQYA4V1EcumN+7emfsWb0n8W7zx75hLh7r/g7kE6n7k7QvW5jnnxsXYIwsPprkg+/ratloiWVgaRjNqyzz80ANI4TBgwequgcU1Zu91n41qKT2wcPZ5Km2vtcNpp4B1CmbjqL68ZASo4ks2t74AquLkNKBW1BHUsrL6mFVoLOTiSbLcpseSlJdQXdVx8MMJDYIBDQh9cptio4OVijAmosDmwe1c4ieMsymdO2yVPJemyLp4xALfHsSh3KDHwW1PoLkxLeHLAsm/8F/gkyOm7jwKlIbTGMqCUYTlntrIhBEcvbboulCfc5GPtQBzhmegsmz3viLb6huyFAae5GLQ6jDeOJ73sdqOU6FgE9SrzgxL39hEMIbnFq11oL+GQJ74C0MkXFdGgNAKBw6W1eqK1JccJdVCa17ZSmG6sRA4womge5ZNrrtILkbHenCMSG4C9wM3ShWAtbUTZvUACtSM1p7MfUKGruSNM77EAvbt+EiQgYMRI5pIQIfdtC1AngfUXyHSRIgAtQJsNxaFCgcGA14H4h3a19JshO7WCDxnwg4gBKihtAGlwo8x2muadUx3hl56q8geKYiEGCcr9grKQD4yNEygrIl/mXwraECCQZFQWAEPe83UIe/to1iDPpFY3MMbtlsDmVnpSBRwQdVDbrpG95MTn1Ii/eeceKTE0RgQl5HqgE2BumJjOFjGpwRPyABaQBrYPJFi+MDcqqMSxCID3wjAceB7ssGnsFeYv0dULnCoiI2Ugo1kJAp46GNomx3rHB6QEDo7LGEonWTLc8DHZq2TKgsMJvH5VhAgFtYXlHARpoLJdvXYEkfmcFAnrQxPQ1YsAk34dLSAN7YiOmdY6h2AUZtHjbnqqYyzvhmW3dNwkl46y78xhvQLZ/gjY0gfnOHVF75rC2U0dDhg71oHdrPhu/8Cgk0J43K/aRsAAAGDaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1OlUqoOdhDpkKE6WRAVcdQqFKFCqBVadTC59AuaGJIUF0fBteDgx2LVwcVZVwdXQRD8AHEXnBRdpMT/JYUWMR4c9+PdvcfdO0BoVJlmdY0Bmm6bmVRSzOVXxNArggijDzEEZGYZs5KUhu/4ukeAr3cJnuV/7s/RqxYsBgRE4hlmmDbxOvHUpm1w3ieOsrKsEp8Tj5p0QeJHrisev3EuuSzwzKiZzcwRR4nFUgcrHczKpkY8SRxXNZ3yhZzHKuctzlq1xlr35C+MFPTlJa7TjCGFBSxCgggFNVRQhY0ErTopFjK0n/TxD7l+iVwKuSpg5JjHBjTIrh/8D353axUnxr2kSBLofnGcj2EgtAs0647zfew4zRMg+Axc6W3/RgOY/iS93tbiR0D/NnBx3daUPeByBxh8MmRTdqUgTaFYBN7P6JvywMAtEF71emvt4/QByFJX6Rvg4BAYKVH2ms+7ezp7+/dMq78fAt5yegaJk0YAAAAJcEhZcwAACvAAAArwAUKsNJgAAAAHdElNRQfpAwoOOgNjvNiXAAABZUlEQVRYw+2YoZLDIBCGaSeiEolErkRWRvIIyEoeobIy8mRlZB4hspJHWIlEIisrmGEYcpP26Im7Zn+1AcL/bWbyD8lOgZCSKQXs5wohsLclhGizDiF6zxhjxE/8m+XvpGTX67nN+3K5aq2991LKamocp2rkdDLViE/PjzFj+gb3abqNoyN+4t8y/y74L+d8c37M8/xdPMS+PxrTWzsIwbXW4zjFeAA4LBdrrdusj0ep9TDPZ+In/s3yd2USNAgAEHFJj4jWujKNAA6I96oHAHjHvUoy4if+rfHv16eN6RPfSgEAS3oAUAqUAiFEKgAg9VDSv+7SJuIn/s/mf/ICO+dDiOtFRsn0IURE5JznfTjnt5tLCZR6KNt+0aVBxE/8n82/Z7+kfO7PfrmHRJ9P/Jzfyxz6IyJ+4v+P/J1zPsYnEZUXlEU6u1f3WjuUl4iYvuCXf+fKG6utVooy0nJ6ET/xb5b/AY2kmKlim7NhAAAAAElFTkSuQmCC",rC="/bust-a-move/assets/bg-lvl4-arena-BWA9GMX1.png",sC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAEOHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVZZshwpDPznFHMEJKGF47BGzA3m+JNUV7/Ffm4v4SKqoAVIIlMSndZ//+70Dx4qUVJRD6tmGU+ppXLDIPLjqdeXcrm+11OeI/osT2+bGCJBL4+f3h49Ncj1fcNzOfXP8hT3DMet6J54KpRjmTGYH52EnB9yKreiuh4Dq+EfXe386Me98HLlfmk83bq7cY72QVAcKE2FIWFeQpKvbzw8kPOqNPSC75mFv2hHQukS2a0MgHw63rPP+SNAn0B+jtK36Gf7Gnxu9wr5Bkt7smZfT5B+Df4F8QfD8uYRf56omst3x7nfvWfsvR6na8WAqN0RdYFNTzVY2AG5XNsMzfEqxn61iha55QHKZx65ow2qxMB9Jyo0qdGmdfWDBlwsvNjRMw+WSxbiXHkcfqScRptdqkwJcDl4JVBZhN98octuvewNCliehKVMUEbY8sOWXk3+Tkt7nzAlugC1Cyv4xSeu4cZh7nyx6mTrvnnTC+Bnu+nPHwILoQrO9II5cMCW+0NFV3qPLbl4Fqw7DD84puTzVgCIYFvhDMK+UDYSJaPszE4EHAMENXjOUriDAVLlCSe5iBgn5+BjG3ucrrWsbHzEqE0gQsXEwU2VBrJKUcSPo5LV0lS0qKqpaySt2kysmJqZ2ylyzcWLq5u7h1dvIVFCw8IjokarXAU1UKtVr1FrbY1Tg6EGXQ3rGySdu/TStVv3Hr32NhA+owwdNnzEqKNNnjJRJqZNnzHrbIvSQqVYZemy5StWXW0j1rbssnXb9h277vbG2s3qd+03WKObNb6YOuv8jTVIk/tTBZ1yooczMMaFwLgfBhDQfDjLQaXwYe5wlisjKZThpB5u0qTDGCgsi1g3vXH3ztwv8ZY0fok3/hlz6VD3N5hLoO573r5gbZ57blyMPbLwYJoF2dcAVETCcavOxrU5oBylxS6EO8pEohlNZzPaoksnti2441sbB1xaY45gn4arp6exUK+mV8kHJfg3cqsj1gIl1oB+HrG596KgI4BSVVohMvIwp6JU2oKfK/UqKJQVx1mBagFtstssJKuXZnPhqjPro55CyGs6am9ZxZ3qcYv6PEGGs6X447M5lL4bTC8sXpZeG4I+9UzhmkbFpX9A8oJb5Nz5QntayxV2EYobodHhTzn3RXXrHXels/QYExDluSJrq55GObdAW5BOaYwg14K/NGOD3zoUMH6NIpTIUfo0mF5ZPJZ+Ygj6uEcekhpUDFmAqbfse1aKvTrSGla5dq+T9XhjCIPRu84glUpzmB2IbJfMs/SVGI4sZBUYqkjgTkiYmc2DYiwGfvoDFKGmTqi9TaaXNtux9drU0acjW/pRoLzF/ovQP3EtAIyQAulnOTDkaxSPkgWlT4Op/6VkS9+GSc5/km5L0rriHC4Kag7++6b/AUo1zYaCDW1xAAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnoGiZNGAAAACXBIWXMAAArwAAAK8AFCrDSYAAAAB3RJTUUH6QMKDwERrXUs0AAAAOtJREFUWMPt2CEOgzAUBuDHUoGsrEQikZPIyR1hR9gROAISiUROTiInKyuRlZVIRFnTtMCyhLr/qfKg36v605C1TVuVNZ1d2nxew1vP0/32gA8ffiI/Gwcp1bh29UREQhTB2j76/aCMMW7NObcbhci7vmuePXz48BP5l3iPo53uT3V9/y33KpgHHz78dD6Ls2EvBmwpJb+pIPe+sWM2Dw0fPvwTfRaPCfLj5+GCFDm6uMOHD/9Un8XiHuHvDxLluODDh5/IZ1KNZVn9+xMsoDevBFoTEcGHDz+dn9XXSuQFJSg9r1Phw4efyF8AC3oKKxxjvjoAAAAASUVORK5CYII=",aC="/bust-a-move/assets/bg-lvl5-arena-D5S5I287.png",oC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAEU3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZdpkuM2DIX/8xQ5AgESC4/DtSo3yPHzKEtue6Z72k5HLIsyuIHvAyE7zH/+XuEvXGTRQxZzLaoRVy65cMWDx9tVjjvFfNyPK19P9GwP90EMU0Kdbl+t3mqqsMvHgKs7tWd78LOF/ZzobLgmTHtlxsN4dBJ2vtkpnxOVeXvQ4vboauNb3c+Ohyvnh/rl1ln1vbUHQzaoNAQLJeaZKMXj7jcP0v5IqqgT7rsV/qLsZw1HA52TQZCn7V11jI8CPYl8PYVf1Y/6ufhczx7pFy31oqafN5B8Lv4h8cPC6e4RPzeYHlCft3N+1hq+1rztrmaFonpG1CH2pdDu2CB5OoYpisU9raPepaB4rLED+Yg9NpROhRi6r0CZBlVaNI+6U4eLmScbaubO6bB5Mi7cN5iUd6HFlkoaycGy8wxAmRPffaFj3XKs18mx8iB0ZcJkhCFflvCnxndKWGuHKdEhqB5awS/ecQ03Nrl9R699WtfJTQ6Br3Lijw+BhVAFQTlkdmywxnabogl9xFY6OCf0E9S3I0TBxjkBJMLaAmcQ9pmiUhJSisZsRNDRAajCc06ZGwiQCA84yTkl5WDsvNfGGKOjLwsrbzNyE0BI0mRgU1IFrJwF8WPZEUNVkmQRUTHxIEWqJs0qqmq6k1y1ZNnE1MzcilVPnl1c3dy9eC1cEnKgFC1WvJRSK4eKhSrmquhfYWncUstNmjZr3kqrHeHTc5eu3br30uvgkQbSxNBhw0cZdVKYyBQzT5k6bfossy7E2korL1m6bPkqq96pnVR/K29Qo5MaH6R2P7tTgzWYXVPQTieymYEYZwJx2wQQ0LyZRaeceZPbzGJhHAphOCmbTRi0iQFhnsSy6M7ug9xL3IL4S9z4O3Jho/s/yAWg+53bJ9TGfs/1g9jtFG5NY8Lpa5akz1DJljbKpVofS+GFyeiOzFSLSBqbIHWjhW/mcEPaaqkPgnfVsWRxvBN1BcwGPmPNmle0lWhnILzHa7fSxajKrANSIWUpt0KkUxAbXeeU3Gnnv0nZKDh1yXWowAHXWpH0Zq4MOCU3hMWcGbQqjrArUpwrHwsxtw17FfjfvMSGHxHVyXPkpJvfaqapg2jrPpfSYBiqWB6GnMDeB0e4DeFK6YiTaD5nwg6DVfaK94GptjIyrzkUZPMqbfamfTbsJ6ciXAEVcs/ke2StKwJ0g8JWKrfgQ2jKQj6SOKY2RzC0NTJ+E6ypqdJeKMba26UWVEF8OEGubGi4qRU+5LrUQjBNEO8ZWGd3RiQXKoinVjjPWlwmuWKMe1oup2CBVD8U+4Fg4UmxHwgWnhT7gWDhSbE3BKu/CBaeFPuBYOHrEHtPsPB1iL0nWPg6xN4TLHwdYu8JFl48k98KFl48k98KFl48k98KFl48k98KFv5LErsE68VGW3mstf+LLGxS8mU5v8KR/TNt4TXzLzTdR2UDxtQ7AAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnoGiZNGAAAACXBIWXMAAArwAAAK8AFCrDSYAAAAB3RJTUUH6QMKDxACehJOHgAAAYNJREFUWMPtmaFuxDAMhn3VQKFhYWBgYODg4GBgYeFgH6Gw8OBg4R5hMLAw0I9gWHjAUhTd6U69a6VNqgOsJnH8f6nUxGlOUPt+HLz38HxJKc3zbIyRKiLmLmvtrXN+ZmYiMsZs0Y0xAgDFeS/+chb3+JlZqsqv/P+B/234PltrU0pl6Hsjl2UpfZi567ryXRjvHtiraD/xd4suAMQYlV/5j8xflfTe+3IXncZzaSUKEbVtG0JgZkScpsk5J2Mf28bZ8NUBgNiS/mVd773yK/+R+au8rUurpAT5iy8XACIiohCCuIUQACDnDzKN9XYvXeVX/iPzV7fbtwy4CiF6ebvPjXVdlzTr7V66yq/8R+avckc+jktCvyxLPw5E1I8DM/fjgIiIGGMUt5SStTavBHJGX2/30lV+5T8y/8l99pJYE1EObYzJX3/+sSZj6roWN4mCiGsO8bfncvfxvosuIiq/8h+W/9T4tmkaSaxfKFuukVJKW3TzirUX/7PXAMqv/H/OfwFJaF9wlZOTrQAAAABJRU5ErkJggg==";function vt(r){return new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=r})}const lC=await vt(JR),uC=await vt($R),cC=await vt(tC),hC=await vt(eC),fC=await vt(nC),dC=await vt(iC),mC=await vt(rC),pC=await vt(sC),gC=await vt(aC),yC=await vt(oC),gp=[{arena:lC,floor:uC},{arena:cC,floor:hC},{arena:fC,floor:dC},{arena:mC,floor:pC},{arena:gC,floor:yC}];var hr,Ci,as,_c,jo,os,zo,Ac;class vC{constructor(t,n){pt(this,hr);pt(this,Ci);pt(this,as);pt(this,_c);pt(this,jo);pt(this,os);pt(this,zo);pt(this,Ac);B(this,"color");B(this,"shrinkRate",0);B(this,"arenaSprite",null);B(this,"floorSprite",null);at(this,hr,2*t.orbRadius*10),at(this,Ci,2*t.orbRadius*13),at(this,os,Yt.height/2-D(this,Ci)/2),at(this,jo,Yt.height/2+D(this,Ci)/2),at(this,as,Yt.width/2-D(this,hr)/2),at(this,_c,D(this,as)+D(this,hr)),at(this,zo,D(this,jo)-2*t.orbRadius*2),at(this,Ac,D(this,jo)-2),this.color=n}get width(){return D(this,hr)}get height(){return D(this,Ci)}get leftBound(){return D(this,as)}get rightBound(){return D(this,_c)}get line(){return D(this,zo)}get topBound(){return D(this,os)}get arenaFloor(){return D(this,Ac)}resetArena(t){at(this,Ci,2*t.orbRadius*13),at(this,os,Yt.height/2-D(this,Ci)/2)}pickLevel(t){const n=(t-1)%gp.length;this.arenaSprite=gp[n].arena,this.floorSprite=gp[n].floor}draw(t){this.arenaSprite&&this.floorSprite&&(t.drawImage(this.arenaSprite,0,0,this.arenaSprite.width,this.arenaSprite.height,D(this,as)-pa,D(this,os)-pa,D(this,hr)+2*pa,D(this,Ci)+pa),t.fillStyle="white",t.fillRect(D(this,as)-pa,D(this,zo),D(this,hr)+2*pa,.5),t.drawImage(this.floorSprite,0,0,this.floorSprite.width,this.floorSprite.height,this.leftBound-this.floorSprite.width/4,this.arenaFloor,this.floorSprite.width,this.floorSprite.height),t.fillStyle="#242424",t.fillRect(0-innerWidth,this.arenaFloor+this.floorSprite.height,2*innerWidth,innerHeight))}update(t){this.draw(t),at(this,os,D(this,os)+this.shrinkRate)}}hr=new WeakMap,Ci=new WeakMap,as=new WeakMap,_c=new WeakMap,jo=new WeakMap,os=new WeakMap,zo=new WeakMap,Ac=new WeakMap;const _C="/bust-a-move/assets/bust-DKT7NOi4.mp3",AC="/bust-a-move/assets/collide-AUzdGPgz.mp3",EC="/bust-a-move/assets/go-BIGNKS37.mp3",TC="/bust-a-move/assets/points-multi-U5M6IET4.mp3",bC="/bust-a-move/assets/ready-DgBZNrM1.mp3",SC="/bust-a-move/assets/score-multi-uq-y7oag.mp3",wC="/bust-a-move/assets/score-B-djFCFN.mp3",RC="/bust-a-move/assets/shoot-N6AznkMs.mp3",CC="/bust-a-move/assets/clear-D1D-0Ziq.mp3",xC="/bust-a-move/assets/game-over-Ca--oxJV.mp3";class DC{constructor(){B(this,"maxCount",30);B(this,"pool",[]);B(this,"Sounds");for(let t=0;t<this.maxCount;t++)this.pool.push(new Audio);this.Sounds={pop:{name:_C,timeStamp:.2},go:{name:EC},collide:{name:AC,timeStamp:.25},multiplier:{name:TC,timeStamp:.4},ready:{name:bC},scoreMulti:{name:SC},score:{name:wC,timeStamp:.25},shoot:{name:RC,timeStamp:.1},clear:{name:CC},"game-over":{name:xC}}}playSound(t){let n;for(let s=0;s<this.maxCount;s++)this.pool[s].ended&&(n=this.pool[s]);n||(n=new Audio),n.src=this.Sounds[t].name,this.Sounds[t].timeStamp&&(n.currentTime=this.Sounds[t].timeStamp),n.play()}}const IC="/bust-a-move/assets/cannon-barrel-D1WgTuNI.png",gf=new Image;gf.src=IC;let MC=class{constructor(t){B(this,"width");B(this,"height");B(this,"x");B(this,"y");B(this,"deg",0);B(this,"degDelta",0);this.width=gf.width,this.height=gf.height,this.x=Yt.width/2-this.width/2,this.y=t.arena.arenaFloor-this.height+5}handleKeyDown(t,n){if(t===n.left)this.degDelta=-2;else if(t===n.right)this.degDelta=2;else return}handleKeyUp(){this.degDelta=0}draw(t){if(t){t.save();const n=this.deg*Math.PI/180;t.translate(this.x+this.width/2,this.y+this.height/2),t.rotate(n),t.drawImage(gf,-this.width/2,-this.height/2,this.width,this.height),t.restore()}}update(t){(this.deg+this.degDelta>=80||this.deg+this.degDelta<=-80)&&(this.degDelta=0),this.deg+=this.degDelta,this.draw(t)}};const OC="/bust-a-move/assets/cannon-base-sheet-DcUVUU_S.png",ga=new Image;ga.src=OC;class VC{constructor(t){B(this,"width");B(this,"height");B(this,"spriteWidth",ga.width/12);B(this,"shiftX",0);B(this,"x");B(this,"y");B(this,"sx",0);B(this,"sy",0);B(this,"frame",0);this.width=ga.width,this.height=ga.height,this.x=Yt.width/2-this.spriteWidth/2,this.y=t.arena.arenaFloor-this.height}handleKeyDown(t,n){if(t===n.left)this.shiftX=-this.spriteWidth;else if(t===n.right)this.shiftX=this.spriteWidth;else return}handleKeyUp(){this.shiftX=0}draw(t){t.drawImage(ga,this.sx,this.sy,this.spriteWidth,this.height,this.x,this.y,this.spriteWidth,this.height)}update(t){this.frame%5===0&&(this.sx+=this.shiftX,this.sx>=ga.width?this.sx=0:this.sx<=0&&(this.sx=ga.width-this.spriteWidth)),this.frame++,this.draw(t)}}const PC="/bust-a-move/assets/blue-firing-cannon-C7wjD0_z.png",NC="/bust-a-move/assets/cannon-launcher-DqqW1A-O.png",UC="/bust-a-move/assets/blue-idle-OrtXGiH8.png",LC="/bust-a-move/assets/blue-ko-Csp78JAD.png",yp=await vt(PC),vp=await vt(UC),Ru=await vt(NC),_p=await vt(LC);class kC{constructor(t){B(this,"spriteSheet",vp);B(this,"spriteWidth");B(this,"spriteHeight");B(this,"spriteSourceWidth",this.spriteSheet.width);B(this,"spriteShiftX",0);B(this,"spriteX");B(this,"spriteY");B(this,"spriteSX",0);B(this,"spriteSY",0);B(this,"launcherWidth");B(this,"launcherHeight");B(this,"launcherSourceWidth",Ru.width/4);B(this,"launcherShiftX",0);B(this,"launcherX");B(this,"launcherY");B(this,"launcherSX",0);B(this,"launcherSY",0);B(this,"frame",0);this.spriteWidth=this.spriteSheet.width,this.spriteHeight=this.spriteSheet.height,this.spriteX=Yt.width/2-this.spriteSourceWidth-2,this.spriteY=t.arena.arenaFloor-this.spriteHeight,this.launcherWidth=Ru.width,this.launcherHeight=Ru.height,this.launcherX=Yt.width/2-this.launcherSourceWidth/2,this.launcherY=t.arena.arenaFloor-this.launcherHeight-2}draw(t){t.drawImage(Ru,this.launcherSX,this.launcherSY,this.launcherSourceWidth,this.launcherHeight,this.launcherX,this.launcherY,this.launcherSourceWidth,this.launcherHeight),t.drawImage(this.spriteSheet,this.spriteSX,this.spriteSY,this.spriteSourceWidth,this.spriteHeight,this.spriteX,this.spriteY,this.spriteSourceWidth,this.spriteHeight)}handleKeyDown(t,n){t===n.fire&&(this.spriteSheet=yp,this.spriteShiftX=this.spriteSourceWidth,this.launcherShiftX=this.launcherSourceWidth,this.frame=0)}idle(){this.spriteSheet=vp,this.spriteSX=0,this.spriteShiftX=0}knocked(){this.spriteSheet=_p,this.spriteShiftX=this.spriteSourceWidth}update(t){this.frame++,this.draw(t),this.frame%3===0&&(this.spriteSheet===yp?(this.spriteSX+=this.spriteShiftX,this.launcherSX+=this.launcherShiftX,this.spriteSX>=yp.width&&(this.spriteSheet=vp,this.spriteSX=0,this.spriteShiftX=0),this.launcherSX>=Ru.width&&(this.launcherSX=0,this.launcherShiftX=0)):this.spriteSheet===_p&&(this.spriteSX+=this.spriteShiftX,this.spriteSX>=_p.width&&(this.spriteSX=0)))}}const BC="/bust-a-move/assets/green-turning-cannon-DQ6ceQxp.png",jC="/bust-a-move/assets/cannon-wheel-B-oqhjiD.png",zC="/bust-a-move/assets/green-idle-CGi3C42g.png",HC="/bust-a-move/assets/green-ko-D67_zdJl.png",nf=await vt(BC),Ap=await vt(zC),Cu=await vt(jC),Ep=await vt(HC);class qC{constructor(t){B(this,"spriteSheet",Ap);B(this,"spriteWidth");B(this,"spriteHeight");B(this,"spriteSourceWidth",this.spriteSheet.width);B(this,"spriteShiftX",0);B(this,"spriteX");B(this,"spriteY");B(this,"spriteSX",0);B(this,"spriteSY",0);B(this,"wheelWidth");B(this,"wheelHeight");B(this,"wheelSourceWidth",Cu.width/8);B(this,"wheelShiftX",0);B(this,"wheelX");B(this,"wheelY");B(this,"wheelSX",0);B(this,"wheelSY",0);B(this,"frame",0);this.spriteWidth=this.spriteSheet.width,this.spriteHeight=this.spriteSheet.height,this.spriteX=Yt.width/2+this.spriteSourceWidth/2,this.spriteY=t.arena.arenaFloor-this.spriteHeight,this.wheelWidth=Cu.width,this.wheelHeight=Cu.height,this.wheelX=Yt.width/2+this.spriteSourceWidth/2,this.wheelY=t.arena.arenaFloor-this.wheelHeight}draw(t){t.drawImage(Cu,this.wheelSX,this.wheelSY,this.wheelSourceWidth,this.wheelHeight,this.wheelX,this.wheelY,this.wheelSourceWidth,this.wheelHeight),t.drawImage(this.spriteSheet,this.spriteSX,this.spriteSY,this.spriteSourceWidth,this.spriteHeight,this.spriteX,this.spriteY,this.spriteSourceWidth,this.spriteHeight)}handleKeyDown(t,n){t!==n.left&&t!==n.right||(this.spriteSheet=nf,t===n.left?(this.spriteShiftX=-this.spriteSourceWidth,this.wheelShiftX=-this.wheelSourceWidth):(this.spriteShiftX=this.spriteSourceWidth,this.wheelShiftX=this.wheelSourceWidth))}handleKeyUp(){this.spriteSheet=Ap,this.spriteShiftX=0,this.wheelShiftX=0,this.spriteSX=0,this.wheelSX=0}idle(){this.spriteSheet=Ap,this.spriteSX=0,this.spriteShiftX=0}knocked(){this.spriteSheet=Ep,this.spriteShiftX=this.spriteSourceWidth}update(t){this.frame++,this.draw(t),this.frame%3===0&&(this.spriteSheet===nf?(this.spriteSX+=this.spriteShiftX,this.wheelSX+=this.wheelShiftX,this.spriteSX>=nf.width?(this.spriteSX=0,this.wheelSX=0):this.spriteSX<0&&(this.spriteSX=nf.width-this.spriteSourceWidth,this.wheelSX=Cu.width-this.wheelSourceWidth)):this.spriteSheet===Ep&&(this.spriteSX+=this.spriteShiftX,this.spriteSX>=Ep.width&&(this.spriteSX=0)))}}class FC{constructor(){B(this,"msPrev",performance.now());B(this,"fps",30);B(this,"msPerFrame",1e3/this.fps)}renderFrame(){const t=performance.now(),n=t-this.msPrev;if(n<this.msPerFrame)return!1;const s=Math.round(n%this.msPerFrame);return this.msPrev=t-s,!0}}const QC="/bust-a-move/assets/orbBag-ale0rwhn.png",Zu=new Image;Zu.src=QC;class sA{constructor(t,n){B(this,"width");B(this,"height");B(this,"sx");B(this,"sy",0);B(this,"x");B(this,"y");B(this,"spriteWidth",Zu.width/2);this.width=Zu.width,this.height=Zu.height,t==="back"?this.sx=0:this.sx=this.spriteWidth,this.x=n.cannon.x-5*n.orbRadius-this.spriteWidth/2,this.y=n.arena.arenaFloor-this.height}draw(t){t.drawImage(Zu,this.sx,this.sy,this.spriteWidth,this.height,this.x,this.y,this.spriteWidth,this.height)}}class KC{constructor(){B(this,"graph",new Map);B(this,"bustedThisRound",0);B(this,"currentColors",new Set)}addOrb(t){this.graph.set(t,new Set)}deleteOrb(t){this.graph.delete(t)}deleteGraph(){this.graph.clear()}addEdge(t,n){var s,o;(s=this.graph.get(t))==null||s.add(n),(o=this.graph.get(n))==null||o.add(t)}getNeighbors(t){return this.graph.get(t)}hasEdge(t,n){var s;return(s=this.graph.get(t))==null?void 0:s.has(n)}updateOrbs(t,n){const s=new Set;for(const[o]of this.graph)o.update(t,n),s.add(o.color);this.currentColors=s}}function Fg(r,t){return Math.round(Math.random()*t+r)}const GC="/bust-a-move/assets/orb-green-critter-Cs2EbAzi.png",WC="/bust-a-move/assets/orb-blue-critter-BGCx07O0.png",YC="/bust-a-move/assets/orb-red-critter-CPHgDvXd.png",XC="/bust-a-move/assets/orb-purple-critter-B8yngifK.png",ZC="/bust-a-move/assets/orb-yellow-critter-BoU1ndJb.png",JC="/bust-a-move/assets/orb-white-critter-puOhbMNI.png",Tp=await vt(GC),bp=await vt(WC),xu=await vt(YC),Sp=await vt(XC),wp=await vt(ZC),$C=await vt(JC),Rp={green:{sprite:Tp,width:Tp.width/4,height:Tp.height},blue:{sprite:bp,width:bp.width/4,height:bp.height},red:{sprite:xu,width:xu.width/4,height:xu.height},purple:{sprite:Sp,width:Sp.width/4,height:Sp.height},yellow:{sprite:wp,width:wp.width/4,height:wp.height},white:{sprite:$C,width:xu.width/4,height:xu.height}};class t2{constructor(){B(this,"x",0);B(this,"y",0);B(this,"dx",0);B(this,"dy",0);B(this,"sx",0);B(this,"sy",0);B(this,"spriteWidth",0);B(this,"spriteHeight",0);B(this,"color",null);B(this,"sprite",null);B(this,"frame",0);B(this,"free",!0)}assignProps(t,n,s){this.x=t,this.y=n,this.dx=Fg(-2,2),this.dy=-4,this.color=s,this.sprite=Rp[this.color].sprite,this.spriteWidth=Rp[this.color].width,this.spriteHeight=Rp[this.color].height,this.frame=1,this.free=!1}resetDefault(){this.x=0,this.y=0,this.dx=0,this.dy=0,this.sx=0,this.sy=0,this.color=null,this.sprite=null,this.spriteWidth=0,this.spriteHeight=0,this.frame=0,this.free=!0}draw(t){t&&this.sprite&&t.drawImage(this.sprite,this.sx,this.sy,this.spriteWidth,this.spriteHeight,this.x,this.y,this.spriteWidth,this.spriteHeight)}update(t,n){if(this.y>=n.arena.arenaFloor){n.critters.delete(this),this.resetDefault();return}this.draw(t),this.dy+=ng,this.y+=this.dy,this.x+=this.dx,this.frame%3===0&&(this.sx+=this.spriteWidth,this.sprite&&this.sx>=this.sprite.width&&(this.sx=0)),this.frame++}}const e2="/bust-a-move/assets/orb-green-bust-Du0f-xKb.png",n2="/bust-a-move/assets/orb-blue-bust-DMJMzAYM.png",i2="/bust-a-move/assets/orb-red-bust-Co87sNpq.png",r2="/bust-a-move/assets/orb-purple-bust-Cv4ig4NC.png",s2="/bust-a-move/assets/orb-yellow-bust-CbjiKrxp.png",a2="/bust-a-move/assets/orb-white-bust-DVFcchZ0.png",Cp=await vt(e2),xp=await vt(n2),Dp=await vt(i2),Ip=await vt(r2),Mp=await vt(s2),Op=await vt(a2),rf={green:{explosion:Cp,width:Cp.width/7,height:Cp.height},blue:{explosion:xp,width:xp.width/7,height:xp.height},red:{explosion:Dp,width:Dp.width/7,height:Dp.height},purple:{explosion:Ip,width:Ip.width/7,height:Ip.height},yellow:{explosion:Mp,width:Mp.width/7,height:Mp.height},white:{explosion:Op,width:Op.width/7,height:Op.height}};class o2{constructor(){B(this,"frame",0);B(this,"x",0);B(this,"y",0);B(this,"sx",0);B(this,"sy",0);B(this,"shiftX",0);B(this,"sprite",null);B(this,"spriteWidth",0);B(this,"spriteHeight",0);B(this,"color",null);B(this,"free",!0)}assignProps(t,n,s){this.x=t,this.y=n,this.color=s,this.sprite=rf[this.color].explosion,this.shiftX=rf[this.color].width,this.spriteWidth=rf[this.color].width,this.spriteHeight=rf[this.color].height,this.frame=1,this.free=!1}resetDefault(){this.x=0,this.y=0,this.sx=0,this.sy=0,this.color=null,this.sprite=null,this.shiftX=0,this.spriteWidth=0,this.spriteHeight=0,this.frame=0,this.free=!0}draw(t){t&&this.sprite&&t.drawImage(this.sprite,this.sx,this.sy,this.spriteWidth,this.spriteHeight,this.x,this.y,this.spriteWidth,this.spriteHeight)}update(t,n){if(this.sprite&&this.sx>=this.sprite.width){n.explosions.delete(this),this.resetDefault();return}this.frame%3===0&&(this.sx+=this.shiftX),this.draw(t),this.frame++}}const l2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEHHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7VZbkusoDP3XKmYJIPEQy+FZNTuY5c8B43Q6SSednv6auqZsMEjiSEfIpv7P34P+wsUsTM5HDSkEg8sllzhjoOa40npa49Zzv5hz8GmeLguMKUEvx2vMWz5j3n8onHvY8nmedK+wbkOn5W1Q5s6MQbsGiXk+5q3bhlI/BiFpvIZa+OjrFlxQ9q1pYZnGjiW80/WEi4hS89hImLtYMeuph4zM20tGL+vpIIfVNfaEzsrpKwLyyb1LAM11gD4F+RzRbfQvo5vgc97zchPLsGOEwcMF6x8Hf4X4amO5IOLPC8om3rmz7zGajtEP77ILiGjYGWXojM7UgWBByGWpBbSI22McV0toarKpoLyZagpatckyWBlknW0222H76qutgOi4c0TPXFnWnErkxFUmT242OzhKkgbWWCp3ApVO+ILFrn3T2q9axc7NQpQtjFmofNno2eI7jcaoM0TW6CVWwMUzRQFjMjefkAIhdmze/Arw2Tb95ip/kKpg0K8wKxzMphwmircfuSWLZ4GcR38cIUuxbQMIEfb2AGMFDJiAhLfBmsgcrUUcFQRlIGecjQIGrPfcAJKdSGCKjMzB3tCJdsmy58BzGrUJRHgJEsFNkgyynPPIn+gUOZS9eOe9Dz56JZ98DhJc8CGEGGaRy1Giiz6GGKPGFLOKOvUaNKpq0pw4CWqgTyHFpCmlnJkyNsqwlSGfMVO4SHHFl1Bi0ZJKrkif6qqvocaqNdXcuElDmWihxaYttdwtdVSK7rrvoceuPfU8kGtDhht+hBGHjjTyhbXN6l17gzW7WePF1JSLF9YwSzGeJuwsJ35yBsbYWTAeJwNIaJ6cGbXO8WRucmYS41B4Bkg/uaFmJ2Og0HXLftgLdx/MfYs38vot3vgVczSp+w3mCNTd8/aAtTa/c3UxdpzCGVMjOH2QyayE2xg8/mv/x9AfQ/8/Q9JtpTUuI3Sp7bVCly2PKtX41xBNJCcQmkgEWOZKHj2wdO964+PdOpx9aWkvN3ajRTNs2vooeQOVUkumNdGydDXQ2Os5upHzWx7Smx4cDrTTAacyUIoBmZ5ivjNZOWwTJaL25Q+btI2+VnnC2OzptR9Pibio060dEHAdf3wRDrU8pOPPY72YBzGgH3py5wi9YuRLzRvodIMdX59+vJs6UpF2LuML3eff7XbNnK7lVsG5Diq6Fatzw+kp+VU/NO5Yt6JD3IjhsEjYyoza3Fea+HweikFHBqfzyzwVe6mjVOkytqEq0kMd/lx3ik1/kE30w1NxxwE9JuHm+Ne0geUGTOYRfvqVJLqtkD9NoomfHhybH51feqsOPTm/9IHkNulv6uULv+kXYn3n2q0r363ZS4+eKH4XmeAPM9G/Ut1XT+g4d64AAAGDaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX9OKIhUFK4g4ZKhOFkRFHLUKRagQaoVWHUwu/YImDUmKi6PgWnDwY7Hq4OKsq4OrIAh+gLgLToouUuL/kkKLGA+O+/Hu3uPuHSDUy0yzQuOApttmKhEXM9lVsfMVQYQwgD5AZpYxJ0lJ+I6vewT4ehfjWf7n/hw9as5iQEAknmWGaRNvEE9v2gbnfeIIK8oq8TnxmEkXJH7kuuLxG+eCywLPjJjp1DxxhFgstLHSxqxoasRTxFFV0ylfyHisct7irJWrrHlP/sJwTl9Z5jrNYSSwiCVIEKGgihLKsBGjVSfFQor24z7+IdcvkUshVwmMHAuoQIPs+sH/4He3Vn5ywksKx4GOF8f5GAE6d4FGzXG+jx2ncQIEn4ErveWv1IGZT9JrLS16BPRuAxfXLU3ZAy53gMEnQzZlVwrSFPJ54P2MvikL9N8C3Wteb819nD4AaeoqeQMcHAKjBcpe93l3V3tv/55p9vcD5NNyboIAIfQAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfpAwQXBRBM9Fy5AAAAkklEQVQ4y+2TsQ7CMAxEnyuk+jMZ+0mMHfnE63QMUUWcCpDowEIkD2clji/PCducWRMn178AXHoRsR2Q2HO8rWCbhlJmxQhLMqJpVGLfv0fscxCxGSVCJPm8IQWquu+qvsGdehhgbUWFmlYWq1PxetVLq7nkDzEebH3Vwe0DxhFlwaguN6CM8TuPw2TP0efGwXoA+PV3g9Nwbe8AAAAASUVORK5CYII=",u2=await vt(l2);class c2{constructor(){B(this,"x",0);B(this,"y",0);B(this,"dy",-1);B(this,"originy",0);B(this,"sprite",null);B(this,"free",!0)}assignProps(t,n){this.sprite=u2,this.x=t-this.sprite.width/2,this.y=n-this.sprite.height/2,this.originy=n,this.free=!1}resetDefault(){this.x=0,this.y=0,this.sprite=null,this.originy=0,this.free=!0}draw(t){t&&this.sprite&&t.drawImage(this.sprite,this.x,this.y,this.sprite.width,this.sprite.height)}update(t,n){this.y<=this.originy-50&&(n.tenPointSprites.delete(this),this.resetDefault()),this.draw(t),this.y+=this.dy}}class h2{constructor(){B(this,"critters",[]);B(this,"explosions",[]);B(this,"tens",[]);B(this,"maxCount",100);for(let t=0;t<this.maxCount;t++){const n=new t2;this.critters.push(n)}for(let t=0;t<this.maxCount;t++){const n=new o2;this.explosions.push(n)}for(let t=0;t<this.maxCount;t++){const n=new c2;this.tens.push(n)}}getFreeObject(t){for(let n=0;n<this.maxCount;n++)if(this[t][n].free)return this[t][n]}}function f2(r){if(!(r.orbs.bustedThisRound<3)){r.sfx&&(r.audioPool.playSound("pop"),r.audioPool.playSound("score"));for(const[t]of r.orbs.graph){if(t.busted){r.score+=10,r.roundScore+=10,r.orbs.deleteOrb(t);const s=r.pool.getFreeObject("explosions");s.assignProps(t.x-2*t.r,t.y-2*t.r,t.color),r.explosions.add(s);const o=r.pool.getFreeObject("critters");o.assignProps(t.x,t.y,t.color),r.critters.add(o),setTimeout(()=>{const u=r.pool.getFreeObject("tens");u.assignProps(t.x,t.y),r.tenPointSprites.add(u)},300);continue}const n=r.orbs.getNeighbors(t);n==null||n.forEach(s=>{s.busted&&n.delete(s)})}}}const d2="/bust-a-move/assets/numbers-sheet-green-p3mS1RE6.png",m2="/bust-a-move/assets/numbers-sheet-blue-DrW5TLXv.png",p2="/bust-a-move/assets/numbers-sheet-red-Caj7rY3N.png",g2="/bust-a-move/assets/numbers-sheet-yellow-CdQQzUrl.png",Vp=await vt(d2),y2=await vt(m2),v2=await vt(p2),_2=await vt(g2),ca={green:Vp,blue:y2,red:v2,yellow:_2,digitWidth:Vp.width/10,digitHieght:Vp.height};class A2{constructor(t){B(this,"x");B(this,"y");B(this,"dy",0);B(this,"scoreDigits");B(this,"sprite",ca.green);B(this,"numberSheets",[ca.green,ca.blue,ca.red,ca.yellow]);B(this,"width");B(this,"digitWidth",ca.digitWidth);B(this,"digitHeight",ca.digitHieght);B(this,"frame",1);this.scoreDigits=t.split("").map(n=>Number(n)),this.width=this.digitWidth*this.scoreDigits.length,this.x=Yt.width/2-this.width/4,this.y=this.digitHeight}draw(t){if(t){const n=this.scoreDigits.length;for(let s=n-1;s>=0;s--)t.drawImage(this.sprite,this.scoreDigits[s]*this.digitWidth,0,this.digitWidth,this.digitHeight,this.x+this.digitWidth*s/2,this.y,this.digitWidth,this.digitHeight)}}update(t,n){this.draw(t),this.frame++,this.y+=this.dy,this.sprite=this.numberSheets[this.frame%this.numberSheets.length],this.frame>=60&&(this.dy=-5),this.y<0-this.digitHeight&&(n.dropPoints=null)}}function E2(r){const t=new Map;let n=0;for(const[s]of r.orbs.graph){const o=r.orbs.getNeighbors(s);if((o==null?void 0:o.size)===0&&!s.anchoredToArena){s.drop(),n++;continue}else if(s.anchoredToArena){t.set(s,!0);continue}else{s.recursiveVisitedFlag=!0;const u=RT(t,s,r.orbs)||!1;t.set(s,u)}}for(const[s]of t)!t.get(s)&&!s.anchoredToArena&&(n++,s.drop()),s.recursiveVisitedFlag=!1;if(n){r.sfx&&(r.audioPool.playSound("scoreMulti"),r.audioPool.playSound("multiplier"));let s=20;for(let o=1;o<n;o++)s*=2;r.dropPoints=new A2(s.toString()),r.score+=s,r.roundScore+=s}}function RT(r,t,n){const s=n.getNeighbors(t)??new Set;for(const o of s){if(r.has(o))return r.get(o);if(o.y>t.y||o.recursiveVisitedFlag)continue;if(o.y<=t.y&&!o.recursiveVisitedFlag){o.recursiveVisitedFlag=!0;const u=RT(r,o,n);return r.set(o,u),u}else return!1}}const T2="/bust-a-move/assets/bg-lvl1-B-1VX9GM.png",b2="/bust-a-move/assets/bg-lvl2-BC2JwVNq.png",S2="/bust-a-move/assets/bg-lvl3-ZmOq5y_0.png",w2="/bust-a-move/assets/bg-lvl4-BxpPo3zp.png",R2="/bust-a-move/assets/bg-lvl5-AQJtlIHb.png",C2=await vt(T2),x2=await vt(b2),D2=await vt(S2),I2=await vt(w2),M2=await vt(R2),aA=[C2,x2,D2,I2,M2];function O2(r){if(r.ctx){const t=(r.round-1)%aA.length,n=r.ctx.createPattern(aA[t],"repeat");r.ctx.fillStyle=n,r.ctx.fillRect(0-r.transformOrigin.x,0-r.transformOrigin.y,r.width,r.height)}}const V2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAAAQCAYAAADqIbaUAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht8mSkUrDnYQcQhYnSyIijhqFYpQIdQKrTqYXPoHTRqSFhdHwbXg4M9i1cHFWVcHV0EQ/AFxF5wUXaTE75JCixjvOO7hve99ufsOEOolptsd44BuVKxkPCalM6tS8BUiemgOQ1SYbc7JcgK+4+seAb7fRXmWf92fo1fL2gwISMSzzLQqxBvE05sVk/M+cZgVFI34nHjMogsSP3Jd9fiNc95lgWeGrVRynjhMLOXbWG1jVrB04iniiKYblC+kPdY4b3HWS1XWvCd/YShrrCxzndYQ4ljEEmRIUFFFESVUEKXdIMVGks5jPv5B1y+TSyVXEYwcCyhDh+L6wf/gd2/t3OSElxSKAZ0vjvMxAgR3gUbNcb6PHadxAojPwJXR8pfrwMwn6bWWFjkC+raBi+uWpu4BlzvAwJOpWIoribSEXA54P6NvygD9t0D3mte35jlOH4AU9SpxAxwcAqN5yl73eXdXe9/+rWn27wcUUXKB9zXAFwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+kDCwsoFsji6SEAAALZSURBVGje5VrdjuwgCMbJSeojetlH6975iMwVezH98QcUre00e9w02UwR5RM+kNQQEYTDmHf8AzOIJgOKkeqqzdPKl+Q0+z9jU8+Q9lRa8ylYtOrI9klE8HEyJAAkWIAAC88CBIC0zZOeTFdlnla+JKfa/wmbWp8ipuuaKhuxgAVeh0WzDgZH6N6M0lkQUXWQG1iIeMwpgMrJpe+itU/Y0+1cS+ehcDYmcpv+zM6BWIQO3KQj2OdrpzIHgIAHtXkAsPh5PMOFaMv0ueqzYKPfNGOfk6xhzJsA7a430s3oKL2/chjzJlhsbK+EpwOARcZyt8HxGEcyV2Dhmb3UfCO254gEyQvDaNBEvSjfMydIJSIjPCxFsrYweJZwqcmo3g/AonudVeZfC7MAMKzERW/AMjzzIamLaveJHc0+iSZjDBI4m0fhjLcU+Rt71XDio76Cyyqz/f90LAAgSJEKqoyo1jdQrD+5S9cWBOx8tMezHg7RZLZnaI505+cQTQYsyjLpGhZ1jnEhFlGJlTqYFG17Lp3xyLsWAebcoL32CPXNmEeMpua4cjj4E4M70FuwWM8vrDUjxvZKBjM/hiJvZzy/a8Ougf00vz1wDAsUn5cYWQlyNyYhC3IXjYB8XjVFuP5x76pNOH/SMWbMdcw4/tAeOogmI9krHehXsfB5qn6NisawuC95urrNkTrZGecKr9X2SNkbzfd2vM8eWtYWumOMwCLUUc9M8jWzes3VtDIa54vtB6b59/Q2RRNWtcZ1Y4P40k5+QxvjJdLwYo/CvnITFFsTNrkYQB+LNd1uXEfx6y5iilJhfEfKHoGFRoeXz/UlCqXpzTWmUs84x01p4Fsd/Kx28jKeezB6ZQ3VeeEZgQV3rlydKLYpdiGp9a8x2Oe1Uwgay5S+81LgG/bxpaK/hqn1Vmz3qBxW45gjsNCu6YG91Zqez3W4ju8Vn5f8z5/rtNrdsu6d5/oL+Ko7tX7E1O8AAAAASUVORK5CYII=",Pp=await vt(V2);function P2(r){var t;(t=r.ctx)==null||t.drawImage(Pp,Yt.width/2-Pp.width/2,Yt.height/2-Pp.height)}const N2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALsAAAAQCAYAAABOSw5HAAABg2lDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnr6c840AAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH6QMLAQwg+ycYyAAAAyxJREFUaN7tWstu7CAMdaIrlU9kmU/Lkk90V+5iZnID2Njm0XakIrGIYow5Pti8NiKCbfskcBSij02TkXS22nJtSnlNZpWOESxmFItNki0WTEb77sGm1OuV7+gfCU4gQGM9gQCQiAi4CoAk6ny25dqzbYq+NJllOiQcFCxm1CaeBr9YMFH79/DDw5NzQL6j/w0ACTA8aA8IAAABgj5tAvIR8wwAUWmbAODAOppiqG249aPJiP9v/Xl1mPBgsJgWzS14Nmyx4Kra4MVDweU+LgRk/STZMcLT/eqkHEh6CELA7P9VzpClFdYxko5Yt8/sMwxCk8n+x34dJkAxdKd6tUTIiKb6BcdwnYKHY1wWP2VjH+HplSLKNKClfk4GgRCx+d/V3ikj/i+WUKqOBWm7a/lyjuFhlfnuZUzTT9pSZoCn+8x0W81UrZx9EbErukSbDqKPDQ6sI8orekgRJK6J6taSRf+JhcWDw6SsynJE5MrCLOkmuwhqnOPMGWlS1HF26n467lVZ5/9UScXyIk0MEJrvMPyvT2wznIz2SzaPFI6n/9pRF+kiCbeZeLcSH26fRbIl0dxB0seGGgkO/cjPnXV7sD2MG+77uF6BI4aKe6YJ4+Dpbpq5kQGeSVNLwRwl5srlxhuUX+ObOEmmg6d7F3EWHbUtKwfOz0S/YNJckbJYTiw7GbIGlJ42aYE9BU93TRgC2pxsNLY6RnsHwj8J9Krda/+FR5MXrrFvTGW1kum+IX1NQE4Hd17PRWX3RtXB01103m1TVikqDOnetB3flyGsNrJ4lJuxOCmyTYyW7mVKOSYhO4j8aLVfkGFm8HS/RwcX8NzMS3L0qAxNRue2dPSQLNmj5U9OXHFyMngsOWkZxSPyUT2ztTyuBIVjgzzNngtkDRrX+dKVs3a9fbUVroXvV8L2kFY/JxiRGbVhyZp8wnMB/452AA+LjoID4lgdOjSe7uxGQYpSCZpHj1c0Ei5eQgrNC4crFSVjhOZIlgyRPDm/pf4Xb9Y1PM0HB6PZb3TzyX0XHBAv81obWidPN+6Jr/WpqPe5rtZGa2vR9ffEtx/PGXhYdfRwbFTHF2WPJXloT2j2AAAAAElFTkSuQmCC",CT="/bust-a-move/assets/msg-numbers-DdtLTyHF.png",U2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAQCAYAAAC7mUeyAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpVIrDnYQcchQnSyIijhqFYpQIdQKrTqYvPQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APiLjgpukiJ9yWFFjFeeLyP8+45vHcfIDQqTLO6xgFNt810MiFmc6ti6BVB9CKMACIys4w5SUrBt77uqY/qLs6z/Pv+rD41bzEgIBLPMsO0iTeIpzdtg/M+cZSVZJX4nHjMpAsSP3Jd8fiNc9FlgWdGzUx6njhKLBY7WOlgVjI14inimKrplC9kPVY5b3HWKjXWuid/YSSvryxzndYwkljEEiSIUFBDGRXYiNOuk2IhTecJH/+Q65fIpZCrDEaOBVShQXb94H/we7ZWYXLCS4okgO4Xx/kYAUK7QLPuON/HjtM8AYLPwJXe9lcbwMwn6fW2FjsC+reBi+u2puwBlzvA4JMhm7IrBWkJhQLwfkbflAMGboHwmje31jlOH4AMzSp1AxwcAqNFyl73eXdP59z+7WnN7wfTSHJnag8HBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+kDCwoYHhi9PdcAAAFtSURBVEjHrVdLssQgCGxSryoccZZzNJcekax4i5kYJeJvQoqNSkf5NEqqCqJDMSGqO9mxWYwnsKztH9GhCAy8Bv8eASLRHGga4yEsItH8UASIQhgAIBAAAIP7SCwXCB0K4WQ/jNHAGbaPAN4fjC0N2E3Ez4/AUswnCVxNB/5+s3JG5HaQyj5ypxURVFV8ooNSIaqq13yAu8ad72kwGAIVkfY+Gms2PCCqO+Etlwe9aOZeZknpYSNby4CUBRH3yK1GpvBKtsZqD3PYphJJq6e9H5ncI192KfI54nFR3Qks/oIXAOFLDT1T6jMyWbQs1R5RFLTF7Njc+swIRWeY8zUTxze1wmgFQ47UoWSs6uaqk5+9vG8yT6/Ggs92zZpKjNih3RV1CSP4uPnhPQf0DrOdhVU0oifEEoZtcK0yyG0sEbXSNL/OrBTrcPF3cJfvdzcCiJUi/1Xi4JhtvHGdiMh7AvzKVt41voc785SwWP9Jtq2OKlbMiQAAAABJRU5ErkJggg==",Np=await vt(N2),oA=await vt(U2),Ju=await vt(CT),Mo=Ju.width/10;function L2(r){var n,s,o;const t=r.roundScore.toString().split("").map(u=>Number(u));(n=r.ctx)==null||n.drawImage(Np,Yt.width/2-Np.width/2,Yt.height/2-Np.height);for(let u=0,f=t.length;u<f;u++)(s=r.ctx)==null||s.drawImage(Ju,t[u]*Mo,0,Mo,Ju.height,Yt.width/2-Mo*(f-u)-Mo,Yt.height/2+Ju.height,Mo,Ju.height);(o=r.ctx)==null||o.drawImage(oA,Yt.width/2+Mo,Yt.height/2+oA.height)}const k2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAQCAYAAABnYDOFAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpVIrDnYQcchQnSyIijhqFYpQIdQKrTqYvPQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APiLjgpukiJ9yWFFjFeeLyP8+45vHcfIDQqTLO6xgFNt810MiFmc6ti6BVB9CKMACIys4w5SUrBt77uqY/qLs6z/Pv+rD41bzEgIBLPMsO0iTeIpzdtg/M+cZSVZJX4nHjMpAsSP3Jd8fiNc9FlgWdGzUx6njhKLBY7WOlgVjI14inimKrplC9kPVY5b3HWKjXWuid/YSSvryxzndYwkljEEiSIUFBDGRXYiNOuk2IhTecJH/+Q65fIpZCrDEaOBVShQXb94H/we7ZWYXLCS4okgO4Xx/kYAUK7QLPuON/HjtM8AYLPwJXe9lcbwMwn6fW2FjsC+reBi+u2puwBlzvA4JMhm7IrBWkJhQLwfkbflAMGboHwmje31jlOH4AMzSp1AxwcAqNFyl73eXdP59z+7WnN7wfTSHJnag8HBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+kDCwoxAdHzr8kAAAHMSURBVFjD1VjLksQgCGxTWzV+osd8Wo58IntiD3lMoqDoJlUzVHkCWoINEoOIIIRfQYeIvELLxsKs+Wo+uX3L5imMzlywYIGAnWuBACwiAm0BLCbm5qv5qz7ZXi2bxzCsPBi5CAALOK7pBQMAImL7iCLrDFgikBq+BGDmkh0cyxhO+7RsTP1pv14MVz6yXEzHpjkArcaIfNEfssRLmagJtTBS6X+J0XGoLZuLPo1juAjG2bcclM/p3SoZzYYhzFzVd/l32pj6rPU0MXraodJCJtwgO0sZ7DtZg+1e6drDYKuFIfIKmLlsV3vFWZV7wu9O6rnX1IIe+dDhhHkxlkHsrR/vq0h6Jj91FrEcwSRcmUj4Pklrym8Rsok0VQPguK6kMGAub/94V8B3C/2zojplGgpQGac+Wma+v7LSSFLPzdkD5gz60pPpSxK7Xaj7cvRm/7hk6YdHptYenTbD+kdGqlS51S1WsTIOkX3CxemSk+01jBG2k6+0m/kwJoQ3Ux3/9y2meU758DX+matMajDscbY7Y3gzler/5WddbaQ6ZjhjQI4UV52BL/IK5nDtvTAJ/RVBA2wmO4agPf1ZN7vXbvTpr/fpTcP6hKe/P8Xx6i0VxuTdAAAAAElFTkSuQmCC",sf=await vt(k2),$u=await vt(CT),Du=$u.width/10;function B2(r){var s,o;const t=r.round.toString().split("").map(u=>Number(u)),n=t.length;(s=r.ctx)==null||s.drawImage(sf,Yt.width/2-(sf.width+Du*n)/2,Yt.height/2-sf.height/2);for(let u=0;u<n;u++)(o=r.ctx)==null||o.drawImage($u,t[u]*Du,0,Du,$u.height,Yt.width/2+Du*u+sf.width/2,Yt.height/2-$u.height/2,Du,$u.height)}function j2(r,t){const n=r.color,s=t.getNeighbors(r);xT(n,s,t)}function xT(r,t,n){t&&t.forEach(s=>{if(r===s.color&&!s.busted){s.busted=!0,n.bustedThisRound+=1;const o=n.getNeighbors(s);xT(r,o,n)}})}function z2(r,t){let n=0,s=0;n=Math.atan2(r.x-t.x,r.y-t.y),s=n*180/Math.PI+270,s>=270&&s<330?s=300:s>=210&&s<270?s=240:s>=330&&s<450?s=360:s>=90&&s<210&&(s=180),n=(s-270)*Math.PI/180,r.y=t.y+(r.r+t.r)*Math.cos(n),r.x=t.x+(r.r+t.r)*Math.sin(n)}function DT(r,t){return Math.sqrt((t.x-r.x)**2+(t.y-r.y)**2)}function H2(r,t){for(const[n]of t.graph)if(r!==n&&DT(r,n)<=n.r+r.r&&!n.orphaned){r.dx=0,r.dy=0,z2(r,n);break}}function q2(r){for(const[t]of r.orbs.graph)if(t!==r.firedOrb&&r.arena.line-t.y<t.r&&!t.orphaned)return!0;return!1}function IT(r,t){for(const[n]of t.graph)n!==r&&Math.floor(DT(r,n))<=r.r+n.r&&t.addEdge(r,n)}const F2="/bust-a-move/assets/orb-green-idle-BaLvXH_S.png",Q2="/bust-a-move/assets/orb-green-shine-DJVtE-1f.png",K2="/bust-a-move/assets/orb-blue-idle-WEBqKFza.png",G2="/bust-a-move/assets/orb-blue-shine-ZptsSmGI.png",W2="/bust-a-move/assets/orb-red-idle-CeXsUxqc.png",Y2="/bust-a-move/assets/orb-red-shine-BrfRtJiW.png",X2="/bust-a-move/assets/orb-purple-idle-CoYv-NyA.png",Z2="/bust-a-move/assets/orb-purple-shine-B67_BqoW.png",J2="/bust-a-move/assets/orb-yellow-idle-COFXJ7-e.png",$2="/bust-a-move/assets/orb-yellow-shine-ys9jz3hy.png",tx="/bust-a-move/assets/orb-white-idle-SBGHk0NR.png",ex="/bust-a-move/assets/orb-white-shine-DxnMmzFd.png",Up=await vt(F2),nx=await vt(Q2),Lp=await vt(K2),ix=await vt(G2),kp=await vt(W2),rx=await vt(Y2),Bp=await vt(X2),sx=await vt(Z2),jp=await vt(J2),ax=await vt($2),zp=await vt(tx),ox=await vt(ex),rs={green:{idle:Up,shine:nx,width:Up.width/3-1,height:Up.height},blue:{idle:Lp,shine:ix,width:Lp.width/3-1,height:Lp.height},red:{idle:kp,shine:rx,width:kp.width/3-1,height:kp.height},purple:{idle:Bp,shine:sx,width:Bp.width/3-1,height:Bp.height},yellow:{idle:jp,shine:ax,width:jp.width/3-1,height:jp.height},white:{idle:zp,shine:ox,width:zp.width/3-1,height:zp.height}};Array.from(Object.keys(rs));class yf{constructor(t,n,s,o,u,f=[]){B(this,"x");B(this,"y");B(this,"dx");B(this,"dy");B(this,"r");B(this,"color","");B(this,"sprite",null);B(this,"frame",1);B(this,"sx",0);B(this,"sy",0);B(this,"spriteDrawX");B(this,"spriteDrawY");B(this,"shiftX",0);B(this,"spriteWidth",0);B(this,"spriteHeight",0);B(this,"spriteDrawWidth");B(this,"spriteDrawHeight");B(this,"busted",!1);B(this,"anchoredToArena",!1);B(this,"recursiveVisitedFlag",!1);B(this,"randomIdleInterval",Fg(200,300));B(this,"orphaned",!1);B(this,"free",!0);this.x=t,this.y=n,this.r=s,this.dx=o,this.dy=u,this.color=f[Math.floor(Math.random()*f.length)],this.sprite=rs[this.color].idle,this.spriteWidth=rs[this.color].width,this.spriteHeight=rs[this.color].height,this.spriteDrawX=this.x-this.r,this.spriteDrawY=this.y-this.r,this.spriteDrawWidth=2*this.r,this.spriteDrawHeight=2*this.r}draw(t){t&&this.sprite&&(t.strokeStyle="transparent",t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.stroke(),t.drawImage(this.sprite,this.sx,this.sy,this.spriteWidth,this.spriteHeight,this.spriteDrawX,this.spriteDrawY,this.spriteDrawWidth,this.spriteDrawHeight))}shine(){this.sprite=rs[this.color].shine,this.shiftX=this.spriteWidth+1}idle(){this.shiftX=this.spriteWidth+1}drop(){this.orphaned=!0,this.dy=ng}update(t,n){if(this.y+this.dy>n.arena.arenaFloor){n.orbs.deleteOrb(this);return}(this.x+this.dx<n.arena.leftBound+this.r||this.x+this.dx>n.arena.rightBound-this.r)&&(this.dx=-this.dx),this.y+this.dy<=n.arena.topBound+this.r&&(this.dx=0,this.dy=0,this.y=n.arena.topBound+this.r,this.x=n.arena.leftBound+Math.floor((this.x+this.r/2-n.arena.leftBound)/(2*this.r))*(2*this.r),this.anchoredToArena=!0),this.x+=this.dx,this.y+=this.dy,this.spriteDrawX=this.x-this.r,this.spriteDrawY=this.y-this.r,this.frame%this.randomIdleInterval===0&&this.idle(),this.frame%3===0&&(this.sx+=this.shiftX,(this.sprite===rs[this.color].shine&&this.sx>=this.sprite.width||this.sprite===rs[this.color].idle&&this.sx>=this.sprite.width)&&(this.sx=0,this.shiftX=0,this.sprite=rs[this.color].idle)),this.orphaned&&(this.dy+=ng),this.frame++,this.draw(t)}}function lx(r){if(r.loadedOrb&&r.nextOrb){r.sfx&&r.audioPool.playSound("shoot"),r.firedOrb=r.loadedOrb,r.loadedOrb=r.nextOrb,r.loadedOrb.dx=pp,r.firedOrb.dx=pp*Math.cos((-90+r.cannon.deg)*Math.PI/180),r.firedOrb.dy=pp*Math.sin((-90+r.cannon.deg)*Math.PI/180),r.orbs.addOrb(r.firedOrb);const t=Array.from(r.orbs.currentColors);r.nextOrb=new yf(r.cannon.x-5*r.orbRadius,r.arena.arenaFloor-r.orbRadius,r.orbRadius,0,0,t)}}function ux(r){r.loadedOrb=new yf(r.cannon.x+r.cannon.width/2,r.cannon.y+r.cannon.height/2,r.orbRadius,0,0,pf[r.level]),r.nextOrb=new yf(r.cannon.x-5*r.orbRadius,r.arena.arenaFloor-r.orbRadius,r.orbRadius,0,0,pf[r.level]);const t=new Map,n=10+10*((r.round-1)%5);for(let s=0;s<n;s++){const o=new yf(0,r.arena.topBound+r.orbRadius,r.orbRadius,0,0,pf[r.level]);o.anchoredToArena=!0,cx(o,t,r)}for(const s of t.values())r.orbs.addOrb(s),IT(s,r.orbs)}function cx(r,t,n){for(r.x=2*n.orbRadius+n.arena.leftBound+2*n.orbRadius*Fg(0,8);t.has(`${r.x}, ${r.y}`);){r.anchoredToArena=!1;let s;const o=t.get(`${r.x}, ${r.y}`);n.arena.rightBound-r.x<=2*r.r?s=-30:r.x-n.arena.leftBound<=2*r.r?s=30:s=Math.random()>=.5?30:-30;const u=s*Math.PI/180;r.y=o.y+Math.cos(u)*(r.r+o.r),r.x=o.x+Math.sin(u)*(r.r+o.r)}t.set(`${r.x}, ${r.y}`,r)}function hx(r){r.bustedThisRound=0;for(const[t]of r.graph)t.busted=!1}function fx(r){for(const[t]of r.orbs.graph)t.y+=r.arenaShrinkRate}function dx(r){r.nextOrb&&r.loadedOrb&&(r.nextOrb.update(r.ctx,r),r.loadedOrb.update(r.ctx,r),r.loadedOrb.x>=r.cannon.x+r.cannon.width/2&&(r.loadedOrb.x=r.cannon.x+r.cannon.width/2,r.loadedOrb.dx=0,r.loadedOrb.y=r.cannon.y+r.cannon.height/2))}const mx="/bust-a-move/assets/Let's%20Go%20to%20Pao%20Pao%20Island!-BsykAe2l.mp3";class px{constructor(t,n){B(this,"arena");B(this,"arenaShrinkRate",0);B(this,"audioPool");B(this,"bgMusic",new Audio(mx));B(this,"ctx",null);B(this,"cannon");B(this,"cannonBase");B(this,"cannonLoaderSprite");B(this,"cannonOperatorSprite");B(this,"controls",{left:"a",right:"d",fire:" "});B(this,"critters",new Set);B(this,"dropPoints",null);B(this,"explosions",new Set);B(this,"firedOrb",null);B(this,"fpsController",new FC);B(this,"frame",0);B(this,"gameOverFlag",!1);B(this,"height");B(this,"round");B(this,"level");B(this,"loadedOrb",null);B(this,"msNow",this.fpsController.msPrev);B(this,"music",!0);B(this,"nextOrb",null);B(this,"orbs",new KC);B(this,"orbBagBack");B(this,"orbBagFront");B(this,"orbRadius",pa);B(this,"paused",!1);B(this,"pool");B(this,"roundComplete",!1);B(this,"roundScore",0);B(this,"roundStart",!1);B(this,"sfx",!0);B(this,"transformOrigin");B(this,"transformScaler");B(this,"score",0);B(this,"tenPointSprites",new Set);B(this,"width");B(this,"keyDownEvent",t=>{this.cannon.handleKeyDown(t.key,this.controls),this.cannonBase.handleKeyDown(t.key,this.controls),this.cannonOperatorSprite.handleKeyDown(t.key,this.controls),this.cannonLoaderSprite.handleKeyDown(t.key,this.controls),t.key===this.controls.fire&&!this.firedOrb&&lx(this)});B(this,"keyUpEvent",()=>{this.cannon.handleKeyUp(),this.cannonBase.handleKeyUp(),this.cannonOperatorSprite.handleKeyUp()});B(this,"animationLoop",()=>{var t;if(this.ctx){if(this.frame=requestAnimationFrame(this.animationLoop),this.msNow=this.fpsController.msPrev,!this.fpsController.renderFrame())return;this.ctx.clearRect(0,0,this.width,this.height),this.ctx.setTransform(this.transformScaler,0,0,this.transformScaler,this.transformOrigin.x,this.transformOrigin.y),O2(this),this.arena.update(this.ctx),fx(this),this.orbBagBack.draw(this.ctx),this.cannonBase.update(this.ctx),this.cannon.update(this.ctx),this.firedOrb&&(H2(this.firedOrb,this.orbs),this.firedOrb.dx===0&&this.firedOrb.dy===0&&(this.sfx&&this.audioPool.playSound("collide"),this.firedOrb.shine(),IT(this.firedOrb,this.orbs),j2(this.firedOrb,this.orbs),f2(this),E2(this),hx(this.orbs),this.firedOrb=null)),this.cannonLoaderSprite.update(this.ctx),dx(this),this.orbs.updateOrbs(this.ctx,this),this.explosions.forEach(n=>n.update(this.ctx,this)),this.tenPointSprites.forEach(n=>n.update(this.ctx,this)),this.critters.forEach(n=>n.update(this.ctx,this)),this.orbBagFront.draw(this.ctx),this.cannonOperatorSprite.update(this.ctx),(t=this.dropPoints)==null||t.update(this.ctx,this),this.orbs.graph.size===0&&!this.roundComplete&&this.nextRound(),this.roundComplete&&L2(this),this.roundStart&&B2(this),this.gameOverFlag||q2(this)&&this.gameOver(),this.gameOverFlag&&P2(this),this.ctx.resetTransform()}});this.width=t,this.height=n,this.transformScaler=Math.min(t/Yt.width,n/Yt.height),this.transformOrigin={x:(t-Yt.width*this.transformScaler)/2,y:(n-Yt.height*this.transformScaler)/2},this.round=1,this.level=-1,this.audioPool=new DC,this.pool=new h2,this.arena=new vC(this,"#000000"),this.cannon=new MC(this),this.cannonBase=new VC(this),this.cannonOperatorSprite=new qC(this),this.cannonLoaderSprite=new kC(this),this.orbBagBack=new sA("back",this),this.orbBagFront=new sA("front",this)}setContext(t){this.ctx=t}setOptions(t){this.sfx=t.sfx,this.music=t.music,this.controls.left=t.left,this.controls.right=t.right,this.controls.fire=t.fire,this.music?this.bgMusic.play():this.bgMusic.pause()}start(){this.music&&this.bgMusic.play(),(this.round-1)%5===0&&(this.level=Math.min(this.level+1,pf.length-1)),ux(this),this.arena.pickLevel(this.round),this.sfx&&this.audioPool.playSound("ready"),this.roundScore=0,this.roundComplete=!1,this.roundStart=!0,setTimeout(()=>{this.sfx&&this.audioPool.playSound("go"),this.arenaShrinkRate=rA,this.arena.shrinkRate=rA,window.addEventListener("keydown",this.keyDownEvent),window.addEventListener("keyup",this.keyUpEvent),this.roundStart=!1},3500)}nextRound(){this.sfx&&this.audioPool.playSound("clear"),this.bgMusic.pause(),this.bgMusic.currentTime=0,this.roundComplete=!0,this.arenaShrinkRate=0,this.arena.shrinkRate=0,window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent),this.loadedOrb=null,this.nextOrb=null,setTimeout(()=>{this.arena.resetArena(this),this.round+=1,this.start()},ZR)}gameOver(){this.music&&(this.bgMusic.pause(),this.bgMusic.currentTime=0),this.sfx&&this.audioPool.playSound("game-over"),this.gameOverFlag=!0,this.arenaShrinkRate=0,this.arena.shrinkRate=0,this.cannonOperatorSprite.knocked(),this.cannonLoaderSprite.knocked(),window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent)}restart(){this.gameOverFlag=!1,this.score=0,this.round=1,this.level=-1,this.orbs.deleteGraph(),this.loadedOrb=null,this.nextOrb=null,this.cannonOperatorSprite.idle(),this.cannonLoaderSprite.idle(),this.arena.resetArena(this),this.start()}stop(){window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent),this.orbs.deleteGraph(),cancelAnimationFrame(this.frame)}togglePause(){this.roundComplete||this.roundStart||(this.paused?(this.music&&this.bgMusic.play(),requestAnimationFrame(this.animationLoop),window.addEventListener("keydown",this.keyDownEvent),window.addEventListener("keyup",this.keyUpEvent)):(this.music&&this.bgMusic.pause(),cancelAnimationFrame(this.frame),window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent)),this.paused=!this.paused)}}function gx(){const[r,t]=K.useState({width:innerWidth,height:innerHeight});return K.useEffect(()=>{window.addEventListener("resize",()=>{t({width:innerWidth,height:innerHeight})})},[]),r}function yx(r){const[t,n]=K.useState(()=>r<2e3?Io.HD:r>=2e3&&r<3e3?Io["2K"]:Io["4K"]);return K.useEffect(()=>{r<2e3?n(Io.HD):r>=2e3&&r<3e3?n(Io["2K"]):n(Io["4K"])},[r]),t}const xc=K.createContext(null);function Hp({dispatchKeyBoardDown:r,dispatchKeyBoardUp:t,value:n,custClass:s}){return Y.jsx("button",{value:n,onTouchStart:o=>r(o),onTouchEnd:o=>t(o),className:`p-8 rounded-full text-center w-max bg-black border-s-white border-2 
        hover:cursor-pointer active:scale-95 focus:bg-blue-500 opacity-60
         ${s||""}`})}function vx(){const r=K.useContext(xc),t=s=>{const o=new KeyboardEvent("keydown",{key:s.currentTarget.value});window.dispatchEvent(o)},n=s=>{const o=new KeyboardEvent("keyup",{key:s.currentTarget.value});window.dispatchEvent(o)};return Y.jsx(Y.Fragment,{children:(r==null?void 0:r.mobileUI)&&Y.jsxs("div",{className:"flex justify-between items-center px-3 2xl:hidden",children:[Y.jsxs("div",{className:"flex flex-col w-28 gap-2",children:[Y.jsx(Hp,{dispatchKeyBoardDown:t,dispatchKeyBoardUp:n,value:r==null?void 0:r.left}),Y.jsx(Hp,{dispatchKeyBoardDown:t,dispatchKeyBoardUp:n,value:r==null?void 0:r.right,custClass:"ml-auto"})]}),Y.jsx(Hp,{dispatchKeyBoardDown:t,dispatchKeyBoardUp:n,value:r==null?void 0:r.fire,custClass:"h-max"})]})})}function xa({children:r,cb:t}){return Y.jsx("button",{className:"px-4 py-2 text-center bg-black border-s-white border-2 rounded-2xl hover:cursor-pointer active:scale-95 focus:bg-blue-500",onClick:t,children:r})}function _x({game:r}){const t=n=>{const s=n.toString().length;let o=""+n;for(let u=0;u<11-s;u++)o="0"+o;return o};return Y.jsxs("section",{className:"h-full relative z-10 flex flex-col justify-between p-2 2xl:p-8",children:[Y.jsxs("div",{className:"flex justify-between items-center",children:[Y.jsxs("div",{className:"font-bold space-y-4 2xl:text-2xl p-4 bg-black border-s-white border-2 rounded-2xl ",children:[Y.jsx("p",{children:t(r.score)}),Y.jsxs("p",{children:["ROUND-",r.round]})]}),Y.jsx("div",{className:"flex flex-col gap-2 h-max lg:flex-row",children:Y.jsx(xa,{cb:n=>{r==null||r.togglePause(),n==null||n.currentTarget.blur()},children:"PAUSE"})})]}),Y.jsx(vx,{})]})}function Ca({to:r,text:t}){return Y.jsx(qg,{to:r,className:"px-4 py-2 text-center bg-black border-s-white border-2 rounded-2xl hover:cursor-pointer active:scale-95 focus:bg-blue-500",children:t})}var cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Da=typeof window>"u"||"Deno"in globalThis;function Yn(){}function Ax(r,t){return typeof r=="function"?r(t):r}function ig(r){return typeof r=="number"&&r>=0&&r!==1/0}function MT(r,t){return Math.max(r+(t||0)-Date.now(),0)}function Lo(r,t){return typeof r=="function"?r(t):r}function ai(r,t){return typeof r=="function"?r(t):r}function lA(r,t){const{type:n="all",exact:s,fetchStatus:o,predicate:u,queryKey:f,stale:d}=r;if(f){if(s){if(t.queryHash!==Qg(f,t.options))return!1}else if(!uc(t.queryKey,f))return!1}if(n!=="all"){const p=t.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||u&&!u(t))}function uA(r,t){const{exact:n,status:s,predicate:o,mutationKey:u}=r;if(u){if(!t.options.mutationKey)return!1;if(n){if(Ia(t.options.mutationKey)!==Ia(u))return!1}else if(!uc(t.options.mutationKey,u))return!1}return!(s&&t.state.status!==s||o&&!o(t))}function Qg(r,t){return((t==null?void 0:t.queryKeyHashFn)||Ia)(r)}function Ia(r){return JSON.stringify(r,(t,n)=>rg(n)?Object.keys(n).sort().reduce((s,o)=>(s[o]=n[o],s),{}):n)}function uc(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!uc(r[n],t[n])):!1}function OT(r,t){if(r===t)return r;const n=cA(r)&&cA(t);if(n||rg(r)&&rg(t)){const s=n?r:Object.keys(r),o=s.length,u=n?t:Object.keys(t),f=u.length,d=n?[]:{};let p=0;for(let g=0;g<f;g++){const A=n?g:u[g];(!n&&s.includes(A)||n)&&r[A]===void 0&&t[A]===void 0?(d[A]=void 0,p++):(d[A]=OT(r[A],t[A]),d[A]===r[A]&&r[A]!==void 0&&p++)}return o===f&&p===o?r:d}return t}function Rf(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const n in r)if(r[n]!==t[n])return!1;return!0}function cA(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function rg(r){if(!hA(r))return!1;const t=r.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!hA(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function hA(r){return Object.prototype.toString.call(r)==="[object Object]"}function Ex(r){return new Promise(t=>{setTimeout(t,r)})}function sg(r,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(r,t):n.structuralSharing!==!1?OT(r,t):t}function Tx(r,t,n=0){const s=[...r,t];return n&&s.length>n?s.slice(1):s}function bx(r,t,n=0){const s=[t,...r];return n&&s.length>n?s.slice(0,-1):s}var Kg=Symbol();function VT(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===Kg?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var _a,ls,Ho,eT,Sx=(eT=class extends cl{constructor(){super();pt(this,_a);pt(this,ls);pt(this,Ho);at(this,Ho,t=>{if(!Da&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,ls)||this.setEventListener(D(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,ls))==null||t.call(this),at(this,ls,void 0))}setEventListener(t){var n;at(this,Ho,t),(n=D(this,ls))==null||n.call(this),at(this,ls,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){D(this,_a)!==t&&(at(this,_a,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,_a)=="boolean"?D(this,_a):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},_a=new WeakMap,ls=new WeakMap,Ho=new WeakMap,eT),Gg=new Sx,qo,us,Fo,nT,wx=(nT=class extends cl{constructor(){super();pt(this,qo,!0);pt(this,us);pt(this,Fo);at(this,Fo,t=>{if(!Da&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){D(this,us)||this.setEventListener(D(this,Fo))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,us))==null||t.call(this),at(this,us,void 0))}setEventListener(t){var n;at(this,Fo,t),(n=D(this,us))==null||n.call(this),at(this,us,t(this.setOnline.bind(this)))}setOnline(t){D(this,qo)!==t&&(at(this,qo,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return D(this,qo)}},qo=new WeakMap,us=new WeakMap,Fo=new WeakMap,nT),Cf=new wx;function ag(){let r,t;const n=new Promise((o,u)=>{r=o,t=u});n.status="pending",n.catch(()=>{});function s(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{s({status:"fulfilled",value:o}),r(o)},n.reject=o=>{s({status:"rejected",reason:o}),t(o)},n}function Rx(r){return Math.min(1e3*2**r,3e4)}function PT(r){return(r??"online")==="online"?Cf.isOnline():!0}var NT=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function qp(r){return r instanceof NT}function UT(r){let t=!1,n=0,s=!1,o;const u=ag(),f=j=>{var L;s||(w(new NT(j)),(L=r.abort)==null||L.call(r))},d=()=>{t=!0},p=()=>{t=!1},g=()=>Gg.isFocused()&&(r.networkMode==="always"||Cf.isOnline())&&r.canRun(),A=()=>PT(r.networkMode)&&r.canRun(),E=j=>{var L;s||(s=!0,(L=r.onSuccess)==null||L.call(r,j),o==null||o(),u.resolve(j))},w=j=>{var L;s||(s=!0,(L=r.onError)==null||L.call(r,j),o==null||o(),u.reject(j))},x=()=>new Promise(j=>{var L;o=G=>{(s||g())&&j(G)},(L=r.onPause)==null||L.call(r)}).then(()=>{var j;o=void 0,s||(j=r.onContinue)==null||j.call(r)}),V=()=>{if(s)return;let j;const L=n===0?r.initialPromise:void 0;try{j=L??r.fn()}catch(G){j=Promise.reject(G)}Promise.resolve(j).then(E).catch(G=>{var Tt;if(s)return;const it=r.retry??(Da?0:3),J=r.retryDelay??Rx,dt=typeof J=="function"?J(n,G):J,lt=it===!0||typeof it=="number"&&n<it||typeof it=="function"&&it(n,G);if(t||!lt){w(G);return}n++,(Tt=r.onFail)==null||Tt.call(r,n,G),Ex(dt).then(()=>g()?void 0:x()).then(()=>{t?w(G):V()})})};return{promise:u,cancel:f,continue:()=>(o==null||o(),u),cancelRetry:d,continueRetry:p,canStart:A,start:()=>(A()?V():x().then(V),u)}}function Cx(){let r=[],t=0,n=d=>{d()},s=d=>{d()},o=d=>setTimeout(d,0);const u=d=>{t?r.push(d):o(()=>{n(d)})},f=()=>{const d=r;r=[],d.length&&o(()=>{s(()=>{d.forEach(p=>{n(p)})})})};return{batch:d=>{let p;t++;try{p=d()}finally{t--,t||f()}return p},batchCalls:d=>(...p)=>{u(()=>{d(...p)})},schedule:u,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{o=d}}}var Le=Cx(),Aa,iT,LT=(iT=class{constructor(){pt(this,Aa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ig(this.gcTime)&&at(this,Aa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(Da?1/0:5*60*1e3))}clearGcTimeout(){D(this,Aa)&&(clearTimeout(D(this,Aa)),at(this,Aa,void 0))}},Aa=new WeakMap,iT),Qo,Ko,Wn,Ea,on,Ec,Ta,ri,cr,rT,xx=(rT=class extends LT{constructor(n){super();pt(this,ri);pt(this,Qo);pt(this,Ko);pt(this,Wn);pt(this,Ea);pt(this,on);pt(this,Ec);pt(this,Ta);at(this,Ta,!1),at(this,Ec,n.defaultOptions),this.setOptions(n.options),this.observers=[],at(this,Ea,n.client),at(this,Wn,D(this,Ea).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,at(this,Qo,Dx(this.options)),this.state=n.state??D(this,Qo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=D(this,on))==null?void 0:n.promise}setOptions(n){this.options={...D(this,Ec),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,Wn).remove(this)}setData(n,s){const o=sg(this.state.data,n,this.options);return Ot(this,ri,cr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(n,s){Ot(this,ri,cr).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var o,u;const s=(o=D(this,on))==null?void 0:o.promise;return(u=D(this,on))==null||u.cancel(n),s?s.then(Yn).catch(Yn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Qo))}isActive(){return this.observers.some(n=>ai(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Kg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!MT(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=D(this,on))==null||s.continue()}onOnline(){var s;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=D(this,on))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),D(this,Wn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(D(this,on)&&(D(this,Ta)?D(this,on).cancel({revert:!0}):D(this,on).cancelRetry()),this.scheduleGc()),D(this,Wn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ot(this,ri,cr).call(this,{type:"invalidate"})}fetch(n,s){var g,A,E;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(D(this,on))return D(this,on).continueRetry(),D(this,on).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(x=>x.options.queryFn);w&&this.setOptions(w.options)}const o=new AbortController,u=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(at(this,Ta,!0),o.signal)})},f=()=>{const w=VT(this.options,s),x={client:D(this,Ea),queryKey:this.queryKey,meta:this.meta};return u(x),at(this,Ta,!1),this.options.persister?this.options.persister(w,x,this):w(x)},d={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:D(this,Ea),state:this.state,fetchFn:f};u(d),(g=this.options.behavior)==null||g.onFetch(d,this),at(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=d.fetchOptions)==null?void 0:A.meta))&&Ot(this,ri,cr).call(this,{type:"fetch",meta:(E=d.fetchOptions)==null?void 0:E.meta});const p=w=>{var x,V,j,L;qp(w)&&w.silent||Ot(this,ri,cr).call(this,{type:"error",error:w}),qp(w)||((V=(x=D(this,Wn).config).onError)==null||V.call(x,w,this),(L=(j=D(this,Wn).config).onSettled)==null||L.call(j,this.state.data,w,this)),this.scheduleGc()};return at(this,on,UT({initialPromise:s==null?void 0:s.initialPromise,fn:d.fetchFn,abort:o.abort.bind(o),onSuccess:w=>{var x,V,j,L;if(w===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(G){p(G);return}(V=(x=D(this,Wn).config).onSuccess)==null||V.call(x,w,this),(L=(j=D(this,Wn).config).onSettled)==null||L.call(j,w,this.state.error,this),this.scheduleGc()},onError:p,onFail:(w,x)=>{Ot(this,ri,cr).call(this,{type:"failed",failureCount:w,error:x})},onPause:()=>{Ot(this,ri,cr).call(this,{type:"pause"})},onContinue:()=>{Ot(this,ri,cr).call(this,{type:"continue"})},retry:d.options.retry,retryDelay:d.options.retryDelay,networkMode:d.options.networkMode,canRun:()=>!0})),D(this,on).start()}},Qo=new WeakMap,Ko=new WeakMap,Wn=new WeakMap,Ea=new WeakMap,on=new WeakMap,Ec=new WeakMap,Ta=new WeakMap,ri=new WeakSet,cr=function(n){const s=o=>{switch(n.type){case"failed":return{...o,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...kT(o.data,this.options),fetchMeta:n.meta??null};case"success":return{...o,data:n.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=n.error;return qp(u)&&u.revert&&D(this,Ko)?{...D(this,Ko),fetchStatus:"idle"}:{...o,error:u,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...n.state}}};this.state=s(this.state),Le.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),D(this,Wn).notify({query:this,type:"updated",action:n})})},rT);function kT(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PT(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Dx(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,n=t!==void 0,s=n?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var xi,sT,Ix=(sT=class extends cl{constructor(t={}){super();pt(this,xi);this.config=t,at(this,xi,new Map)}build(t,n,s){const o=n.queryKey,u=n.queryHash??Qg(o,n);let f=this.get(u);return f||(f=new xx({client:t,queryKey:o,queryHash:u,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(o)}),this.add(f)),f}add(t){D(this,xi).has(t.queryHash)||(D(this,xi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,xi).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,xi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Le.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,xi).get(t)}getAll(){return[...D(this,xi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>lA(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>lA(t,s)):n}notify(t){Le.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Le.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Le.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},xi=new WeakMap,sT),Di,gn,ba,Ii,ss,aT,Mx=(aT=class extends LT{constructor(n){super();pt(this,Ii);pt(this,Di);pt(this,gn);pt(this,ba);this.mutationId=n.mutationId,at(this,gn,n.mutationCache),at(this,Di,[]),this.state=n.state||BT(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){D(this,Di).includes(n)||(D(this,Di).push(n),this.clearGcTimeout(),D(this,gn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){at(this,Di,D(this,Di).filter(s=>s!==n)),this.scheduleGc(),D(this,gn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){D(this,Di).length||(this.state.status==="pending"?this.scheduleGc():D(this,gn).remove(this))}continue(){var n;return((n=D(this,ba))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,f,d,p,g,A,E,w,x,V,j,L,G,it,J,dt,lt,Tt,O,R;at(this,ba,UT({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(S,I)=>{Ot(this,Ii,ss).call(this,{type:"failed",failureCount:S,error:I})},onPause:()=>{Ot(this,Ii,ss).call(this,{type:"pause"})},onContinue:()=>{Ot(this,Ii,ss).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,gn).canRun(this)}));const s=this.state.status==="pending",o=!D(this,ba).canStart();try{if(!s){Ot(this,Ii,ss).call(this,{type:"pending",variables:n,isPaused:o}),await((f=(u=D(this,gn).config).onMutate)==null?void 0:f.call(u,n,this));const I=await((p=(d=this.options).onMutate)==null?void 0:p.call(d,n));I!==this.state.context&&Ot(this,Ii,ss).call(this,{type:"pending",context:I,variables:n,isPaused:o})}const S=await D(this,ba).start();return await((A=(g=D(this,gn).config).onSuccess)==null?void 0:A.call(g,S,n,this.state.context,this)),await((w=(E=this.options).onSuccess)==null?void 0:w.call(E,S,n,this.state.context)),await((V=(x=D(this,gn).config).onSettled)==null?void 0:V.call(x,S,null,this.state.variables,this.state.context,this)),await((L=(j=this.options).onSettled)==null?void 0:L.call(j,S,null,n,this.state.context)),Ot(this,Ii,ss).call(this,{type:"success",data:S}),S}catch(S){try{throw await((it=(G=D(this,gn).config).onError)==null?void 0:it.call(G,S,n,this.state.context,this)),await((dt=(J=this.options).onError)==null?void 0:dt.call(J,S,n,this.state.context)),await((Tt=(lt=D(this,gn).config).onSettled)==null?void 0:Tt.call(lt,void 0,S,this.state.variables,this.state.context,this)),await((R=(O=this.options).onSettled)==null?void 0:R.call(O,void 0,S,n,this.state.context)),S}finally{Ot(this,Ii,ss).call(this,{type:"error",error:S})}}finally{D(this,gn).runNext(this)}}},Di=new WeakMap,gn=new WeakMap,ba=new WeakMap,Ii=new WeakSet,ss=function(n){const s=o=>{switch(n.type){case"failed":return{...o,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...o,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:n.error,failureCount:o.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Le.batch(()=>{D(this,Di).forEach(o=>{o.onMutationUpdate(n)}),D(this,gn).notify({mutation:this,type:"updated",action:n})})},aT);function BT(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,si,Tc,oT,Ox=(oT=class extends cl{constructor(t={}){super();pt(this,fr);pt(this,si);pt(this,Tc);this.config=t,at(this,fr,new Set),at(this,si,new Map),at(this,Tc,0)}build(t,n,s){const o=new Mx({mutationCache:this,mutationId:++tf(this,Tc)._,options:t.defaultMutationOptions(n),state:s});return this.add(o),o}add(t){D(this,fr).add(t);const n=af(t);if(typeof n=="string"){const s=D(this,si).get(n);s?s.push(t):D(this,si).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,fr).delete(t)){const n=af(t);if(typeof n=="string"){const s=D(this,si).get(n);if(s)if(s.length>1){const o=s.indexOf(t);o!==-1&&s.splice(o,1)}else s[0]===t&&D(this,si).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=af(t);if(typeof n=="string"){const s=D(this,si).get(n),o=s==null?void 0:s.find(u=>u.state.status==="pending");return!o||o===t}else return!0}runNext(t){var s;const n=af(t);if(typeof n=="string"){const o=(s=D(this,si).get(n))==null?void 0:s.find(u=>u!==t&&u.state.isPaused);return(o==null?void 0:o.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Le.batch(()=>{D(this,fr).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,fr).clear(),D(this,si).clear()})}getAll(){return Array.from(D(this,fr))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>uA(n,s))}findAll(t={}){return this.getAll().filter(n=>uA(t,n))}notify(t){Le.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Le.batch(()=>Promise.all(t.map(n=>n.continue().catch(Yn))))}},fr=new WeakMap,si=new WeakMap,Tc=new WeakMap,oT);function af(r){var t;return(t=r.options.scope)==null?void 0:t.id}function fA(r){return{onFetch:(t,n)=>{var A,E,w,x,V;const s=t.options,o=(w=(E=(A=t.fetchOptions)==null?void 0:A.meta)==null?void 0:E.fetchMore)==null?void 0:w.direction,u=((x=t.state.data)==null?void 0:x.pages)||[],f=((V=t.state.data)==null?void 0:V.pageParams)||[];let d={pages:[],pageParams:[]},p=0;const g=async()=>{let j=!1;const L=J=>{Object.defineProperty(J,"signal",{enumerable:!0,get:()=>(t.signal.aborted?j=!0:t.signal.addEventListener("abort",()=>{j=!0}),t.signal)})},G=VT(t.options,t.fetchOptions),it=async(J,dt,lt)=>{if(j)return Promise.reject();if(dt==null&&J.pages.length)return Promise.resolve(J);const Tt={client:t.client,queryKey:t.queryKey,pageParam:dt,direction:lt?"backward":"forward",meta:t.options.meta};L(Tt);const O=await G(Tt),{maxPages:R}=t.options,S=lt?bx:Tx;return{pages:S(J.pages,O,R),pageParams:S(J.pageParams,dt,R)}};if(o&&u.length){const J=o==="backward",dt=J?Vx:dA,lt={pages:u,pageParams:f},Tt=dt(s,lt);d=await it(lt,Tt,J)}else{const J=r??u.length;do{const dt=p===0?f[0]??s.initialPageParam:dA(s,d);if(p>0&&dt==null)break;d=await it(d,dt),p++}while(p<J)}return d};t.options.persister?t.fetchFn=()=>{var j,L;return(L=(j=t.options).persister)==null?void 0:L.call(j,g,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=g}}}function dA(r,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?r.getNextPageParam(t[s],t,n[s],n):void 0}function Vx(r,{pages:t,pageParams:n}){var s;return t.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,t[0],t,n[0],n):void 0}var _e,cs,hs,Go,Wo,fs,Yo,Xo,lT,Px=(lT=class{constructor(r={}){pt(this,_e);pt(this,cs);pt(this,hs);pt(this,Go);pt(this,Wo);pt(this,fs);pt(this,Yo);pt(this,Xo);at(this,_e,r.queryCache||new Ix),at(this,cs,r.mutationCache||new Ox),at(this,hs,r.defaultOptions||{}),at(this,Go,new Map),at(this,Wo,new Map),at(this,fs,0)}mount(){tf(this,fs)._++,D(this,fs)===1&&(at(this,Yo,Gg.subscribe(async r=>{r&&(await this.resumePausedMutations(),D(this,_e).onFocus())})),at(this,Xo,Cf.subscribe(async r=>{r&&(await this.resumePausedMutations(),D(this,_e).onOnline())})))}unmount(){var r,t;tf(this,fs)._--,D(this,fs)===0&&((r=D(this,Yo))==null||r.call(this),at(this,Yo,void 0),(t=D(this,Xo))==null||t.call(this),at(this,Xo,void 0))}isFetching(r){return D(this,_e).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return D(this,cs).findAll({...r,status:"pending"}).length}getQueryData(r){var n;const t=this.defaultQueryOptions({queryKey:r});return(n=D(this,_e).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),n=D(this,_e).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&n.isStaleByTime(Lo(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(r){return D(this,_e).findAll(r).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(r,t,n){const s=this.defaultQueryOptions({queryKey:r}),o=D(this,_e).get(s.queryHash),u=o==null?void 0:o.state.data,f=Ax(t,u);if(f!==void 0)return D(this,_e).build(this,s).setData(f,{...n,manual:!0})}setQueriesData(r,t,n){return Le.batch(()=>D(this,_e).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(r){var n;const t=this.defaultQueryOptions({queryKey:r});return(n=D(this,_e).get(t.queryHash))==null?void 0:n.state}removeQueries(r){const t=D(this,_e);Le.batch(()=>{t.findAll(r).forEach(n=>{t.remove(n)})})}resetQueries(r,t){const n=D(this,_e);return Le.batch(()=>(n.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},t)))}cancelQueries(r,t={}){const n={revert:!0,...t},s=Le.batch(()=>D(this,_e).findAll(r).map(o=>o.cancel(n)));return Promise.all(s).then(Yn).catch(Yn)}invalidateQueries(r,t={}){return Le.batch(()=>(D(this,_e).findAll(r).forEach(n=>{n.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},t)))}refetchQueries(r,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Le.batch(()=>D(this,_e).findAll(r).filter(o=>!o.isDisabled()).map(o=>{let u=o.fetch(void 0,n);return n.throwOnError||(u=u.catch(Yn)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Yn)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const n=D(this,_e).build(this,t);return n.isStaleByTime(Lo(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Yn).catch(Yn)}fetchInfiniteQuery(r){return r.behavior=fA(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Yn).catch(Yn)}ensureInfiniteQueryData(r){return r.behavior=fA(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Cf.isOnline()?D(this,cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,_e)}getMutationCache(){return D(this,cs)}getDefaultOptions(){return D(this,hs)}setDefaultOptions(r){at(this,hs,r)}setQueryDefaults(r,t){D(this,Go).set(Ia(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...D(this,Go).values()],n={};return t.forEach(s=>{uc(r,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(r,t){D(this,Wo).set(Ia(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...D(this,Wo).values()],n={};return t.forEach(s=>{uc(r,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(r){if(r._defaulted)return r;const t={...D(this,hs).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=Qg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Kg&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...D(this,hs).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){D(this,_e).clear(),D(this,cs).clear()}},_e=new WeakMap,cs=new WeakMap,hs=new WeakMap,Go=new WeakMap,Wo=new WeakMap,fs=new WeakMap,Yo=new WeakMap,Xo=new WeakMap,lT),En,kt,bc,yn,Sa,Zo,ds,Mi,Sc,Jo,$o,wa,Ra,ms,tl,Jt,tc,og,lg,ug,cg,hg,fg,dg,jT,uT,Nx=(uT=class extends cl{constructor(t,n){super();pt(this,Jt);pt(this,En);pt(this,kt);pt(this,bc);pt(this,yn);pt(this,Sa);pt(this,Zo);pt(this,ds);pt(this,Mi);pt(this,Sc);pt(this,Jo);pt(this,$o);pt(this,wa);pt(this,Ra);pt(this,ms);pt(this,tl,new Set);this.options=n,at(this,En,t),at(this,Mi,null),at(this,ds,ag()),this.options.experimental_prefetchInRender||D(this,ds).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,kt).addObserver(this),mA(D(this,kt),this.options)?Ot(this,Jt,tc).call(this):this.updateResult(),Ot(this,Jt,cg).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mg(D(this,kt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mg(D(this,kt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ot(this,Jt,hg).call(this),Ot(this,Jt,fg).call(this),D(this,kt).removeObserver(this)}setOptions(t,n){const s=this.options,o=D(this,kt);if(this.options=D(this,En).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ai(this.options.enabled,D(this,kt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ot(this,Jt,dg).call(this),D(this,kt).setOptions(this.options),s._defaulted&&!Rf(this.options,s)&&D(this,En).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,kt),observer:this});const u=this.hasListeners();u&&pA(D(this,kt),o,this.options,s)&&Ot(this,Jt,tc).call(this),this.updateResult(n),u&&(D(this,kt)!==o||ai(this.options.enabled,D(this,kt))!==ai(s.enabled,D(this,kt))||Lo(this.options.staleTime,D(this,kt))!==Lo(s.staleTime,D(this,kt)))&&Ot(this,Jt,og).call(this);const f=Ot(this,Jt,lg).call(this);u&&(D(this,kt)!==o||ai(this.options.enabled,D(this,kt))!==ai(s.enabled,D(this,kt))||f!==D(this,ms))&&Ot(this,Jt,ug).call(this,f)}getOptimisticResult(t){const n=D(this,En).getQueryCache().build(D(this,En),t),s=this.createResult(n,t);return Lx(this,s)&&(at(this,yn,s),at(this,Zo,this.options),at(this,Sa,D(this,kt).state)),s}getCurrentResult(){return D(this,yn)}trackResult(t,n){const s={};return Object.keys(t).forEach(o=>{Object.defineProperty(s,o,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(o),n==null||n(o),t[o])})}),s}trackProp(t){D(this,tl).add(t)}getCurrentQuery(){return D(this,kt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=D(this,En).defaultQueryOptions(t),s=D(this,En).getQueryCache().build(D(this,En),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Ot(this,Jt,tc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,yn)))}createResult(t,n){var R;const s=D(this,kt),o=this.options,u=D(this,yn),f=D(this,Sa),d=D(this,Zo),g=t!==s?t.state:D(this,bc),{state:A}=t;let E={...A},w=!1,x;if(n._optimisticResults){const S=this.hasListeners(),I=!S&&mA(t,n),N=S&&pA(t,s,n,o);(I||N)&&(E={...E,...kT(A.data,t.options)}),n._optimisticResults==="isRestoring"&&(E.fetchStatus="idle")}let{error:V,errorUpdatedAt:j,status:L}=E;if(n.select&&E.data!==void 0)if(u&&E.data===(f==null?void 0:f.data)&&n.select===D(this,Sc))x=D(this,Jo);else try{at(this,Sc,n.select),x=n.select(E.data),x=sg(u==null?void 0:u.data,x,n),at(this,Jo,x),at(this,Mi,null)}catch(S){at(this,Mi,S)}else x=E.data;if(n.placeholderData!==void 0&&x===void 0&&L==="pending"){let S;if(u!=null&&u.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData))S=u.data;else if(S=typeof n.placeholderData=="function"?n.placeholderData((R=D(this,$o))==null?void 0:R.state.data,D(this,$o)):n.placeholderData,n.select&&S!==void 0)try{S=n.select(S),at(this,Mi,null)}catch(I){at(this,Mi,I)}S!==void 0&&(L="success",x=sg(u==null?void 0:u.data,S,n),w=!0)}D(this,Mi)&&(V=D(this,Mi),x=D(this,Jo),j=Date.now(),L="error");const G=E.fetchStatus==="fetching",it=L==="pending",J=L==="error",dt=it&&G,lt=x!==void 0,O={status:L,fetchStatus:E.fetchStatus,isPending:it,isSuccess:L==="success",isError:J,isInitialLoading:dt,isLoading:dt,data:x,dataUpdatedAt:E.dataUpdatedAt,error:V,errorUpdatedAt:j,failureCount:E.fetchFailureCount,failureReason:E.fetchFailureReason,errorUpdateCount:E.errorUpdateCount,isFetched:E.dataUpdateCount>0||E.errorUpdateCount>0,isFetchedAfterMount:E.dataUpdateCount>g.dataUpdateCount||E.errorUpdateCount>g.errorUpdateCount,isFetching:G,isRefetching:G&&!it,isLoadingError:J&&!lt,isPaused:E.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:J&&lt,isStale:Wg(t,n),refetch:this.refetch,promise:D(this,ds)};if(this.options.experimental_prefetchInRender){const S=H=>{O.status==="error"?H.reject(O.error):O.data!==void 0&&H.resolve(O.data)},I=()=>{const H=at(this,ds,O.promise=ag());S(H)},N=D(this,ds);switch(N.status){case"pending":t.queryHash===s.queryHash&&S(N);break;case"fulfilled":(O.status==="error"||O.data!==N.value)&&I();break;case"rejected":(O.status!=="error"||O.error!==N.reason)&&I();break}}return O}updateResult(t){const n=D(this,yn),s=this.createResult(D(this,kt),this.options);if(at(this,Sa,D(this,kt).state),at(this,Zo,this.options),D(this,Sa).data!==void 0&&at(this,$o,D(this,kt)),Rf(s,n))return;at(this,yn,s);const o={},u=()=>{if(!n)return!0;const{notifyOnChangeProps:f}=this.options,d=typeof f=="function"?f():f;if(d==="all"||!d&&!D(this,tl).size)return!0;const p=new Set(d??D(this,tl));return this.options.throwOnError&&p.add("error"),Object.keys(D(this,yn)).some(g=>{const A=g;return D(this,yn)[A]!==n[A]&&p.has(A)})};(t==null?void 0:t.listeners)!==!1&&u()&&(o.listeners=!0),Ot(this,Jt,jT).call(this,{...o,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ot(this,Jt,cg).call(this)}},En=new WeakMap,kt=new WeakMap,bc=new WeakMap,yn=new WeakMap,Sa=new WeakMap,Zo=new WeakMap,ds=new WeakMap,Mi=new WeakMap,Sc=new WeakMap,Jo=new WeakMap,$o=new WeakMap,wa=new WeakMap,Ra=new WeakMap,ms=new WeakMap,tl=new WeakMap,Jt=new WeakSet,tc=function(t){Ot(this,Jt,dg).call(this);let n=D(this,kt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Yn)),n},og=function(){Ot(this,Jt,hg).call(this);const t=Lo(this.options.staleTime,D(this,kt));if(Da||D(this,yn).isStale||!ig(t))return;const s=MT(D(this,yn).dataUpdatedAt,t)+1;at(this,wa,setTimeout(()=>{D(this,yn).isStale||this.updateResult()},s))},lg=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,kt)):this.options.refetchInterval)??!1},ug=function(t){Ot(this,Jt,fg).call(this),at(this,ms,t),!(Da||ai(this.options.enabled,D(this,kt))===!1||!ig(D(this,ms))||D(this,ms)===0)&&at(this,Ra,setInterval(()=>{(this.options.refetchIntervalInBackground||Gg.isFocused())&&Ot(this,Jt,tc).call(this)},D(this,ms)))},cg=function(){Ot(this,Jt,og).call(this),Ot(this,Jt,ug).call(this,Ot(this,Jt,lg).call(this))},hg=function(){D(this,wa)&&(clearTimeout(D(this,wa)),at(this,wa,void 0))},fg=function(){D(this,Ra)&&(clearInterval(D(this,Ra)),at(this,Ra,void 0))},dg=function(){const t=D(this,En).getQueryCache().build(D(this,En),this.options);if(t===D(this,kt))return;const n=D(this,kt);at(this,kt,t),at(this,bc,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},jT=function(t){Le.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(D(this,yn))}),D(this,En).getQueryCache().notify({query:D(this,kt),type:"observerResultsUpdated"})})},uT);function Ux(r,t){return ai(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function mA(r,t){return Ux(r,t)||r.state.data!==void 0&&mg(r,t,t.refetchOnMount)}function mg(r,t,n){if(ai(t.enabled,r)!==!1){const s=typeof n=="function"?n(r):n;return s==="always"||s!==!1&&Wg(r,t)}return!1}function pA(r,t,n,s){return(r!==t||ai(s.enabled,r)===!1)&&(!n.suspense||r.state.status!=="error")&&Wg(r,n)}function Wg(r,t){return ai(t.enabled,r)!==!1&&r.isStaleByTime(Lo(t.staleTime,r))}function Lx(r,t){return!Rf(r.getCurrentResult(),t)}var ps,gs,Tn,dr,gr,vf,pg,cT,kx=(cT=class extends cl{constructor(n,s){super();pt(this,gr);pt(this,ps);pt(this,gs);pt(this,Tn);pt(this,dr);at(this,ps,n),this.setOptions(s),this.bindMethods(),Ot(this,gr,vf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var o;const s=this.options;this.options=D(this,ps).defaultMutationOptions(n),Rf(this.options,s)||D(this,ps).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,Tn),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Ia(s.mutationKey)!==Ia(this.options.mutationKey)?this.reset():((o=D(this,Tn))==null?void 0:o.state.status)==="pending"&&D(this,Tn).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,Tn))==null||n.removeObserver(this)}onMutationUpdate(n){Ot(this,gr,vf).call(this),Ot(this,gr,pg).call(this,n)}getCurrentResult(){return D(this,gs)}reset(){var n;(n=D(this,Tn))==null||n.removeObserver(this),at(this,Tn,void 0),Ot(this,gr,vf).call(this),Ot(this,gr,pg).call(this)}mutate(n,s){var o;return at(this,dr,s),(o=D(this,Tn))==null||o.removeObserver(this),at(this,Tn,D(this,ps).getMutationCache().build(D(this,ps),this.options)),D(this,Tn).addObserver(this),D(this,Tn).execute(n)}},ps=new WeakMap,gs=new WeakMap,Tn=new WeakMap,dr=new WeakMap,gr=new WeakSet,vf=function(){var s;const n=((s=D(this,Tn))==null?void 0:s.state)??BT();at(this,gs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},pg=function(n){Le.batch(()=>{var s,o,u,f,d,p,g,A;if(D(this,dr)&&this.hasListeners()){const E=D(this,gs).variables,w=D(this,gs).context;(n==null?void 0:n.type)==="success"?((o=(s=D(this,dr)).onSuccess)==null||o.call(s,n.data,E,w),(f=(u=D(this,dr)).onSettled)==null||f.call(u,n.data,null,E,w)):(n==null?void 0:n.type)==="error"&&((p=(d=D(this,dr)).onError)==null||p.call(d,n.error,E,w),(A=(g=D(this,dr)).onSettled)==null||A.call(g,void 0,n.error,E,w))}this.listeners.forEach(E=>{E(D(this,gs))})})},cT),zT=K.createContext(void 0),Yg=r=>{const t=K.useContext(zT);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Bx=({client:r,children:t})=>(K.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),Y.jsx(zT.Provider,{value:r,children:t})),HT=K.createContext(!1),jx=()=>K.useContext(HT);HT.Provider;function zx(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Hx=K.createContext(zx()),qx=()=>K.useContext(Hx);function qT(r,t){return typeof r=="function"?r(...t):!!r}function gg(){}var Fx=(r,t)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(t.isReset()||(r.retryOnMount=!1))},Qx=r=>{K.useEffect(()=>{r.clearReset()},[r])},Kx=({result:r,errorResetBoundary:t,throwOnError:n,query:s,suspense:o})=>r.isError&&!t.isReset()&&!r.isFetching&&s&&(o&&r.data===void 0||qT(n,[r.error,s])),Gx=r=>{const t=r.staleTime;r.suspense&&(r.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},Wx=(r,t)=>r.isLoading&&r.isFetching&&!t,Yx=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,gA=(r,t,n)=>t.fetchOptimistic(r).catch(()=>{n.clearReset()});function Xx(r,t,n){var E,w,x,V,j;const s=Yg(),o=jx(),u=qx(),f=s.defaultQueryOptions(r);(w=(E=s.getDefaultOptions().queries)==null?void 0:E._experimental_beforeQuery)==null||w.call(E,f),f._optimisticResults=o?"isRestoring":"optimistic",Gx(f),Fx(f,u),Qx(u);const d=!s.getQueryCache().get(f.queryHash),[p]=K.useState(()=>new t(s,f)),g=p.getOptimisticResult(f),A=!o&&r.subscribed!==!1;if(K.useSyncExternalStore(K.useCallback(L=>{const G=A?p.subscribe(Le.batchCalls(L)):gg;return p.updateResult(),G},[p,A]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),K.useEffect(()=>{p.setOptions(f,{listeners:!1})},[f,p]),Yx(f,g))throw gA(f,p,u);if(Kx({result:g,errorResetBoundary:u,throwOnError:f.throwOnError,query:s.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw g.error;if((V=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||V.call(x,f,g),f.experimental_prefetchInRender&&!Da&&Wx(g,o)){const L=d?gA(f,p,u):(j=s.getQueryCache().get(f.queryHash))==null?void 0:j.promise;L==null||L.catch(gg).finally(()=>{p.updateResult()})}return f.notifyOnChangeProps?g:p.trackResult(g)}function xf(r,t){return Xx(r,Nx)}function Zx(r,t){const n=Yg(),[s]=K.useState(()=>new kx(n,r));K.useEffect(()=>{s.setOptions(r)},[s,r]);const o=K.useSyncExternalStore(K.useCallback(f=>s.subscribe(Le.batchCalls(f)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=K.useCallback((f,d)=>{s.mutate(f,d).catch(gg)},[s]);if(o.error&&qT(s.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}const Jx=()=>{};var yA={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},$x=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],d=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|d&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},QT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,d=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,A=u>>2,E=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,x=g&63;p||(x=64,f||(w=64)),s.push(n[A],n[E],n[w],n[x])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(FT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):$x(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const E=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||d==null||g==null||E==null)throw new tD;const w=u<<2|d>>4;if(s.push(w),g!==64){const x=d<<4&240|g>>2;if(s.push(x),E!==64){const V=g<<6&192|E;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eD=function(r){const t=FT(r);return QT.encodeByteArray(t,!0)},Df=function(r){return eD(r).replace(/\./g,"")},nD=function(r){try{return QT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=()=>iD().__FIREBASE_DEFAULTS__,sD=()=>{if(typeof process>"u"||typeof yA>"u")return;const r=yA.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aD=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&nD(r[1]);return t&&JSON.parse(t)},Xg=()=>{try{return Jx()||rD()||sD()||aD()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},oD=r=>{var t,n;return(n=(t=Xg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},lD=r=>{const t=oD(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},KT=()=>{var r;return(r=Xg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Df(JSON.stringify(n)),Df(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fD(){var r;const t=(r=Xg())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dD(){return!fD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mD(){try{return typeof indexedDB=="object"}catch{return!1}}function pD(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="FirebaseError";class hl extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=gD,Object.setPrototypeOf(this,hl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,GT.prototype.create)}}class GT{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?yD(u,s):"Error",d=`${this.serviceName}: ${f} (${o}).`;return new hl(o,d,s)}}function yD(r,t){return r.replace(vD,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const vD=/\{\$([^}]+)}/g;function If(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=t[o];if(vA(u)&&vA(f)){if(!If(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function vA(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(r){return r&&r._delegate?r._delegate:r}class cc{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new uD;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ED(t))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ya){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ya){return this.instances.has(t)}getOptions(t=ya){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&f.resolve(o)}return o}onInit(t,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&t(f,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:AD(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ya){return this.component?this.component.multipleInstances?t:ya:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AD(r){return r===ya?void 0:r}function ED(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new _D(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ft||(Ft={}));const bD={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},SD=Ft.INFO,wD={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},RD=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=wD[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class WT{constructor(t){this.name=t,this._logLevel=SD,this._logHandler=RD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?bD[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const CD=(r,t)=>t.some(n=>r instanceof n);let _A,AA;function xD(){return _A||(_A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DD(){return AA||(AA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YT=new WeakMap,yg=new WeakMap,XT=new WeakMap,Fp=new WeakMap,Zg=new WeakMap;function ID(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(vs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&YT.set(n,r)}).catch(()=>{}),Zg.set(t,r),t}function MD(r){if(yg.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});yg.set(r,t)}let vg={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return yg.get(r);if(t==="objectStoreNames")return r.objectStoreNames||XT.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function OD(r){vg=r(vg)}function VD(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Qp(this),t,...n);return XT.set(s,t.sort?t.sort():[t]),vs(s)}:DD().includes(r)?function(...t){return r.apply(Qp(this),t),vs(YT.get(this))}:function(...t){return vs(r.apply(Qp(this),t))}}function PD(r){return typeof r=="function"?VD(r):(r instanceof IDBTransaction&&MD(r),CD(r,xD())?new Proxy(r,vg):r)}function vs(r){if(r instanceof IDBRequest)return ID(r);if(Fp.has(r))return Fp.get(r);const t=PD(r);return t!==r&&(Fp.set(r,t),Zg.set(t,r)),t}const Qp=r=>Zg.get(r);function ND(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,t),d=vs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(vs(f.result),p.oldVersion,p.newVersion,vs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const UD=["get","getKey","getAll","getAllKeys","count"],LD=["put","add","delete","clear"],Kp=new Map;function EA(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Kp.get(t))return Kp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=LD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||UD.includes(n)))return;const u=async function(f,...d){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Kp.set(t,u),u}OD(r=>({...r,get:(t,n,s)=>EA(t,n)||r.get(t,n,s),has:(t,n)=>!!EA(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function BD(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const _g="@firebase/app",TA="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new WT("@firebase/app"),jD="@firebase/app-compat",zD="@firebase/analytics-compat",HD="@firebase/analytics",qD="@firebase/app-check-compat",FD="@firebase/app-check",QD="@firebase/auth",KD="@firebase/auth-compat",GD="@firebase/database",WD="@firebase/data-connect",YD="@firebase/database-compat",XD="@firebase/functions",ZD="@firebase/functions-compat",JD="@firebase/installations",$D="@firebase/installations-compat",tI="@firebase/messaging",eI="@firebase/messaging-compat",nI="@firebase/performance",iI="@firebase/performance-compat",rI="@firebase/remote-config",sI="@firebase/remote-config-compat",aI="@firebase/storage",oI="@firebase/storage-compat",lI="@firebase/firestore",uI="@firebase/vertexai",cI="@firebase/firestore-compat",hI="firebase",fI="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="[DEFAULT]",dI={[_g]:"fire-core",[jD]:"fire-core-compat",[HD]:"fire-analytics",[zD]:"fire-analytics-compat",[FD]:"fire-app-check",[qD]:"fire-app-check-compat",[QD]:"fire-auth",[KD]:"fire-auth-compat",[GD]:"fire-rtdb",[WD]:"fire-data-connect",[YD]:"fire-rtdb-compat",[XD]:"fire-fn",[ZD]:"fire-fn-compat",[JD]:"fire-iid",[$D]:"fire-iid-compat",[tI]:"fire-fcm",[eI]:"fire-fcm-compat",[nI]:"fire-perf",[iI]:"fire-perf-compat",[rI]:"fire-rc",[sI]:"fire-rc-compat",[aI]:"fire-gcs",[oI]:"fire-gcs-compat",[lI]:"fire-fst",[cI]:"fire-fst-compat",[uI]:"fire-vertex","fire-js":"fire-js",[hI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf=new Map,mI=new Map,Eg=new Map;function bA(r,t){try{r.container.addComponent(t)}catch(n){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Of(r){const t=r.name;if(Eg.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;Eg.set(t,r);for(const n of Mf.values())bA(n,r);for(const n of mI.values())bA(n,r);return!0}function pI(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function gI(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new GT("app","Firebase",yI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I=fI;function ZT(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Ag,automaticDataCollectionEnabled:!1},t),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(n||(n=KT()),!n)throw _s.create("no-options");const u=Mf.get(o);if(u){if(If(n,u.options)&&If(s,u.config))return u;throw _s.create("duplicate-app",{appName:o})}const f=new TD(o);for(const p of Eg.values())f.addComponent(p);const d=new vI(n,s,f);return Mf.set(o,d),d}function AI(r=Ag){const t=Mf.get(r);if(!t&&r===Ag&&KT())return ZT();if(!t)throw _s.create("no-app",{appName:r});return t}function ko(r,t,n){var s;let o=(s=dI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const d=[`Unable to register library "${o}" with version "${t}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(d.join(" "));return}Of(new cc(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI="firebase-heartbeat-database",TI=1,hc="firebase-heartbeat-store";let Gp=null;function JT(){return Gp||(Gp=ND(EI,TI,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(r=>{throw _s.create("idb-open",{originalErrorMessage:r.message})})),Gp}async function bI(r){try{const n=(await JT()).transaction(hc),s=await n.objectStore(hc).get($T(r));return await n.done,s}catch(t){if(t instanceof hl)yr.warn(t.message);else{const n=_s.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});yr.warn(n.message)}}}async function SA(r,t){try{const s=(await JT()).transaction(hc,"readwrite");await s.objectStore(hc).put(t,$T(r)),await s.done}catch(n){if(n instanceof hl)yr.warn(n.message);else{const s=_s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(s.message)}}}function $T(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=1024,wI=30;class RI{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=wA();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>wI){const f=DI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){yr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=wA(),{heartbeatsToSend:s,unsentEntries:o}=CI(this._heartbeatsCache.heartbeats),u=Df(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return yr.warn(n),""}}}function wA(){return new Date().toISOString().substring(0,10)}function CI(r,t=SI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),RA(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),RA(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class xI{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mD()?pD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return SA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return SA(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function RA(r){return Df(JSON.stringify({version:2,heartbeats:r})).length}function DI(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(r){Of(new cc("platform-logger",t=>new kD(t),"PRIVATE")),Of(new cc("heartbeat",t=>new RI(t),"PRIVATE")),ko(_g,TA,r),ko(_g,TA,"esm2017"),ko("fire-js","")}II("");var CA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,tb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(O,R){function S(){}S.prototype=R.prototype,O.D=R.prototype,O.prototype=new S,O.prototype.constructor=O,O.C=function(I,N,H){for(var M=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)M[Ie-2]=arguments[Ie];return R.prototype[N].apply(I,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,R,S){S||(S=0);var I=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)I[N]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(N=0;16>N;++N)I[N]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=O.g[0],S=O.g[1],N=O.g[2];var H=O.g[3],M=R+(H^S&(N^H))+I[0]+3614090360&4294967295;R=S+(M<<7&4294967295|M>>>25),M=H+(N^R&(S^N))+I[1]+3905402710&4294967295,H=R+(M<<12&4294967295|M>>>20),M=N+(S^H&(R^S))+I[2]+606105819&4294967295,N=H+(M<<17&4294967295|M>>>15),M=S+(R^N&(H^R))+I[3]+3250441966&4294967295,S=N+(M<<22&4294967295|M>>>10),M=R+(H^S&(N^H))+I[4]+4118548399&4294967295,R=S+(M<<7&4294967295|M>>>25),M=H+(N^R&(S^N))+I[5]+1200080426&4294967295,H=R+(M<<12&4294967295|M>>>20),M=N+(S^H&(R^S))+I[6]+2821735955&4294967295,N=H+(M<<17&4294967295|M>>>15),M=S+(R^N&(H^R))+I[7]+4249261313&4294967295,S=N+(M<<22&4294967295|M>>>10),M=R+(H^S&(N^H))+I[8]+1770035416&4294967295,R=S+(M<<7&4294967295|M>>>25),M=H+(N^R&(S^N))+I[9]+2336552879&4294967295,H=R+(M<<12&4294967295|M>>>20),M=N+(S^H&(R^S))+I[10]+4294925233&4294967295,N=H+(M<<17&4294967295|M>>>15),M=S+(R^N&(H^R))+I[11]+2304563134&4294967295,S=N+(M<<22&4294967295|M>>>10),M=R+(H^S&(N^H))+I[12]+1804603682&4294967295,R=S+(M<<7&4294967295|M>>>25),M=H+(N^R&(S^N))+I[13]+4254626195&4294967295,H=R+(M<<12&4294967295|M>>>20),M=N+(S^H&(R^S))+I[14]+2792965006&4294967295,N=H+(M<<17&4294967295|M>>>15),M=S+(R^N&(H^R))+I[15]+1236535329&4294967295,S=N+(M<<22&4294967295|M>>>10),M=R+(N^H&(S^N))+I[1]+4129170786&4294967295,R=S+(M<<5&4294967295|M>>>27),M=H+(S^N&(R^S))+I[6]+3225465664&4294967295,H=R+(M<<9&4294967295|M>>>23),M=N+(R^S&(H^R))+I[11]+643717713&4294967295,N=H+(M<<14&4294967295|M>>>18),M=S+(H^R&(N^H))+I[0]+3921069994&4294967295,S=N+(M<<20&4294967295|M>>>12),M=R+(N^H&(S^N))+I[5]+3593408605&4294967295,R=S+(M<<5&4294967295|M>>>27),M=H+(S^N&(R^S))+I[10]+38016083&4294967295,H=R+(M<<9&4294967295|M>>>23),M=N+(R^S&(H^R))+I[15]+3634488961&4294967295,N=H+(M<<14&4294967295|M>>>18),M=S+(H^R&(N^H))+I[4]+3889429448&4294967295,S=N+(M<<20&4294967295|M>>>12),M=R+(N^H&(S^N))+I[9]+568446438&4294967295,R=S+(M<<5&4294967295|M>>>27),M=H+(S^N&(R^S))+I[14]+3275163606&4294967295,H=R+(M<<9&4294967295|M>>>23),M=N+(R^S&(H^R))+I[3]+4107603335&4294967295,N=H+(M<<14&4294967295|M>>>18),M=S+(H^R&(N^H))+I[8]+1163531501&4294967295,S=N+(M<<20&4294967295|M>>>12),M=R+(N^H&(S^N))+I[13]+2850285829&4294967295,R=S+(M<<5&4294967295|M>>>27),M=H+(S^N&(R^S))+I[2]+4243563512&4294967295,H=R+(M<<9&4294967295|M>>>23),M=N+(R^S&(H^R))+I[7]+1735328473&4294967295,N=H+(M<<14&4294967295|M>>>18),M=S+(H^R&(N^H))+I[12]+2368359562&4294967295,S=N+(M<<20&4294967295|M>>>12),M=R+(S^N^H)+I[5]+4294588738&4294967295,R=S+(M<<4&4294967295|M>>>28),M=H+(R^S^N)+I[8]+2272392833&4294967295,H=R+(M<<11&4294967295|M>>>21),M=N+(H^R^S)+I[11]+1839030562&4294967295,N=H+(M<<16&4294967295|M>>>16),M=S+(N^H^R)+I[14]+4259657740&4294967295,S=N+(M<<23&4294967295|M>>>9),M=R+(S^N^H)+I[1]+2763975236&4294967295,R=S+(M<<4&4294967295|M>>>28),M=H+(R^S^N)+I[4]+1272893353&4294967295,H=R+(M<<11&4294967295|M>>>21),M=N+(H^R^S)+I[7]+4139469664&4294967295,N=H+(M<<16&4294967295|M>>>16),M=S+(N^H^R)+I[10]+3200236656&4294967295,S=N+(M<<23&4294967295|M>>>9),M=R+(S^N^H)+I[13]+681279174&4294967295,R=S+(M<<4&4294967295|M>>>28),M=H+(R^S^N)+I[0]+3936430074&4294967295,H=R+(M<<11&4294967295|M>>>21),M=N+(H^R^S)+I[3]+3572445317&4294967295,N=H+(M<<16&4294967295|M>>>16),M=S+(N^H^R)+I[6]+76029189&4294967295,S=N+(M<<23&4294967295|M>>>9),M=R+(S^N^H)+I[9]+3654602809&4294967295,R=S+(M<<4&4294967295|M>>>28),M=H+(R^S^N)+I[12]+3873151461&4294967295,H=R+(M<<11&4294967295|M>>>21),M=N+(H^R^S)+I[15]+530742520&4294967295,N=H+(M<<16&4294967295|M>>>16),M=S+(N^H^R)+I[2]+3299628645&4294967295,S=N+(M<<23&4294967295|M>>>9),M=R+(N^(S|~H))+I[0]+4096336452&4294967295,R=S+(M<<6&4294967295|M>>>26),M=H+(S^(R|~N))+I[7]+1126891415&4294967295,H=R+(M<<10&4294967295|M>>>22),M=N+(R^(H|~S))+I[14]+2878612391&4294967295,N=H+(M<<15&4294967295|M>>>17),M=S+(H^(N|~R))+I[5]+4237533241&4294967295,S=N+(M<<21&4294967295|M>>>11),M=R+(N^(S|~H))+I[12]+1700485571&4294967295,R=S+(M<<6&4294967295|M>>>26),M=H+(S^(R|~N))+I[3]+2399980690&4294967295,H=R+(M<<10&4294967295|M>>>22),M=N+(R^(H|~S))+I[10]+4293915773&4294967295,N=H+(M<<15&4294967295|M>>>17),M=S+(H^(N|~R))+I[1]+2240044497&4294967295,S=N+(M<<21&4294967295|M>>>11),M=R+(N^(S|~H))+I[8]+1873313359&4294967295,R=S+(M<<6&4294967295|M>>>26),M=H+(S^(R|~N))+I[15]+4264355552&4294967295,H=R+(M<<10&4294967295|M>>>22),M=N+(R^(H|~S))+I[6]+2734768916&4294967295,N=H+(M<<15&4294967295|M>>>17),M=S+(H^(N|~R))+I[13]+1309151649&4294967295,S=N+(M<<21&4294967295|M>>>11),M=R+(N^(S|~H))+I[4]+4149444226&4294967295,R=S+(M<<6&4294967295|M>>>26),M=H+(S^(R|~N))+I[11]+3174756917&4294967295,H=R+(M<<10&4294967295|M>>>22),M=N+(R^(H|~S))+I[2]+718787259&4294967295,N=H+(M<<15&4294967295|M>>>17),M=S+(H^(N|~R))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+R&4294967295,O.g[1]=O.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,O.g[2]=O.g[2]+N&4294967295,O.g[3]=O.g[3]+H&4294967295}s.prototype.u=function(O,R){R===void 0&&(R=O.length);for(var S=R-this.blockSize,I=this.B,N=this.h,H=0;H<R;){if(N==0)for(;H<=S;)o(this,O,H),H+=this.blockSize;if(typeof O=="string"){for(;H<R;)if(I[N++]=O.charCodeAt(H++),N==this.blockSize){o(this,I),N=0;break}}else for(;H<R;)if(I[N++]=O[H++],N==this.blockSize){o(this,I),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var R=1;R<O.length-8;++R)O[R]=0;var S=8*this.o;for(R=O.length-8;R<O.length;++R)O[R]=S&255,S/=256;for(this.u(O),O=Array(16),R=S=0;4>R;++R)for(var I=0;32>I;I+=8)O[S++]=this.g[R]>>>I&255;return O};function u(O,R){var S=d;return Object.prototype.hasOwnProperty.call(S,O)?S[O]:S[O]=R(O)}function f(O,R){this.h=R;for(var S=[],I=!0,N=O.length-1;0<=N;N--){var H=O[N]|0;I&&H==R||(S[N]=H,I=!1)}this.g=S}var d={};function p(O){return-128<=O&&128>O?u(O,function(R){return new f([R|0],0>R?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return E;if(0>O)return L(g(-O));for(var R=[],S=1,I=0;O>=S;I++)R[I]=O/S|0,S*=4294967296;return new f(R,0)}function A(O,R){if(O.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(O.charAt(0)=="-")return L(A(O.substring(1),R));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),I=E,N=0;N<O.length;N+=8){var H=Math.min(8,O.length-N),M=parseInt(O.substring(N,N+H),R);8>H?(H=g(Math.pow(R,H)),I=I.j(H).add(g(M))):(I=I.j(S),I=I.add(g(M)))}return I}var E=p(0),w=p(1),x=p(16777216);r=f.prototype,r.m=function(){if(j(this))return-L(this).m();for(var O=0,R=1,S=0;S<this.g.length;S++){var I=this.i(S);O+=(0<=I?I:4294967296+I)*R,R*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V(this))return"0";if(j(this))return"-"+L(this).toString(O);for(var R=g(Math.pow(O,6)),S=this,I="";;){var N=dt(S,R).g;S=G(S,N.j(R));var H=((0<S.g.length?S.g[0]:S.h)>>>0).toString(O);if(S=N,V(S))return H+I;for(;6>H.length;)H="0"+H;I=H+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function V(O){if(O.h!=0)return!1;for(var R=0;R<O.g.length;R++)if(O.g[R]!=0)return!1;return!0}function j(O){return O.h==-1}r.l=function(O){return O=G(this,O),j(O)?-1:V(O)?0:1};function L(O){for(var R=O.g.length,S=[],I=0;I<R;I++)S[I]=~O.g[I];return new f(S,~O.h).add(w)}r.abs=function(){return j(this)?L(this):this},r.add=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0,N=0;N<=R;N++){var H=I+(this.i(N)&65535)+(O.i(N)&65535),M=(H>>>16)+(this.i(N)>>>16)+(O.i(N)>>>16);I=M>>>16,H&=65535,M&=65535,S[N]=M<<16|H}return new f(S,S[S.length-1]&-2147483648?-1:0)};function G(O,R){return O.add(L(R))}r.j=function(O){if(V(this)||V(O))return E;if(j(this))return j(O)?L(this).j(L(O)):L(L(this).j(O));if(j(O))return L(this.j(L(O)));if(0>this.l(x)&&0>O.l(x))return g(this.m()*O.m());for(var R=this.g.length+O.g.length,S=[],I=0;I<2*R;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(var N=0;N<O.g.length;N++){var H=this.i(I)>>>16,M=this.i(I)&65535,Ie=O.i(N)>>>16,be=O.i(N)&65535;S[2*I+2*N]+=M*be,it(S,2*I+2*N),S[2*I+2*N+1]+=H*be,it(S,2*I+2*N+1),S[2*I+2*N+1]+=M*Ie,it(S,2*I+2*N+1),S[2*I+2*N+2]+=H*Ie,it(S,2*I+2*N+2)}for(I=0;I<R;I++)S[I]=S[2*I+1]<<16|S[2*I];for(I=R;I<2*R;I++)S[I]=0;return new f(S,0)};function it(O,R){for(;(O[R]&65535)!=O[R];)O[R+1]+=O[R]>>>16,O[R]&=65535,R++}function J(O,R){this.g=O,this.h=R}function dt(O,R){if(V(R))throw Error("division by zero");if(V(O))return new J(E,E);if(j(O))return R=dt(L(O),R),new J(L(R.g),L(R.h));if(j(R))return R=dt(O,L(R)),new J(L(R.g),R.h);if(30<O.g.length){if(j(O)||j(R))throw Error("slowDivide_ only works with positive integers.");for(var S=w,I=R;0>=I.l(O);)S=lt(S),I=lt(I);var N=Tt(S,1),H=Tt(I,1);for(I=Tt(I,2),S=Tt(S,2);!V(I);){var M=H.add(I);0>=M.l(O)&&(N=N.add(S),H=M),I=Tt(I,1),S=Tt(S,1)}return R=G(O,N.j(R)),new J(N,R)}for(N=E;0<=O.l(R);){for(S=Math.max(1,Math.floor(O.m()/R.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),H=g(S),M=H.j(R);j(M)||0<M.l(O);)S-=I,H=g(S),M=H.j(R);V(H)&&(H=w),N=N.add(H),O=G(O,M)}return new J(N,O)}r.A=function(O){return dt(this,O).h},r.and=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)&O.i(I);return new f(S,this.h&O.h)},r.or=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)|O.i(I);return new f(S,this.h|O.h)},r.xor=function(O){for(var R=Math.max(this.g.length,O.g.length),S=[],I=0;I<R;I++)S[I]=this.i(I)^O.i(I);return new f(S,this.h^O.h)};function lt(O){for(var R=O.g.length+1,S=[],I=0;I<R;I++)S[I]=O.i(I)<<1|O.i(I-1)>>>31;return new f(S,O.h)}function Tt(O,R){var S=R>>5;R%=32;for(var I=O.g.length-S,N=[],H=0;H<I;H++)N[H]=0<R?O.i(H+S)>>>R|O.i(H+S+1)<<32-R:O.i(H+S);return new f(N,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,tb=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=A,As=f}).apply(typeof CA<"u"?CA:typeof self<"u"?self:typeof window<"u"?window:{});var of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eb,ec,nb,_f,Tg,ib,rb,sb;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof of=="object"&&of];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var q=c[b];if(!(q in v))break t;v=v[q]}c=c[c.length-1],b=v[c],y=y(b),y!=b&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,b=!1,q={next:function(){if(!b&&v<c.length){var W=v++;return{value:y(W,c[W]),done:!1}}return b=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function A(c,y,v){return c.call.apply(c.bind,arguments)}function E(c,y,v){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,b),c.apply(y,q)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:E,w.apply(null,arguments)}function x(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function V(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(b,q,W){for(var st=Array(arguments.length-2),jt=2;jt<arguments.length;jt++)st[jt-2]=arguments[jt];return y.prototype[q].apply(b,st)}}function j(c){const y=c.length;if(0<y){const v=Array(y);for(let b=0;b<y;b++)v[b]=c[b];return v}return[]}function L(c,y){for(let v=1;v<arguments.length;v++){const b=arguments[v];if(p(b)){const q=c.length||0,W=b.length||0;c.length=q+W;for(let st=0;st<W;st++)c[q+st]=b[st]}else c.push(b)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function it(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var lt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Tt(c,y,v){for(const b in c)y.call(v,c[b],b,c)}function O(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,b;for(let q=1;q<arguments.length;q++){b=arguments[q];for(v in b)c[v]=b[v];for(let W=0;W<S.length;W++)v=S[W],Object.prototype.hasOwnProperty.call(b,v)&&(c[v]=b[v])}}function N(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function H(c){d.setTimeout(()=>{throw c},0)}function M(){var c=Xt;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ie{constructor(){this.h=this.g=null}add(y,v){const b=be.get();b.set(y,v),this.h?this.h.next=b:this.g=b,this.h=b}}var be=new G(()=>new ot,c=>c.reset());class ot{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let St,At=!1,Xt=new Ie,P=()=>{const c=d.Promise.resolve(void 0);St=()=>{c.then(rt)}};var rt=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(v){H(v)}var y=be;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}At=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Mt(c,y){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(lt){t:{try{dt(y.nodeName);var q=!0;break t}catch{}q=!1}q||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Dt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Mt.aa.h.call(this)}}V(Mt,ut);var Dt={2:"touch",3:"pen",4:"mouse"};Mt.prototype.h=function(){Mt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function me(c,y,v,b,q){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!b,this.ha=q,this.key=++Qt,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function cn(c){this.src=c,this.g={},this.h=0}cn.prototype.add=function(c,y,v,b,q){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var st=Mn(c,y,b,q);return-1<st?(y=c[st],v||(y.fa=!1)):(y=new me(y,this.src,W,!!b,q),y.fa=v,c.push(y)),y};function Ui(c,y){var v=y.type;if(v in c.g){var b=c.g[v],q=Array.prototype.indexOf.call(b,y,void 0),W;(W=0<=q)&&Array.prototype.splice.call(b,q,1),W&&(te(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Mn(c,y,v,b){for(var q=0;q<c.length;++q){var W=c[q];if(!W.da&&W.listener==y&&W.capture==!!v&&W.ha==b)return q}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Tr={};function Li(c,y,v,b,q){if(Array.isArray(y)){for(var W=0;W<y.length;W++)Li(c,y[W],v,b,q);return null}return v=Vc(v),c&&c[Se]?c.K(y,v,g(b)?!!b.capture:!1,q):yl(c,y,v,!1,b,q)}function yl(c,y,v,b,q,W){if(!y)throw Error("Invalid event type");var st=g(q)?!!q.capture:!!q,jt=vl(c);if(jt||(c[Er]=jt=new cn(c)),v=jt.add(y,v,b,st,W),v.proxy)return v;if(b=Ba(),v.proxy=b,b.src=c,b.listener=v,c.addEventListener)ct||(q=st),q===void 0&&(q=!1),c.addEventListener(y.toString(),b,q);else if(c.attachEvent)c.attachEvent(za(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ba(){function c(v){return y.call(c.src,c.listener,v)}const y=ld;return c}function ja(c,y,v,b,q){if(Array.isArray(y))for(var W=0;W<y.length;W++)ja(c,y[W],v,b,q);else b=g(b)?!!b.capture:!!b,v=Vc(v),c&&c[Se]?(c=c.i,y=String(y).toString(),y in c.g&&(W=c.g[y],v=Mn(W,v,b,q),-1<v&&(te(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete c.g[y],c.h--)))):c&&(c=vl(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Mn(y,v,b,q)),(v=-1<c?y[c]:null)&&Os(v))}function Os(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Se])Ui(y.i,c);else{var v=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(v,b,c.capture):y.detachEvent?y.detachEvent(za(v),b):y.addListener&&y.removeListener&&y.removeListener(b),(v=vl(y))?(Ui(v,c),v.h==0&&(v.src=null,y[Er]=null)):te(c)}}}function za(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function ld(c,y){if(c.da)c=!0;else{y=new Mt(y,this);var v=c.listener,b=c.ha||c.src;c.fa&&Os(c),c=v.call(b,y)}return c}function vl(c){return c=c[Er],c instanceof cn?c:null}var vn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vc(c){return typeof c=="function"?c:(c[vn]||(c[vn]=function(y){return c.handleEvent(y)}),c[vn])}function Me(){yt.call(this),this.i=new cn(this),this.M=this,this.F=null}V(Me,yt),Me.prototype[Se]=!0,Me.prototype.removeEventListener=function(c,y,v,b){ja(this,c,y,v,b)};function je(c,y){var v,b=c.F;if(b)for(v=[];b;b=b.F)v.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ut(y,c);else if(y instanceof ut)y.target=y.target||c;else{var q=y;y=new ut(b,c),I(y,q)}if(q=!0,v)for(var W=v.length-1;0<=W;W--){var st=y.g=v[W];q=ki(st,b,!0,y)&&q}if(st=y.g=c,q=ki(st,b,!0,y)&&q,q=ki(st,b,!1,y)&&q,v)for(W=0;W<v.length;W++)st=y.g=v[W],q=ki(st,b,!1,y)&&q}Me.prototype.N=function(){if(Me.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],b=0;b<v.length;b++)te(v[b]);delete c.g[y],c.h--}}this.F=null},Me.prototype.K=function(c,y,v,b){return this.i.add(String(c),y,!1,v,b)},Me.prototype.L=function(c,y,v,b){return this.i.add(String(c),y,!0,v,b)};function ki(c,y,v,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,W=0;W<y.length;++W){var st=y[W];if(st&&!st.da&&st.capture==v){var jt=st.listener,Ve=st.ha||st.src;st.fa&&Ui(c.i,st),q=jt.call(Ve,b)!==!1&&q}}return q&&!b.defaultPrevented}function Pc(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function _l(c){c.g=Pc(()=>{c.g=null,c.i&&(c.i=!1,_l(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ud extends yt{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_l(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vs(c){yt.call(this),this.h=c,this.g={}}V(Vs,yt);var br=[];function nn(c){Tt(c.g,function(y,v){this.g.hasOwnProperty(v)&&Os(y)},c),c.g={}}Vs.prototype.N=function(){Vs.aa.N.call(this),nn(this)},Vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Al=d.JSON.stringify,ci=d.JSON.parse,hn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function El(){}El.prototype.h=null;function Nc(c){return c.h||(c.h=c.i())}function Uc(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){ut.call(this,"d")}V(Sr,ut);function Jn(){ut.call(this,"c")}V(Jn,ut);var On={},wr=null;function Ha(){return wr=wr||new Me}On.La="serverreachability";function Tl(c){ut.call(this,On.La,c)}V(Tl,ut);function Rr(c){const y=Ha();je(y,new Tl(y))}On.STAT_EVENT="statevent";function qa(c,y){ut.call(this,On.STAT_EVENT,c),this.stat=y}V(qa,ut);function Ae(c){const y=Ha();je(y,new qa(y,c))}On.Ma="timingevent";function Lc(c,y){ut.call(this,On.Ma,c),this.size=y}V(Lc,ut);function Cr(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function xr(){this.g=!0}xr.prototype.xa=function(){this.g=!1};function kc(c,y,v,b,q,W){c.info(function(){if(c.g)if(W)for(var st="",jt=W.split("&"),Ve=0;Ve<jt.length;Ve++){var zt=jt[Ve].split("=");if(1<zt.length){var qe=zt[0];zt=zt[1];var Pe=qe.split("_");st=2<=Pe.length&&Pe[1]=="type"?st+(qe+"="+zt+"&"):st+(qe+"=redacted&")}}else st=null;else st=W;return"XMLHTTP REQ ("+b+") [attempt "+q+"]: "+y+`
`+v+`
`+st})}function Bc(c,y,v,b,q,W,st){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+q+"]: "+y+`
`+v+`
`+W+" "+st})}function Dr(c,y,v,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ze(c,v)+(b?" "+b:"")})}function fi(c,y){c.info(function(){return"TIMEOUT: "+y})}xr.prototype.info=function(){};function ze(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var b=v[c];if(!(2>b.length)){var q=b[1];if(Array.isArray(q)&&!(1>q.length)){var W=q[0];if(W!="noop"&&W!="stop"&&W!="close")for(var st=1;st<q.length;st++)q[st]=""}}}}return Al(v)}catch{return y}}var Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ps;function Fa(){}V(Fa,El),Fa.prototype.g=function(){return new XMLHttpRequest},Fa.prototype.i=function(){return{}},Ps=new Fa;function di(c,y,v,b){this.j=c,this.i=y,this.l=v,this.R=b||1,this.U=new Vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bl}function bl(){this.i=null,this.g="",this.h=!1}var Ir={},Ns={};function $n(c,y,v){c.L=1,c.v=ks(pe(y)),c.m=v,c.P=!0,ji(c,null)}function ji(c,y){c.F=Date.now(),le(c),c.A=pe(c.v);var v=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),qi(v.i,"t",b),c.C=0,v=c.j.J,c.h=new bl,c.g=$c(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ud(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,b=c.ca;var q="readystatechange";Array.isArray(q)||(q&&(br[0]=q.toString()),q=br);for(var W=0;W<q.length;W++){var st=Li(v,q[W],b||y.handleEvent,!1,y.h||y);if(!st)break;y.g[st.key]=st}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Rr(),kc(c.i,c.u,c.A,c.l,c.R,c.m)}di.prototype.ca=function(c){c=c.target;const y=this.M;y&&Ln(c)==3?y.j():this.Y(c)},di.prototype.Y=function(c){try{if(c==this.g)t:{const Pe=Ln(this.g);var y=this.g.Ba();const Gi=this.g.Z();if(!(3>Pe)&&(Pe!=3||this.g&&(this.h.h||this.g.oa()||Qc(this.g)))){this.J||Pe!=4||y==7||(y==8||0>=Gi?Rr(3):Rr(2)),Qa(this);var v=this.g.Z();this.X=v;e:if(Mr(this)){var b=Qc(this.g);c="";var q=b.length,W=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Sn(this);var st="";break e}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(W&&y==q-1)});b.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,Bc(this.i,this.u,this.A,this.l,this.R,Pe,v),this.o){if(this.T&&!this.K){e:{if(this.g){var jt,Ve=this.g;if((jt=Ve.g?Ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(jt)){var zt=jt;break e}}zt=null}if(v=zt)Dr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wn(this,v);else{this.o=!1,this.s=3,Ae(12),_n(this),Sn(this);break t}}if(this.P){v=!0;let We;for(;!this.J&&this.C<st.length;)if(We=Or(this,st),We==Ns){Pe==4&&(this.s=4,Ae(14),v=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(We==Ir){this.s=4,Ae(15),Dr(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else Dr(this.i,this.l,We,null),wn(this,We);if(Mr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pe!=4||st.length!=0||this.h.h||(this.s=1,Ae(16),v=!1),this.o=this.o&&v,!v)Dr(this.i,this.l,st,"[Invalid Chunked Response]"),_n(this),Sn(this);else if(0<st.length&&!this.W){this.W=!0;var qe=this.j;qe.g==this&&qe.ba&&!qe.M&&(qe.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),Qs(qe),qe.M=!0,Ae(11))}}else Dr(this.i,this.l,st,null),wn(this,st);Pe==4&&_n(this),this.o&&!this.J&&(Pe==4?Xc(this.j,this):(this.o=!1,le(this)))}else pd(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,Ae(12)):(this.s=0,Ae(13)),_n(this),Sn(this)}}}catch{}finally{}};function Mr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Or(c,y){var v=c.C,b=y.indexOf(`
`,v);return b==-1?Ns:(v=Number(y.substring(v,b)),isNaN(v)?Ir:(b+=1,b+v>y.length?Ns:(y=y.slice(b,b+v),c.C=b+v,y)))}di.prototype.cancel=function(){this.J=!0,_n(this)};function le(c){c.S=Date.now()+c.I,Sl(c,c.I)}function Sl(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cr(w(c.ba,c),y)}function Qa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}di.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(fi(this.i,this.A),this.L!=2&&(Rr(),Ae(17)),_n(this),this.s=2,Sn(this)):Sl(this,this.S-c)};function Sn(c){c.j.G==0||c.J||Xc(c.j,c)}function _n(c){Qa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,nn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function wn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Vr(v.h,c))){if(!c.K&&Vr(v.h,c)&&v.G==3){try{var b=v.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var q=b;if(q[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)eo(v),$a(v);else break t;Nl(v),Ae(18)}}else v.za=q[1],0<v.za-v.T&&37500>q[2]&&v.F&&v.v==0&&!v.C&&(v.C=Cr(w(v.Za,v),6e3));if(1>=jc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ki(v,11)}else if((c.K||v.g==c)&&eo(v),!it(y))for(q=v.Da.g.parse(y),y=0;y<q.length;y++){let zt=q[y];if(v.T=zt[0],zt=zt[1],v.G==2)if(zt[0]=="c"){v.K=zt[1],v.ia=zt[2];const qe=zt[3];qe!=null&&(v.la=qe,v.j.info("VER="+v.la));const Pe=zt[4];Pe!=null&&(v.Aa=Pe,v.j.info("SVER="+v.Aa));const Gi=zt[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(b=1.5*Gi,v.L=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const We=c.g;if(We){const Ai=We.g?We.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var W=b.h;W.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(Pr(W,W.h),W.h=null))}if(b.D){const Ll=We.g?We.g.getResponseHeader("X-HTTP-Session-Id"):null;Ll&&(b.ya=Ll,Kt(b.I,b.D,Ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),b=v;var st=c;if(b.qa=Jc(b,b.J?b.ia:null,b.W),st.K){Vn(b.h,st);var jt=st,Ve=b.L;Ve&&(jt.I=Ve),jt.B&&(Qa(jt),le(jt)),b.g=st}else Wc(b);0<v.i.length&&to(v)}else zt[0]!="stop"&&zt[0]!="close"||Ki(v,7);else v.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?Ki(v,7):Vl(v):zt[0]!="noop"&&v.l&&v.l.ta(zt),v.v=0)}}Rr(4)}catch{}}var cd=class{constructor(c,y){this.g=c,this.map=y}};function wl(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function jc(c){return c.h?1:c.g?c.g.size:0}function Vr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Pr(c,y){c.g?c.g.add(y):c.h=y}function Vn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}wl.prototype.cancel=function(){if(this.i=fn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function fn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return j(c.i)}function zc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,b=0;b<v;b++)y.push(c[b]);return y}y=[],v=0;for(b in c)y[v++]=c[b];return y}function hd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const b in c)y[v++]=b;return y}}}function Us(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=hd(c),b=zc(c),q=b.length,W=0;W<q;W++)y.call(void 0,b[W],v&&v[W],c)}var Cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var b=c[v].indexOf("="),q=null;if(0<=b){var W=c[v].substring(0,b);q=c[v].substring(b+1)}else W=c[v];y(W,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function zi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zi){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,Ls(this,c.s),this.l=c.l;var y=c.i,v=new mi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ga(this,v),this.m=c.m}else c&&(y=String(c).match(Cl))?(this.h=!1,Nr(this,y[1]||"",!0),this.o=Ur(y[2]||""),this.g=Ur(y[3]||"",!0),Ls(this,y[4]),this.l=Ur(y[5]||"",!0),Ga(this,y[6]||"",!0),this.m=Ur(y[7]||"")):(this.h=!1,this.i=new mi(null,this.h))}zi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Pn(y,xl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Pn(y,xl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Pn(v,v.charAt(0)=="/"?Dl:Hc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Pn(v,md)),c.join("")};function pe(c){return new zi(c)}function Nr(c,y,v){c.j=v?Ur(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ls(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ga(c,y,v){y instanceof mi?(c.i=y,Il(c.i,c.h)):(v||(y=Pn(y,dd)),c.i=new mi(y,c.h))}function Kt(c,y,v){c.i.set(y,v)}function ks(c){return Kt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ur(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pn(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fd),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fd(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xl=/[#\/\?@]/g,Hc=/[#\?:]/g,Dl=/[#\?]/g,dd=/[#\?@]/g,md=/#/g;function mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ka(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=mi.prototype,r.add=function(c,y){Nn(this),this.i=null,c=Fi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Wa(c,y){Nn(c),y=Fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hi(c,y){return Nn(c),y=Fi(c,y),c.g.has(y)}r.forEach=function(c,y){Nn(this),this.g.forEach(function(v,b){v.forEach(function(q){c.call(y,q,b,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let b=0;b<y.length;b++){const q=c[b];for(let W=0;W<q.length;W++)v.push(y[b])}return v},r.V=function(c){Nn(this);let y=[];if(typeof c=="string")Hi(this,c)&&(y=y.concat(this.g.get(Fi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return Nn(this),this.i=null,c=Fi(this,c),Hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qi(c,y,v){Wa(c,y),0<v.length&&(c.i=null,c.g.set(Fi(c,y),j(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var b=y[v];const W=encodeURIComponent(String(b)),st=this.V(b);for(b=0;b<st.length;b++){var q=W;st[b]!==""&&(q+="="+encodeURIComponent(String(st[b]))),c.push(q)}}return this.i=c.join("&")};function Fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Il(c,y){y&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,b){var q=b.toLowerCase();b!=q&&(Wa(this,b),qi(this,q,v))},c)),c.j=y}function qc(c,y){const v=new xr;if(d.Image){const b=new Image;b.onload=x(Un,v,"TestLoadImage: loaded",!0,y,b),b.onerror=x(Un,v,"TestLoadImage: error",!1,y,b),b.onabort=x(Un,v,"TestLoadImage: abort",!1,y,b),b.ontimeout=x(Un,v,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Bs(c,y){const v=new xr,b=new AbortController,q=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(W=>{clearTimeout(q),W.ok?Un(v,"TestPingServer: ok",!0,y):Un(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Un(v,"TestPingServer: error",!1,y)})}function Un(c,y,v,b,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),b(v)}catch{}}function js(){this.g=new hn}function pi(c,y,v){const b=v||"";try{Us(c,function(q,W){let st=q;g(q)&&(st=Al(q)),y.push(b+W+"="+encodeURIComponent(st))})}catch(q){throw y.push(b+"type="+encodeURIComponent("_badmap")),q}}function Lr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Lr,El),Lr.prototype.g=function(){return new Qi(this.l,this.j)},Lr.prototype.i=function(c){return function(){return c}}({});function Qi(c,y){Me.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Qi,Me),r=Qi.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,yi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ml(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ml(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?gi(this):yi(this),this.readyState==3&&Ml(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,gi(this))},r.Qa=function(c){this.g&&(this.response=c,gi(this))},r.ga=function(){this.g&&gi(this)};function gi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,yi(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function yi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ol(c){let y="";return Tt(c,function(v,b){y+=b,y+=":",y+=v,y+=`\r
`}),y}function He(c,y,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Ol(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Kt(c,y,v))}function Zt(c){Me.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Zt,Me);var Ya=/^https?$/i,zs=["POST","PUT"];r=Zt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ps.g(),this.v=this.o?Nc(this.o):Nc(Ps),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(W){Fc(this,W);return}if(c=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var q in b)v.set(q,b[q]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const W of b.keys())v.set(W,b.get(W));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),q=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(zs,y,void 0))||b||q||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,st]of v)this.g.setRequestHeader(W,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Fc(this,W)}};function Fc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Xa(c),vi(c)}function Xa(c){c.A||(c.A=!0,je(c,"complete"),je(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,je(this,"complete"),je(this,"abort"),vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vi(this,!0)),Zt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Za(this):this.bb())},r.bb=function(){Za(this)};function Za(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Pc(c.Ea,0,c);else if(je(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var b;if(b=st===0){var q=String(c.D).match(Cl)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),b=!Ya.test(q?q.toLowerCase():"")}v=b}if(v)je(c,"complete"),je(c,"success");else{c.m=6;try{var W=2<Ln(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Xa(c)}}finally{vi(c)}}}}function vi(c,y){if(c.g){Hs(c);const v=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||je(c,"ready");try{v.onreadystatechange=b}catch{}}}function Hs(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ci(y)}};function Qc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(c){const y={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(it(c[b]))continue;var v=N(c[b]);const q=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=y[q]||[];y[q]=W,W.push(v)}O(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ja(c){this.Aa=0,this.i=[],this.j=new xr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qs("baseRetryDelayMs",5e3,c),this.cb=qs("retryDelaySeedMs",1e4,c),this.Wa=qs("forwardChannelMaxRetries",2,c),this.wa=qs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new wl(c&&c.concurrentRequestLimit),this.Da=new js,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ja.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,b){Ae(0),this.W=c,this.H=y||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.I=Jc(this,null,this.W),to(this)};function Vl(c){if(Kc(c),c.G==3){var y=c.U++,v=pe(c.I);if(Kt(v,"SID",c.K),Kt(v,"RID",y),Kt(v,"TYPE","terminate"),Fs(c,v),y=new di(c,c.j,y),y.L=2,y.v=ks(pe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=$c(y.j,null),y.g.ea(y.v)),y.F=Date.now(),le(y)}Zc(c)}function $a(c){c.g&&(Qs(c),c.g.cancel(),c.g=null)}function Kc(c){$a(c),c.u&&(d.clearTimeout(c.u),c.u=null),eo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function to(c){if(!Rl(c.h)&&!c.s){c.s=!0;var y=c.Ga;St||P(),At||(St(),At=!0),Xt.add(y,c),c.B=0}}function gd(c,y){return jc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cr(w(c.Ga,c,y),Ul(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const q=new di(this,this.j,c);let W=this.o;if(this.S&&(W?(W=R(W),I(W,this.S)):W=this.S),this.m!==null||this.O||(q.H=W,W=null),this.P)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Gc(this,q,y),v=pe(this.I),Kt(v,"RID",c),Kt(v,"CVER",22),this.D&&Kt(v,"X-HTTP-Session-Id",this.D),Fs(this,v),W&&(this.O?y="headers="+encodeURIComponent(String(Ol(W)))+"&"+y:this.m&&He(v,this.m,W)),Pr(this.h,q),this.Ua&&Kt(v,"TYPE","init"),this.P?(Kt(v,"$req",y),Kt(v,"SID","null"),q.T=!0,$n(q,v,null)):$n(q,v,y),this.G=2}}else this.G==3&&(c?Pl(this,c):this.i.length==0||Rl(this.h)||Pl(this))};function Pl(c,y){var v;y?v=y.l:v=c.U++;const b=pe(c.I);Kt(b,"SID",c.K),Kt(b,"RID",v),Kt(b,"AID",c.T),Fs(c,b),c.m&&c.o&&He(b,c.m,c.o),v=new di(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Gc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pr(c.h,v),$n(v,b,y)}function Fs(c,y){c.H&&Tt(c.H,function(v,b){Kt(y,b,v)}),c.l&&Us({},function(v,b){Kt(y,b,v)})}function Gc(c,y,v){v=Math.min(c.i.length,v);var b=c.l?w(c.l.Na,c.l,c):null;t:{var q=c.i;let W=-1;for(;;){const st=["count="+v];W==-1?0<v?(W=q[0].g,st.push("ofs="+W)):W=0:st.push("ofs="+W);let jt=!0;for(let Ve=0;Ve<v;Ve++){let zt=q[Ve].g;const qe=q[Ve].map;if(zt-=W,0>zt)W=Math.max(0,q[Ve].g-100),jt=!1;else try{pi(qe,st,"req"+zt+"_")}catch{b&&b(qe)}}if(jt){b=st.join("&");break t}}}return c=c.i.splice(0,v),y.D=c,b}function Wc(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;St||P(),At||(St(),At=!0),Xt.add(y,c),c.v=0}}function Nl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cr(w(c.Fa,c),Ul(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cr(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ae(10),$a(this),Yc(this))};function Qs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Yc(c){c.g=new di(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=pe(c.qa);Kt(y,"RID","rpc"),Kt(y,"SID",c.K),Kt(y,"AID",c.T),Kt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Kt(y,"TO",c.ja),Kt(y,"TYPE","xmlhttp"),Fs(c,y),c.m&&c.o&&He(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ks(pe(y)),v.m=null,v.P=!0,ji(v,c)}r.Za=function(){this.C!=null&&(this.C=null,$a(this),Nl(this),Ae(19))};function eo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Xc(c,y){var v=null;if(c.g==y){eo(c),Qs(c),c.g=null;var b=2}else if(Vr(c.h,y))v=y.D,Vn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var q=c.B;b=Ha(),je(b,new Lc(b,v)),to(c)}else Wc(c);else if(q=y.s,q==3||q==0&&0<y.X||!(b==1&&gd(c,y)||b==2&&Nl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),q){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function Ul(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ki(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),b=c.Xa;const q=!b;b=new zi(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Nr(b,"https"),ks(b),q?qc(b.toString(),v):Bs(b.toString(),v)}else Ae(2);c.G=0,c.l&&c.l.sa(y),Zc(c),Kc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function Zc(c){if(c.G=0,c.ka=[],c.l){const y=fn(c.h);(y.length!=0||c.i.length!=0)&&(L(c.ka,y),L(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Jc(c,y,v){var b=v instanceof zi?pe(v):new zi(v);if(b.g!="")y&&(b.g=y+"."+b.g),Ls(b,b.s);else{var q=d.location;b=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var W=new zi(null);b&&Nr(W,b),y&&(W.g=y),q&&Ls(W,q),v&&(W.l=v),b=W}return v=c.D,y=c.ya,v&&y&&Kt(b,v,y),Kt(b,"VER",c.la),Fs(c,b),b}function $c(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Zt(new Lr({eb:v})):new Zt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function th(){}r=th.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function no(){}no.prototype.g=function(c,y){return new dn(c,y)};function dn(c,y){Me.call(this),this.g=new Ja(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!it(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!it(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new _i(this)}V(dn,Me),dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){Vl(this.g)},dn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Al(c),c=v);y.i.push(new cd(y.Ya++,c)),y.G==3&&to(y)},dn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,dn.aa.N.call(this)};function eh(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}V(eh,Sr);function nh(){Jn.call(this),this.status=1}V(nh,Jn);function _i(c){this.g=c}V(_i,th),_i.prototype.ua=function(){je(this.g,"a")},_i.prototype.ta=function(c){je(this.g,new eh(c))},_i.prototype.sa=function(c){je(this.g,new nh)},_i.prototype.ra=function(){je(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,sb=function(){return new no},rb=function(){return Ha()},ib=On,Tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,_f=Oe,Bi.COMPLETE="complete",nb=Bi,Uc.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",Me.prototype.listen=Me.prototype.K,ec=Uc,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,eb=Zt}).apply(typeof of<"u"?of:typeof self<"u"?self:typeof window<"u"?window:{});const xA="@firebase/firestore",DA="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fl="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new WT("@firebase/firestore");function Vo(){return Ma.logLevel}function ht(r,...t){if(Ma.logLevel<=Ft.DEBUG){const n=t.map(Jg);Ma.debug(`Firestore (${fl}): ${r}`,...n)}}function vr(r,...t){if(Ma.logLevel<=Ft.ERROR){const n=t.map(Jg);Ma.error(`Firestore (${fl}): ${r}`,...n)}}function nl(r,...t){if(Ma.logLevel<=Ft.WARN){const n=t.map(Jg);Ma.warn(`Firestore (${fl}): ${r}`,...n)}}function Jg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r="Unexpected state"){const t=`FIRESTORE (${fl}) INTERNAL ASSERTION FAILED: `+r;throw vr(t),new Error(t)}function $t(r,t){r||wt()}function xt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends hl{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class OI{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class VI{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Es,t.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;t.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Es)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new ab(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new ln(t)}}class PI{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class NI{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new PI(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IA{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UI{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gI(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new IA(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new IA(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Bt(r,t){return r<t?-1:r>t?1:0}function il(r,t,n){return r.length===t.length&&r.every((s,o)=>n(s,t[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=-62135596800,OA=1e6;class ke{static now(){return ke.fromMillis(Date.now())}static fromDate(t){return ke.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*OA);return new ke(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(et.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<MA)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(et.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OA}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-MA;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new ke(0,0))}static max(){return new Rt(new ke(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__name__";class Ri{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(),s===void 0?s=t.length-n:s>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ri.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ri?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ri.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=Ri.isNumericId(t),o=Ri.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ri.extractNumericId(t).compare(Ri.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return As.fromString(t.substring(4,t.length-2))}}class oe extends Ri{construct(t,n,s){return new oe(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(et.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new oe(n)}static emptyPath(){return new oe([])}}const kI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ri{construct(t,n,s){return new tn(t,n,s)}static isValidIdentifier(t){return kI.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===VA}static keyField(){return new tn([VA])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<t.length;){const d=t[o];if(d==="\\"){if(o+1===t.length)throw new ft(et.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ft(et.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else d==="`"?(f=!f,o++):d!=="."||f?(s+=d,o++):(u(),o++)}if(u(),f)throw new ft(et.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(n)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(oe.fromString(t))}static fromName(t){return new Et(oe.fromString(t).popFirst(5))}static empty(){return new Et(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return oe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new oe(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function BI(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Rt.fromTimestamp(s===1e9?new ke(n+1,0):new ke(n,s));return new Ss(o,Et.empty(),t)}function jI(r){return new Ss(r.readTime,r.key,fc)}class Ss{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Ss(Rt.min(),Et.empty(),fc)}static max(){return new Ss(Rt.max(),Et.empty(),fc)}}function zI(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(r.documentKey,t.documentKey),n!==0?n:Bt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(r){if(r.code!==et.FAILED_PRECONDITION||r.message!==HI)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new tt((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof tt?n:tt.resolve(n)}catch(n){return tt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):tt.reject(n)}static resolve(t){return new tt((n,s)=>{n(t)})}static reject(t){return new tt((n,s)=>{s(t)})}static waitFor(t){return new tt((n,s)=>{let o=0,u=0,f=!1;t.forEach(d=>{++o,d.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(t){let n=tt.resolve(!1);for(const s of t)n=n.next(o=>o?tt.resolve(o):s());return n}static forEach(t,n){const s=[];return t.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(t,n){return new tt((s,o)=>{const u=t.length,f=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next(A=>{f[g]=A,++d,d===u&&s(f)},A=>o(A))}})}static doWhile(t,n){return new tt((s,o)=>{const u=()=>{t()===!0?n().next(()=>{u()},o):s()};u()})}}function FI(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ml(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Wf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=-1;function Yf(r){return r==null}function Vf(r){return r===0&&1/r==-1/0}function QI(r){return typeof r=="number"&&Number.isInteger(r)&&!Vf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb="";function KI(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=PA(t)),t=GI(r.get(n),t);return PA(t)}function GI(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case lb:n+="";break;default:n+=u}}return n}function PA(r){return r+lb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Na(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function ub(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||$e.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,$e.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,$e.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lf(this.root,t,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lf(this.root,t,this.comparator,!0)}}class lf{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class $e{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??$e.RED,this.left=o??$e.EMPTY,this.right=u??$e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new $e(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return $e.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,$e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,$e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}$e.EMPTY=null,$e.RED=!0,$e.BLACK=!1;$e.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,s,o,u){return this}insert(t,n,s){return new $e(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new UA(this.data.getIterator())}getIteratorFrom(t){return new UA(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Be(this.comparator);return n.data=t,n}}class UA{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new oi([])}unionWith(t){let n=new Be(tn.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new oi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return il(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new cb("Invalid base64 string: "+u):u}}(t);return new en(n)}static fromUint8Array(t){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(t);return new en(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const WI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ws(r){if($t(!!r),typeof r=="string"){let t=0;const n=WI.exec(r);if($t(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rs(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="server_timestamp",fb="__type__",db="__previous_value__",mb="__local_write_time__";function ty(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[fb])===null||n===void 0?void 0:n.stringValue)===hb}function Xf(r){const t=r.mapValue.fields[db];return ty(t)?Xf(t):t}function dc(r){const t=ws(r.mapValue.fields[mb].timestampValue);return new ke(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(t,n,s,o,u,f,d,p,g){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Pf="(default)";class mc{constructor(t,n){this.projectId=t,this.database=n||Pf}static empty(){return new mc("","")}get isDefaultDatabase(){return this.database===Pf}isEqual(t){return t instanceof mc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="__type__",XI="__max__",uf={mapValue:{}},gb="__vector__",Nf="value";function Cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ty(r)?4:JI(r)?9007199254740991:ZI(r)?10:11:wt()}function Pi(r,t){if(r===t)return!0;const n=Cs(r);if(n!==Cs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return dc(r).isEqual(dc(t));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ws(o.timestampValue),d=ws(u.timestampValue);return f.seconds===d.seconds&&f.nanos===d.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(o,u){return Rs(o.bytesValue).isEqual(Rs(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)}(r,t);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Te(o.doubleValue),d=Te(u.doubleValue);return f===d?Vf(f)===Vf(d):isNaN(f)&&isNaN(d)}return!1}(r,t);case 9:return il(r.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},d=u.mapValue.fields||{};if(NA(f)!==NA(d))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(d[p]===void 0||!Pi(f[p],d[p])))return!1;return!0}(r,t);default:return wt()}}function pc(r,t){return(r.values||[]).find(n=>Pi(n,t))!==void 0}function rl(r,t){if(r===t)return 0;const n=Cs(r),s=Cs(t);if(n!==s)return Bt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const d=Te(u.integerValue||u.doubleValue),p=Te(f.integerValue||f.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(r,t);case 3:return LA(r.timestampValue,t.timestampValue);case 4:return LA(dc(r),dc(t));case 5:return Bt(r.stringValue,t.stringValue);case 6:return function(u,f){const d=Rs(u),p=Rs(f);return d.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const d=u.split("/"),p=f.split("/");for(let g=0;g<d.length&&g<p.length;g++){const A=Bt(d[g],p[g]);if(A!==0)return A}return Bt(d.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const d=Bt(Te(u.latitude),Te(f.latitude));return d!==0?d:Bt(Te(u.longitude),Te(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return kA(r.arrayValue,t.arrayValue);case 10:return function(u,f){var d,p,g,A;const E=u.fields||{},w=f.fields||{},x=(d=E[Nf])===null||d===void 0?void 0:d.arrayValue,V=(p=w[Nf])===null||p===void 0?void 0:p.arrayValue,j=Bt(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((A=V==null?void 0:V.values)===null||A===void 0?void 0:A.length)||0);return j!==0?j:kA(x,V)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===uf.mapValue&&f===uf.mapValue)return 0;if(u===uf.mapValue)return 1;if(f===uf.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=f.fields||{},A=Object.keys(g);p.sort(),A.sort();for(let E=0;E<p.length&&E<A.length;++E){const w=Bt(p[E],A[E]);if(w!==0)return w;const x=rl(d[p[E]],g[A[E]]);if(x!==0)return x}return Bt(p.length,A.length)}(r.mapValue,t.mapValue);default:throw wt()}}function LA(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Bt(r,t);const n=ws(r),s=ws(t),o=Bt(n.seconds,s.seconds);return o!==0?o:Bt(n.nanos,s.nanos)}function kA(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=rl(n[o],s[o]);if(u)return u}return Bt(n.length,s.length)}function sl(r){return bg(r)}function bg(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ws(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Rs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Et.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=bg(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${bg(n.fields[f])}`;return o+"}"}(r.mapValue):wt()}function Af(r){switch(Cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Xf(r);return t?16+Af(t):16;case 5:return 2*r.stringValue.length;case 6:return Rs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Af(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Na(s.fields,(u,f)=>{o+=u.length+Af(f)}),o}(r.mapValue);default:throw wt()}}function BA(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Sg(r){return!!r&&"integerValue"in r}function ey(r){return!!r&&"arrayValue"in r}function jA(r){return!!r&&"nullValue"in r}function zA(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ef(r){return!!r&&"mapValue"in r}function ZI(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[pb])===null||n===void 0?void 0:n.stringValue)===gb}function rc(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Na(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=rc(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=rc(r.arrayValue.values[n]);return t}return Object.assign({},r)}function JI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.value=t}static empty(){return new Xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Ef(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=rc(n)}setAll(t){let n=tn.emptyPath(),s={},o=[];t.forEach((f,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}f?s[d.lastSegment()]=rc(f):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());Ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];Ef(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){Na(n,(o,u)=>t[o]=u);for(const o of s)delete t[o]}clone(){return new Xn(rc(this.value))}}function yb(r){const t=[];return Na(r.fields,(n,s)=>{const o=new tn([n]);if(Ef(s)){const u=yb(s.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)}),new oi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(t,n,s,o,u,f,d){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=d}static newInvalidDocument(t){return new un(t,0,Rt.min(),Rt.min(),Rt.min(),Xn.empty(),0)}static newFoundDocument(t,n,s,o){return new un(t,1,n,Rt.min(),s,o,0)}static newNoDocument(t,n){return new un(t,2,n,Rt.min(),Rt.min(),Xn.empty(),0)}static newUnknownDocument(t,n){return new un(t,3,n,Rt.min(),Rt.min(),Xn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(t,n){this.position=t,this.inclusive=n}}function HA(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],f=r.position[o];if(u.field.isKeyField()?s=Et.comparator(Et.fromName(f.referenceValue),n.key):s=rl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qA(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,n="asc"){this.field=t,this.dir=n}}function $I(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{}class De extends vb{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new eM(t,n,s):n==="array-contains"?new rM(t,s):n==="in"?new sM(t,s):n==="not-in"?new aM(t,s):n==="array-contains-any"?new oM(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new nM(t,s):new iM(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(rl(n,this.value)):n!==null&&Cs(this.value)===Cs(n)&&this.matchesComparison(rl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends vb{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ui(t,n)}matches(t){return _b(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function _b(r){return r.op==="and"}function Ab(r){return tM(r)&&_b(r)}function tM(r){for(const t of r.filters)if(t instanceof ui)return!1;return!0}function wg(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+sl(r.value);if(Ab(r))return r.filters.map(t=>wg(t)).join(",");{const t=r.filters.map(n=>wg(n)).join(",");return`${r.op}(${t})`}}function Eb(r,t){return r instanceof De?function(s,o){return o instanceof De&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)}(r,t):r instanceof ui?function(s,o){return o instanceof ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,d)=>u&&Eb(f,o.filters[d]),!0):!1}(r,t):void wt()}function Tb(r){return r instanceof De?function(n){return`${n.field.canonicalString()} ${n.op} ${sl(n.value)}`}(r):r instanceof ui?function(n){return n.op.toString()+" {"+n.getFilters().map(Tb).join(" ,")+"}"}(r):"Filter"}class eM extends De{constructor(t,n,s){super(t,n,s),this.key=Et.fromName(s.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class nM extends De{constructor(t,n){super(t,"in",n),this.keys=bb("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class iM extends De{constructor(t,n){super(t,"not-in",n),this.keys=bb("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function bb(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Et.fromName(s.referenceValue))}class rM extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ey(n)&&pc(n.arrayValue,this.value)}}class sM extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&pc(this.value.arrayValue,n)}}class aM extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(pc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!pc(this.value.arrayValue,n)}}class oM extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(t,n=null,s=[],o=[],u=null,f=null,d=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=d,this.le=null}}function FA(r,t=null,n=[],s=[],o=null,u=null,f=null){return new lM(r,t,n,s,o,u,f)}function ny(r){const t=xt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>wg(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Yf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>sl(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>sl(s)).join(",")),t.le=n}return t.le}function iy(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!$I(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Eb(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!qA(r.startAt,t.startAt)&&qA(r.endAt,t.endAt)}function Rg(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,n=null,s=[],o=[],u=null,f="F",d=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uM(r,t,n,s,o,u,f,d){return new pl(r,t,n,s,o,u,f,d)}function Sb(r){return new pl(r)}function QA(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wb(r){return r.collectionGroup!==null}function sc(r){const t=xt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let d=new Be(tn.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new gc(u,s))}),n.has(tn.keyField().canonicalString())||t.he.push(new gc(tn.keyField(),s))}return t.he}function Oi(r){const t=xt(r);return t.Pe||(t.Pe=cM(t,sc(r))),t.Pe}function cM(r,t){if(r.limitType==="F")return FA(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gc(o.field,u)});const n=r.endAt?new Uf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Uf(r.startAt.position,r.startAt.inclusive):null;return FA(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Cg(r,t){const n=r.filters.concat([t]);return new pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Lf(r,t,n){return new pl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Zf(r,t){return iy(Oi(r),Oi(t))&&r.limitType===t.limitType}function Rb(r){return`${ny(Oi(r))}|lt:${r.limitType}`}function Po(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Tb(o)).join(", ")}]`),Yf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>sl(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>sl(o)).join(",")),`Target(${s})`}(Oi(r))}; limitType=${r.limitType})`}function Jf(r,t){return t.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Et.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,o){for(const u of sc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,t)&&function(s,o){return!(s.startAt&&!function(f,d,p){const g=HA(f,d,p);return f.inclusive?g<=0:g<0}(s.startAt,sc(s),o)||s.endAt&&!function(f,d,p){const g=HA(f,d,p);return f.inclusive?g>=0:g>0}(s.endAt,sc(s),o))}(r,t)}function hM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Cb(r){return(t,n)=>{let s=!1;for(const o of sc(r)){const u=fM(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fM(r,t,n){const s=r.field.isKeyField()?Et.comparator(t.key,n.key):function(u,f,d){const p=f.data.field(u),g=d.data.field(u);return p!==null&&g!==null?rl(p,g):wt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Na(this.inner,(n,s)=>{for(const[o,u]of s)t(o,u)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new de(Et.comparator);function _r(){return dM}const xb=new de(Et.comparator);function nc(...r){let t=xb;for(const n of r)t=t.insert(n.key,n);return t}function Db(r){let t=xb;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function va(){return ac()}function Ib(){return ac()}function ac(){return new Ua(r=>r.toString(),(r,t)=>r.isEqual(t))}const mM=new de(Et.comparator),pM=new Be(Et.comparator);function Ut(...r){let t=pM;for(const n of r)t=t.add(n);return t}const gM=new Be(Bt);function yM(){return gM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ry(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(t)?"-0":t}}function Mb(r){return{integerValue:""+r}}function vM(r,t){return QI(t)?Mb(t):ry(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function _M(r,t,n){return r instanceof kf?function(o,u){const f={fields:{[fb]:{stringValue:hb},[mb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ty(u)&&(u=Xf(u)),u&&(f.fields[db]=u),{mapValue:f}}(n,t):r instanceof yc?Vb(r,t):r instanceof vc?Pb(r,t):function(o,u){const f=Ob(o,u),d=KA(f)+KA(o.Ie);return Sg(f)&&Sg(o.Ie)?Mb(d):ry(o.serializer,d)}(r,t)}function AM(r,t,n){return r instanceof yc?Vb(r,t):r instanceof vc?Pb(r,t):n}function Ob(r,t){return r instanceof Bf?function(s){return Sg(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class kf extends $f{}class yc extends $f{constructor(t){super(),this.elements=t}}function Vb(r,t){const n=Nb(t);for(const s of r.elements)n.some(o=>Pi(o,s))||n.push(s);return{arrayValue:{values:n}}}class vc extends $f{constructor(t){super(),this.elements=t}}function Pb(r,t){let n=Nb(t);for(const s of r.elements)n=n.filter(o=>!Pi(o,s));return{arrayValue:{values:n}}}class Bf extends $f{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function KA(r){return Te(r.integerValue||r.doubleValue)}function Nb(r){return ey(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function EM(r,t){return r.field.isEqual(t.field)&&function(s,o){return s instanceof yc&&o instanceof yc||s instanceof vc&&o instanceof vc?il(s.elements,o.elements,Pi):s instanceof Bf&&o instanceof Bf?Pi(s.Ie,o.Ie):s instanceof kf&&o instanceof kf}(r.transform,t.transform)}class TM{constructor(t,n){this.version=t,this.transformResults=n}}class pr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pr}static exists(t){return new pr(void 0,t)}static updateTime(t){return new pr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Tf(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class td{}function Ub(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new kb(r.key,pr.none()):new Dc(r.key,r.data,pr.none());{const n=r.data,s=Xn.empty();let o=new Be(tn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new La(r.key,s,new oi(o.toArray()),pr.none())}}function bM(r,t,n){r instanceof Dc?function(o,u,f){const d=o.value.clone(),p=WA(o.fieldTransforms,u,f.transformResults);d.setAll(p),u.convertToFoundDocument(f.version,d).setHasCommittedMutations()}(r,t,n):r instanceof La?function(o,u,f){if(!Tf(o.precondition,u))return void u.convertToUnknownDocument(f.version);const d=WA(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Lb(o)),p.setAll(d),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function oc(r,t,n,s){return r instanceof Dc?function(u,f,d,p){if(!Tf(u.precondition,f))return d;const g=u.value.clone(),A=YA(u.fieldTransforms,p,f);return g.setAll(A),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,t,n,s):r instanceof La?function(u,f,d,p){if(!Tf(u.precondition,f))return d;const g=YA(u.fieldTransforms,p,f),A=f.data;return A.setAll(Lb(u)),A.setAll(g),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(E=>E.field))}(r,t,n,s):function(u,f,d){return Tf(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):d}(r,t,n)}function SM(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=Ob(s.transform,o||null);u!=null&&(n===null&&(n=Xn.empty()),n.set(s.field,u))}return n||null}function GA(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&il(s,o,(u,f)=>EM(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Dc extends td{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class La extends td{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Lb(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function WA(r,t,n){const s=new Map;$t(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,d=t.data.field(u.field);s.set(u.field,AM(f,d,n[o]))}return s}function YA(r,t,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,_M(u,f,t))}return s}class kb extends td{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wM extends td{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&bM(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=oc(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=oc(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=Ib();return this.mutations.forEach(o=>{const u=t.get(o.key),f=u.overlayedDocument;let d=this.applyToLocalView(f,u.mutatedFields);d=n.has(o.key)?null:d;const p=Ub(f,d);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Rt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ut())}isEqual(t){return this.batchId===t.batchId&&il(this.mutations,t.mutations,(n,s)=>GA(n,s))&&il(this.baseMutations,t.baseMutations,(n,s)=>GA(n,s))}}class sy{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){$t(t.mutations.length===s.length);let o=function(){return mM}();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new sy(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe,qt;function DM(r){switch(r){case et.OK:return wt();case et.CANCELLED:case et.UNKNOWN:case et.DEADLINE_EXCEEDED:case et.RESOURCE_EXHAUSTED:case et.INTERNAL:case et.UNAVAILABLE:case et.UNAUTHENTICATED:return!1;case et.INVALID_ARGUMENT:case et.NOT_FOUND:case et.ALREADY_EXISTS:case et.PERMISSION_DENIED:case et.FAILED_PRECONDITION:case et.ABORTED:case et.OUT_OF_RANGE:case et.UNIMPLEMENTED:case et.DATA_LOSS:return!0;default:return wt()}}function Bb(r){if(r===void 0)return vr("GRPC error has no .code"),et.UNKNOWN;switch(r){case xe.OK:return et.OK;case xe.CANCELLED:return et.CANCELLED;case xe.UNKNOWN:return et.UNKNOWN;case xe.DEADLINE_EXCEEDED:return et.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return et.RESOURCE_EXHAUSTED;case xe.INTERNAL:return et.INTERNAL;case xe.UNAVAILABLE:return et.UNAVAILABLE;case xe.UNAUTHENTICATED:return et.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return et.INVALID_ARGUMENT;case xe.NOT_FOUND:return et.NOT_FOUND;case xe.ALREADY_EXISTS:return et.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return et.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return et.FAILED_PRECONDITION;case xe.ABORTED:return et.ABORTED;case xe.OUT_OF_RANGE:return et.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return et.UNIMPLEMENTED;case xe.DATA_LOSS:return et.DATA_LOSS;default:return wt()}}(qt=xe||(xe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new As([4294967295,4294967295],0);function XA(r){const t=IM().encode(r),n=new tb;return n.update(t),new Uint8Array(n.digest())}function ZA(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new As([n,s],0),new As([o,u],0)]}class ay{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(s<0)throw new ic(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=As.fromNumber(this.Ee)}Ae(t,n,s){let o=t.add(n.multiply(As.fromNumber(s)));return o.compare(MM)===1&&(o=new As([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=XA(t),[s,o]=ZA(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new ay(u,o,n);return s.forEach(d=>f.insert(d)),f}insert(t){if(this.Ee===0)return;const n=XA(t),[s,o]=ZA(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Ic.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new ed(Rt.min(),o,new de(Bt),_r(),Ut())}}class Ic{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ic(s,n,Ut(),Ut(),Ut())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,s,o){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=o}}class jb{constructor(t,n){this.targetId=t,this.ge=n}}class zb{constructor(t,n,s=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class JA{constructor(){this.pe=0,this.ye=$A(),this.we=en.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Ut(),n=Ut(),s=Ut();return this.ye.forEach((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:wt()}}),new Ic(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=$A()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class OM{constructor(t){this.ke=t,this.qe=new Map,this.Qe=_r(),this.$e=cf(),this.Ke=cf(),this.Ue=new de(Bt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(t){const n=t.targetId,s=t.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Rg(u))if(s===0){const f=new Et(u.path);this.ze(n,f,un.newNoDocument(f,Rt.min()))}else $t(s===1);else{const f=this.et(n);if(f!==s){const d=this.tt(t),p=d?this.nt(d,t,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,d;try{f=Rs(s).toUint8Array()}catch(p){if(p instanceof cb)return nl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new ay(f,o,u)}catch(p){return nl(p instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),d=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(d)||(this.ze(n,u,null),o++)}),o}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const d=this.Xe(f);if(d){if(u.current&&Rg(d.target)){const p=new Et(d.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,un.newNoDocument(p,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ut();this.Ke.forEach((u,f)=>{let d=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const o=new ed(t,n,this.Ue,this.Qe,s);return this.Qe=_r(),this.$e=cf(),this.Ke=cf(),this.Ue=new de(Bt),o}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const o=this.He(t);this.ut(t,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new JA,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new Be(Bt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Be(Bt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new JA),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function cf(){return new de(Et.comparator)}function $A(){return new de(Et.comparator)}const VM={asc:"ASCENDING",desc:"DESCENDING"},PM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NM={and:"AND",or:"OR"};class UM{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function xg(r,t){return r.useProto3Json||Yf(t)?t:{value:t}}function jf(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hb(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function LM(r,t){return jf(r,t.toTimestamp())}function Vi(r){return $t(!!r),Rt.fromTimestamp(function(n){const s=ws(n);return new ke(s.seconds,s.nanos)}(r))}function oy(r,t){return Dg(r,t).canonicalString()}function Dg(r,t){const n=function(o){return new oe(["projects",o.projectId,"databases",o.database])}(r).child("documents");return t===void 0?n:n.child(t)}function qb(r){const t=oe.fromString(r);return $t(Wb(t)),t}function Ig(r,t){return oy(r.databaseId,t.path)}function Wp(r,t){const n=qb(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(et.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Et(Qb(n))}function Fb(r,t){return oy(r.databaseId,t)}function kM(r){const t=qb(r);return t.length===4?oe.emptyPath():Qb(t)}function Mg(r){return new oe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Qb(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function tE(r,t,n){return{name:Ig(r,t),fields:n.value.mapValue.fields}}function BM(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=function(g,A){return g.useProto3Json?($t(A===void 0||typeof A=="string"),en.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array),en.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,d=f&&function(g){const A=g.code===void 0?et.UNKNOWN:Bb(g.code);return new ft(A,g.message||"")}(f);n=new zb(s,o,u,d||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wp(r,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):Rt.min(),d=new Xn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,u,f,d),g=s.targetIds||[],A=s.removedTargetIds||[];n=new bf(g,A,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Wp(r,s.document),u=s.readTime?Vi(s.readTime):Rt.min(),f=un.newNoDocument(o,u),d=s.removedTargetIds||[];n=new bf([],d,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Wp(r,s.document),u=s.removedTargetIds||[];n=new bf([],u,o,null)}else{if(!("filter"in t))return wt();{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new xM(o,u),d=s.targetId;n=new jb(d,f)}}return n}function jM(r,t){let n;if(t instanceof Dc)n={update:tE(r,t.key,t.value)};else if(t instanceof kb)n={delete:Ig(r,t.key)};else if(t instanceof La)n={update:tE(r,t.key,t.data),updateMask:YM(t.fieldMask)};else{if(!(t instanceof wM))return wt();n={verify:Ig(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const d=f.transform;if(d instanceof kf)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof vc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Bf)return{fieldPath:f.field.canonicalString(),increment:d.Ie};throw wt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:LM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(r,t.precondition)),n}function zM(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Vi(o.updateTime):Vi(u);return f.isEqual(Rt.min())&&(f=Vi(u)),new TM(f,o.transformResults||[])}(n,t))):[]}function HM(r,t){return{documents:[Fb(r,t.path)]}}function qM(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Fb(r,o);const u=function(g){if(g.length!==0)return Gb(ui.create(g,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(A=>function(w){return{field:No(w.field),direction:KM(w.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const d=xg(r,t.limit);return d!==null&&(n.structuredQuery.limit=d),t.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(t.endAt)),{ht:n,parent:o}}function FM(r){let t=kM(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$t(s===1);const A=n.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let u=[];n.where&&(u=function(E){const w=Kb(E);return w instanceof ui&&Ab(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(E){return E.map(w=>function(V){return new gc(Uo(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(E){let w;return w=typeof E=="object"?E.value:E,Yf(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(E){const w=!!E.before,x=E.values||[];return new Uf(x,w)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const w=!E.before,x=E.values||[];return new Uf(x,w)}(n.endAt)),uM(t,o,f,u,d,"F",p,g)}function QM(r,t){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Uo(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(n.unaryFilter.field);return De.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Uo(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Uo(n.unaryFilter.field);return De.create(f,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(r):r.fieldFilter!==void 0?function(n){return De.create(Uo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ui.create(n.compositeFilter.filters.map(s=>Kb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(r):wt()}function KM(r){return VM[r]}function GM(r){return PM[r]}function WM(r){return NM[r]}function No(r){return{fieldPath:r.canonicalString()}}function Uo(r){return tn.fromServerFormat(r.fieldPath)}function Gb(r){return r instanceof De?function(n){if(n.op==="=="){if(zA(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NAN"}};if(jA(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zA(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NAN"}};if(jA(n.value))return{unaryFilter:{field:No(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:No(n.field),op:GM(n.op),value:n.value}}}(r):r instanceof ui?function(n){const s=n.getFilters().map(o=>Gb(o));return s.length===1?s[0]:{compositeFilter:{op:WM(n.op),filters:s}}}(r):wt()}function YM(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function Wb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(t,n,s,o,u=Rt.min(),f=Rt.min(),d=en.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(t){return new ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(t){this.Tt=t}}function ZM(r){const t=FM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Lf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(){this.Tn=new $M}addToCollectionParentIndex(t,n){return this.Tn.add(n),tt.resolve()}getCollectionParents(t,n){return tt.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return tt.resolve()}deleteFieldIndex(t,n){return tt.resolve()}deleteAllFieldIndexes(t){return tt.resolve()}createTargetIndexes(t,n){return tt.resolve()}getDocumentsMatchingTarget(t,n){return tt.resolve(null)}getIndexType(t,n){return tt.resolve(0)}getFieldIndexes(t,n){return tt.resolve([])}getNextCollectionGroupToUpdate(t){return tt.resolve(null)}getMinOffset(t,n){return tt.resolve(Ss.min())}getMinOffsetFromCollectionGroup(t,n){return tt.resolve(Ss.min())}updateCollectionGroup(t,n,s){return tt.resolve()}updateIndexEntries(t,n){return tt.resolve()}}class $M{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new Be(oe.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new Be(oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class bn{static withCacheSize(t){return new bn(t,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bn.DEFAULT_COLLECTION_PERCENTILE=10,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bn.DEFAULT=new bn(Yb,bn.DEFAULT_COLLECTION_PERCENTILE,bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bn.DISABLED=new bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new al(0)}static Un(){return new al(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",tO=1048576;function iE([r,t],[n,s]){const o=Bt(r,n);return o===0?Bt(t,s):o}class eO{constructor(t){this.Hn=t,this.buffer=new Be(iE),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(nE,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ml(n)?ht(nE,"Ignoring IndexedDB error during garbage collection: ",n):await dl(n)}await this.er(3e5)})}}class iO{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return tt.resolve(Wf.ae);const s=new eO(n);return this.tr.forEachTarget(t,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(t,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(eE)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),eE):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,o,u,f,d,p,g;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),o=this.params.maximumSequenceNumbersToCollect):o=E,f=Date.now(),this.nthSequenceNumber(t,o))).next(E=>(s=E,d=Date.now(),this.removeTargets(t,s,n))).next(E=>(u=E,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(E=>(g=Date.now(),Vo()<=Ft.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${o} in `+(d-f)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${E} documents in `+(g-p)+`ms
Total Duration: ${g-A}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:E})))}}function rO(r,t){return new iO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.changes=new Ua(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?tt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(t,n))).next(o=>(s!==null&&oc(s.mutation,o,oi.empty(),ke.now()),o))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Ut()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Ut()){const o=va();return this.populateOverlays(t,o,n).next(()=>this.computeViews(t,n,o,s).next(u=>{let f=nc();return u.forEach((d,p)=>{f=f.insert(d,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=va();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Ut()))}populateOverlays(t,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(t,o).next(u=>{u.forEach((f,d)=>{n.set(f,d)})})}computeViews(t,n,s,o){let u=_r();const f=ac(),d=function(){return ac()}();return n.forEach((p,g)=>{const A=s.get(g.key);o.has(g.key)&&(A===void 0||A.mutation instanceof La)?u=u.insert(g.key,g):A!==void 0?(f.set(g.key,A.mutation.getFieldMask()),oc(A.mutation,g,A.mutation.getFieldMask(),ke.now())):f.set(g.key,oi.empty())}),this.recalculateAndSaveOverlays(t,u).next(p=>(p.forEach((g,A)=>f.set(g,A)),n.forEach((g,A)=>{var E;return d.set(g,new aO(A,(E=f.get(g))!==null&&E!==void 0?E:null))}),d))}recalculateAndSaveOverlays(t,n){const s=ac();let o=new de((f,d)=>f-d),u=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const d of f)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let A=s.get(p)||oi.empty();A=d.applyToLocalView(g,A),s.set(p,A);const E=(o.get(d.batchId)||Ut()).add(p);o=o.insert(d.batchId,E)})}).next(()=>{const f=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,A=p.value,E=Ib();A.forEach(w=>{if(!u.has(w)){const x=Ub(n.get(w),s.get(w));x!==null&&E.set(w,x),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,g,E))}return tt.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,o){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):wb(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):tt.resolve(va());let d=fc,p=u;return f.next(g=>tt.forEach(g,(A,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),u.get(A)?tt.resolve():this.remoteDocumentCache.getEntry(t,A).next(w=>{p=p.insert(A,w)}))).next(()=>this.populateOverlays(t,g,u)).next(()=>this.computeViews(t,p,g,Ut())).next(A=>({batchId:d,changes:Db(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(s=>{let o=nc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let f=nc();return this.indexManager.getCollectionParents(t,u).next(d=>tt.forEach(d,p=>{const g=function(E,w){return new pl(w,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next(A=>{A.forEach((E,w)=>{f=f.insert(E,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const A=g.getKey();f.get(A)===null&&(f=f.insert(A,un.newInvalidDocument(A)))});let d=nc();return f.forEach((p,g)=>{const A=u.get(p);A!==void 0&&oc(A.mutation,g,oi.empty(),ke.now()),Jf(n,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return tt.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Vi(o.createTime)}}(n)),tt.resolve()}getNamedQuery(t,n){return tt.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:ZM(o.bundledQuery),readTime:Vi(o.readTime)}}(n)),tt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new de(Et.comparator),this.Rr=new Map}getOverlay(t,n){return tt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=va();return tt.forEach(n,o=>this.getOverlay(t,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((o,u)=>{this.Et(t,n,u)}),tt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),tt.resolve()}getOverlaysForCollection(t,n,s){const o=va(),u=n.length+1,f=new Et(n.child("")),d=this.overlays.getIteratorFrom(f);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return tt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new de((g,A)=>g-A);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let A=u.get(g.largestBatchId);A===null&&(A=va(),u=u.insert(g.largestBatchId,A)),A.set(g.getKey(),g)}}const d=va(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,A)=>d.set(g,A)),!(d.size()>=o)););return tt.resolve(d)}Et(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new CM(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ut(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return tt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,tt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.Vr=new Be(Ge.mr),this.gr=new Be(Ge.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ge(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ge(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new Et(new oe([])),s=new Ge(n,t),o=new Ge(n,t+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Et(new oe([])),s=new Ge(n,t),o=new Ge(n,t+1);let u=Ut();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Ge(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ge{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Et.comparator(t.key,n.key)||Bt(t.Cr,n.Cr)}static pr(t,n){return Bt(t.Cr,n.Cr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Be(Ge.mr)}checkEmpty(t){return tt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RM(u,n,s,o);this.mutationQueue.push(f);for(const d of o)this.Mr=this.Mr.add(new Ge(d.key,u)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return tt.resolve(f)}lookupMutationBatch(t,n){return tt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return tt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(this.mutationQueue.length===0?$g:this.Fr-1)}getAllMutationBatches(t){return tt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ge(n,0),o=new Ge(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const d=this.Or(f.Cr);u.push(d)}),tt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Be(Bt);return n.forEach(o=>{const u=new Ge(o,0),f=new Ge(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],d=>{s=s.add(d.Cr)})}),tt.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;Et.isDocumentKey(u)||(u=u.child(""));const f=new Ge(new Et(u),0);let d=new Be(Bt);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},f),tt.resolve(this.Br(d))}Br(t){const n=[];return t.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return tt.forEach(n.mutations,o=>{const u=new Ge(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ge(n,0),o=this.Mr.firstAfterOrEqual(s);return tt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,tt.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(t){this.kr=t,this.docs=function(){return new de(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return tt.resolve(s?s.document.mutableCopy():un.newInvalidDocument(n))}getEntries(t,n){let s=_r();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),tt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=_r();const f=n.path,d=new Et(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:A}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||zI(jI(A),s)<=0||(o.has(A.key)||Jf(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){wt()}qr(t,n){return tt.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new dO(this)}getSize(t){return tt.resolve(this.size)}}class dO extends sO{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(t,o)):this.Ir.removeEntry(s)}),tt.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(t){this.persistence=t,this.Qr=new Ua(n=>ny(n),iy),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ly,this.targetCount=0,this.Ur=al.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,o)=>n(o)),tt.resolve()}getLastRemoteSnapshotVersion(t){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return tt.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),tt.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new al(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,tt.resolve()}updateTargetData(t,n){return this.zn(n),tt.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,tt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.Qr.forEach((f,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,d.targetId)),o++)}),tt.waitFor(u).next(()=>o)}getTargetCount(t){return tt.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return tt.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),tt.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(t,f))}),tt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),tt.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return tt.resolve(s)}containsKey(t,n){return tt.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Wf(0),this.zr=!1,this.zr=!0,this.jr=new cO,this.referenceDelegate=t(this),this.Hr=new mO(this),this.indexManager=new JM,this.remoteDocumentCache=function(o){return new fO(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new XM(n),this.Yr=new lO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new uO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new hO(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const o=new pO(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(t,n){return tt.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class pO extends qI{constructor(t){super(),this.currentSequenceNumber=t}}class uy{constructor(t){this.persistence=t,this.ti=new ly,this.ni=null}static ri(t){return new uy(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),tt.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),tt.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),tt.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.ii,s=>{const o=Et.fromPath(s);return this.si(t,o).next(u=>{u||n.removeEntry(o,Rt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return tt.or([()=>tt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class zf{constructor(t,n){this.persistence=t,this.oi=new Ua(s=>KI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=rO(this,n)}static ri(t,n){return new zf(t,n)}Zr(){}Xr(t){return tt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(o=>s+o))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return tt.forEach(this.oi,(s,o)=>this.ar(t,s,o).next(u=>u?tt.resolve():n(o)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(t,f=>this.ar(t,f,n).next(d=>{d||(s++,u.removeEntry(f,Rt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),tt.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),tt.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Af(t.data.value)),n}ar(t,n,s){return tt.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.oi.get(n);return tt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(t,n){let s=Ut(),o=Ut();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new cy(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dD()?8:FI(hD())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new gO;return this._s(t,n,f).next(d=>{if(u.result=d,this.Xi)return this.us(t,n,f,d.size)})}).next(()=>u.result)}us(t,n,s,o){return s.documentReadCount<this.es?(Vo()<=Ft.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),tt.resolve()):(Vo()<=Ft.DEBUG&&ht("QueryEngine","Query:",Po(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Vo()<=Ft.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(n))):tt.resolve())}rs(t,n){if(QA(n))return tt.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(t,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Lf(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Ut(...u);return this.ns.getDocuments(t,f).next(d=>this.indexManager.getMinOffset(t,s).next(p=>{const g=this.cs(n,d);return this.ls(n,g,f,p.readTime)?this.rs(t,Lf(n,null,"F")):this.hs(t,g,n,p)}))})))}ss(t,n,s,o){return QA(n)||o.isEqual(Rt.min())?tt.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?tt.resolve(null):(Vo()<=Ft.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(n)),this.hs(t,f,n,BI(o,fc)).next(d=>d))})}cs(t,n){let s=new Be(Cb(t));return n.forEach((o,u)=>{Jf(t,u)&&(s=s.add(u))}),s}ls(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(t,n,s){return Vo()<=Ft.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Po(n)),this.ns.getDocumentsMatchingQuery(t,n,Ss.min(),s)}hs(t,n,s,o){return this.ns.getDocumentsMatchingQuery(t,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="LocalStore",vO=3e8;class _O{constructor(t,n,s,o){this.persistence=t,this.Ps=n,this.serializer=o,this.Ts=new de(Bt),this.Is=new Ua(u=>ny(u),iy),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new oO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function AO(r,t,n,s){return new _O(r,t,n,s)}async function Zb(r,t){const n=xt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],d=[];let p=Ut();for(const g of o){f.push(g.batchId);for(const A of g.mutations)p=p.add(A.key)}for(const g of u){d.push(g.batchId);for(const A of g.mutations)p=p.add(A.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:d}))})})}function EO(r,t){const n=xt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,A){const E=g.batch,w=E.keys();let x=tt.resolve();return w.forEach(V=>{x=x.next(()=>A.getEntry(p,V)).next(j=>{const L=g.docVersions.get(V);$t(L!==null),j.version.compareTo(L)<0&&(E.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),A.addEntry(j)))})}),x.next(()=>d.mutationQueue.removeMutationBatch(p,E))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ut();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,o))})}function Jb(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function TO(r,t){const n=xt(r),s=t.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const d=[];t.targetChanges.forEach((A,E)=>{const w=o.get(E);if(!w)return;d.push(n.Hr.removeMatchingKeys(u,A.removedDocuments,E).next(()=>n.Hr.addMatchingKeys(u,A.addedDocuments,E)));let x=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(E)!==null?x=x.withResumeToken(en.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):A.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(A.resumeToken,s)),o=o.insert(E,x),function(j,L,G){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=vO?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,x,A)&&d.push(n.Hr.updateTargetData(u,x))});let p=_r(),g=Ut();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),d.push(bO(u,f,t.documentUpdates).next(A=>{p=A.Vs,g=A.fs})),!s.isEqual(Rt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(u).next(E=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(A)}return tt.waitFor(d).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function bO(r,t,n){let s=Ut(),o=Ut();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=_r();return n.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Rt.min())?(t.removeEntry(d,p.readTime),f=f.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),f=f.insert(d,p)):ht(hy,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function SO(r,t){const n=xt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=$g),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function wO(r,t){const n=xt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,t).next(u=>u?(o=u,tt.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new ys(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Og(r,t,n){const s=xt(r),o=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!ml(f))throw f;ht(hy,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(o.target)}function rE(r,t,n){const s=xt(r);let o=Rt.min(),u=Ut();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,A){const E=xt(p),w=E.Is.get(A);return w!==void 0?tt.resolve(E.Ts.get(w)):E.Hr.getTargetData(g,A)}(s,f,Oi(t)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?o:Rt.min(),n?u:Ut())).next(d=>(RO(s,hM(t),d),{documents:d,gs:u})))}function RO(r,t,n){let s=r.Es.get(t)||Rt.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class sE{constructor(){this.activeTargetIds=yM()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class CO{constructor(){this.ho=new sE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new sE,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="ConnectivityMonitor";class oE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(aE,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(aE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf=null;function Vg(){return hf===null?hf=function(){return 268435456+Math.round(2147483648*Math.random())}():hf++,"0x"+hf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="RestConnection",DO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class IO{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Pf?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(t,n,s,o,u){const f=Vg(),d=this.So(t,n.toUriEncodedString());ht(Yp,`Sending RPC '${t}' ${f}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(t,d,p,s).then(g=>(ht(Yp,`Received RPC '${t}' ${f}: `,g),g),g=>{throw nl(Yp,`RPC '${t}' ${f} failed with error: `,g,"url: ",d,"request:",s),g})}Co(t,n,s,o,u,f){return this.bo(t,n,s,o,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>t[u]=o),s&&s.headers.forEach((o,u)=>t[u]=o)}So(t,n){const s=DO[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class OO extends IO{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,o){const u=Vg();return new Promise((f,d)=>{const p=new eb;p.setWithCredentials(!0),p.listenOnce(nb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case _f.NO_ERROR:const A=p.getResponseJson();ht(an,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),f(A);break;case _f.TIMEOUT:ht(an,`RPC '${t}' ${u} timed out`),d(new ft(et.DEADLINE_EXCEEDED,"Request time out"));break;case _f.HTTP_ERROR:const E=p.getStatus();if(ht(an,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const x=w==null?void 0:w.error;if(x&&x.status&&x.message){const V=function(L){const G=L.toLowerCase().replace(/_/g,"-");return Object.values(et).indexOf(G)>=0?G:et.UNKNOWN}(x.status);d(new ft(V,x.message))}else d(new ft(et.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ft(et.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ht(an,`RPC '${t}' ${u} completed.`)}});const g=JSON.stringify(o);ht(an,`RPC '${t}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(t,n,s){const o=Vg(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=sb(),d=rb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const A=u.join("");ht(an,`Creating RPC '${t}' stream ${o}: ${A}`,p);const E=f.createWebChannel(A,p);let w=!1,x=!1;const V=new MO({Fo:L=>{x?ht(an,`Not sending because RPC '${t}' stream ${o} is closed:`,L):(w||(ht(an,`Opening RPC '${t}' stream ${o} transport.`),E.open(),w=!0),ht(an,`RPC '${t}' stream ${o} sending:`,L),E.send(L))},Mo:()=>E.close()}),j=(L,G,it)=>{L.listen(G,J=>{try{it(J)}catch(dt){setTimeout(()=>{throw dt},0)}})};return j(E,ec.EventType.OPEN,()=>{x||(ht(an,`RPC '${t}' stream ${o} transport opened.`),V.Qo())}),j(E,ec.EventType.CLOSE,()=>{x||(x=!0,ht(an,`RPC '${t}' stream ${o} transport closed`),V.Ko())}),j(E,ec.EventType.ERROR,L=>{x||(x=!0,nl(an,`RPC '${t}' stream ${o} transport errored:`,L),V.Ko(new ft(et.UNAVAILABLE,"The operation could not be completed")))}),j(E,ec.EventType.MESSAGE,L=>{var G;if(!x){const it=L.data[0];$t(!!it);const J=it,dt=(J==null?void 0:J.error)||((G=J[0])===null||G===void 0?void 0:G.error);if(dt){ht(an,`RPC '${t}' stream ${o} received error:`,dt);const lt=dt.status;let Tt=function(S){const I=xe[S];if(I!==void 0)return Bb(I)}(lt),O=dt.message;Tt===void 0&&(Tt=et.INTERNAL,O="Unknown error status: "+lt+" with message "+dt.message),x=!0,V.Ko(new ft(Tt,O)),E.close()}else ht(an,`RPC '${t}' stream ${o} received:`,it),V.Uo(it)}}),j(d,ib.STAT_EVENT,L=>{L.stat===Tg.PROXY?ht(an,`RPC '${t}' stream ${o} detected buffering proxy`):L.stat===Tg.NOPROXY&&ht(an,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.$o()},0),V}}function Xp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(r){return new UM(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class tS{constructor(t,n,s,o,u,f,d,p){this.Ti=t,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new $b(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===et.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===et.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{t(()=>{const o=new ft(et.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(lE,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ht(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VO extends tS{constructor(t,n,s,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=BM(this.serializer,t),s=function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?Vi(f.readTime):Rt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Mg(this.serializer),n.addTarget=function(u,f){let d;const p=f.target;if(d=Rg(p)?{documents:HM(u,p)}:{query:qM(u,p).ht},d.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){d.resumeToken=Hb(u,f.resumeToken);const g=xg(u,f.expectedCount);g!==null&&(d.expectedCount=g)}else if(f.snapshotVersion.compareTo(Rt.min())>0){d.readTime=jf(u,f.snapshotVersion.toTimestamp());const g=xg(u,f.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,t);const s=QM(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Mg(this.serializer),n.removeTarget=t,this.I_(n)}}class PO extends tS{constructor(t,n,s,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=zM(t.writeResults,t.commitTime),s=Vi(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Mg(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>jM(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{}class UO extends NO{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,Dg(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(et.UNKNOWN,u.toString())})}Co(t,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Co(t,Dg(n,s),o,f,d,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===et.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(et.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class LO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vr(n),this.N_=!1):ht("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa="RemoteStore";class kO{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ka(this)&&(ht(Oa,"Restarting streams for network reachability change."),await async function(p){const g=xt(p);g.W_.add(4),await Mc(g),g.j_.set("Unknown"),g.W_.delete(4),await id(g)}(this))})}),this.j_=new LO(s,o)}}async function id(r){if(ka(r))for(const t of r.G_)await t(!0)}async function Mc(r){for(const t of r.G_)await t(!1)}function eS(r,t){const n=xt(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),py(n)?my(n):gl(n).c_()&&dy(n,t))}function fy(r,t){const n=xt(r),s=gl(n);n.U_.delete(t),s.c_()&&nS(n,t),n.U_.size===0&&(s.c_()?s.P_():ka(n)&&n.j_.set("Unknown"))}function dy(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gl(r).y_(t)}function nS(r,t){r.H_.Ne(t),gl(r).w_(t)}function my(r){r.H_=new OM({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),gl(r).start(),r.j_.B_()}function py(r){return ka(r)&&!gl(r).u_()&&r.U_.size>0}function ka(r){return xt(r).W_.size===0}function iS(r){r.H_=void 0}async function BO(r){r.j_.set("Online")}async function jO(r){r.U_.forEach((t,n)=>{dy(r,t)})}async function zO(r,t){iS(r),py(r)?(r.j_.q_(t),my(r)):r.j_.set("Unknown")}async function HO(r,t,n){if(r.j_.set("Online"),t instanceof zb&&t.state===2&&t.cause)try{await async function(o,u){const f=u.cause;for(const d of u.targetIds)o.U_.has(d)&&(await o.remoteSyncer.rejectListen(d,f),o.U_.delete(d),o.H_.removeTarget(d))}(r,t)}catch(s){ht(Oa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Hf(r,s)}else if(t instanceof bf?r.H_.We(t):t instanceof jb?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Rt.min()))try{const s=await Jb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const d=u.H_.ot(f);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const A=u.U_.get(g);A&&u.U_.set(g,A.withResumeToken(p.resumeToken,f))}}),d.targetMismatches.forEach((p,g)=>{const A=u.U_.get(p);if(!A)return;u.U_.set(p,A.withResumeToken(en.EMPTY_BYTE_STRING,A.snapshotVersion)),nS(u,p);const E=new ys(A.target,p,g,A.sequenceNumber);dy(u,E)}),u.remoteSyncer.applyRemoteEvent(d)}(r,n)}catch(s){ht(Oa,"Failed to raise snapshot:",s),await Hf(r,s)}}async function Hf(r,t,n){if(!ml(t))throw t;r.W_.add(1),await Mc(r),r.j_.set("Offline"),n||(n=()=>Jb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(Oa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await id(r)})}function rS(r,t){return t().catch(n=>Hf(r,n,t))}async function rd(r){const t=xt(r),n=xs(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:$g;for(;qO(t);)try{const o=await SO(t.localStore,s);if(o===null){t.K_.length===0&&n.P_();break}s=o.batchId,FO(t,o)}catch(o){await Hf(t,o)}sS(t)&&aS(t)}function qO(r){return ka(r)&&r.K_.length<10}function FO(r,t){r.K_.push(t);const n=xs(r);n.c_()&&n.b_&&n.S_(t.mutations)}function sS(r){return ka(r)&&!xs(r).u_()&&r.K_.length>0}function aS(r){xs(r).start()}async function QO(r){xs(r).C_()}async function KO(r){const t=xs(r);for(const n of r.K_)t.S_(n.mutations)}async function GO(r,t,n){const s=r.K_.shift(),o=sy.from(s,t,n);await rS(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await rd(r)}async function WO(r,t){t&&xs(r).b_&&await async function(s,o){if(function(f){return DM(f)&&f!==et.ABORTED}(o.code)){const u=s.K_.shift();xs(s).h_(),await rS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rd(s)}}(r,t),sS(r)&&aS(r)}async function uE(r,t){const n=xt(r);n.asyncQueue.verifyOperationInProgress(),ht(Oa,"RemoteStore received new credentials");const s=ka(n);n.W_.add(3),await Mc(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await id(n)}async function YO(r,t){const n=xt(r);t?(n.W_.delete(2),await id(n)):t||(n.W_.add(2),await Mc(n),n.j_.set("Unknown"))}function gl(r){return r.J_||(r.J_=function(n,s,o){const u=xt(n);return u.M_(),new VO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:BO.bind(null,r),No:jO.bind(null,r),Lo:zO.bind(null,r),p_:HO.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),py(r)?my(r):r.j_.set("Unknown")):(await r.J_.stop(),iS(r))})),r.J_}function xs(r){return r.Y_||(r.Y_=function(n,s,o){const u=xt(n);return u.M_(),new PO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:QO.bind(null,r),Lo:WO.bind(null,r),D_:KO.bind(null,r),v_:GO.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await rd(r)):(await r.Y_.stop(),r.K_.length>0&&(ht(Oa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const f=Date.now()+s,d=new gy(t,n,f,o,u);return d.start(s),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(et.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yy(r,t){if(vr("AsyncQueue",`${t}: ${r}`),ml(r))return new ft(et.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{static emptySet(t){return new Bo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Et.comparator(n.key,s.key):(n,s)=>Et.comparator(n.key,s.key),this.keyedMap=nc(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Bo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Bo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Z_=new de(Et.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class ol{constructor(t,n,s,o,u,f,d,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const f=[];return n.forEach(d=>{f.push({type:0,doc:d})}),new ol(t,n,Bo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class ZO{constructor(){this.queries=hE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=xt(n),u=o.queries;o.queries=hE(),u.forEach((f,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ft(et.ABORTED,"Firestore shutting down"))}}function hE(){return new Ua(r=>Rb(r),Zf)}async function JO(r,t){const n=xt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.na()&&t.ra()&&(s=2):(u=new XO,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const d=yy(f,`Initialization of query '${Po(t.query)}' failed`);return void t.onError(d)}n.queries.set(o,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&vy(n)}async function $O(r,t){const n=xt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=t.ra()?0:1:!u.na()&&t.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function tV(r,t){const n=xt(r);let s=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const d of f.ta)d.oa(o)&&(s=!0);f.ea=o}}s&&vy(n)}function eV(r,t,n){const s=xt(r),o=s.queries.get(t);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(t)}function vy(r){r.ia.forEach(t=>{t.next()})}var Pg,fE;(fE=Pg||(Pg={}))._a="default",fE.Cache="cache";class nV{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new ol(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=ol.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(t){this.key=t}}class lS{constructor(t){this.key=t}}class iV{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ut(),this.mutatedKeys=Ut(),this.ya=Cb(t),this.wa=new Bo(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new cE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,E)=>{const w=o.get(A),x=Jf(this.query,E)?E:null,V=!!w&&this.mutatedKeys.has(w.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;w&&x?w.data.isEqual(x.data)?V!==j&&(s.track({type:3,doc:x}),L=!0):this.va(w,x)||(s.track({type:2,doc:x}),L=!0,(p&&this.ya(x,p)>0||g&&this.ya(x,g)<0)&&(d=!0)):!w&&x?(s.track({type:0,doc:x}),L=!0):w&&!x&&(s.track({type:1,doc:w}),L=!0,(p||g)&&(d=!0)),L&&(x?(f=f.add(x),u=j?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{wa:f,Da:s,ls:d,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,E)=>function(x,V){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return j(x)-j(V)}(A.type,E.type)||this.ya(A.doc,E.doc)),this.Ca(s),o=o!=null&&o;const d=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new ol(this.query,t.wa,u,f,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new cE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Ut(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new lS(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new oS(s))}),n}Oa(t){this.fa=t.gs,this.pa=Ut();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return ol.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const _y="SyncEngine";class rV{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class sV{constructor(t){this.key=t,this.Ba=!1}}class aV{constructor(t,n,s,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ua(d=>Rb(d),Zf),this.qa=new Map,this.Qa=new Set,this.$a=new de(Et.comparator),this.Ka=new Map,this.Ua=new ly,this.Wa={},this.Ga=new Map,this.za=al.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function oV(r,t,n=!0){const s=mS(r);let o;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await uS(s,t,n,!0),o}async function lV(r,t){const n=mS(r);await uS(n,t,!0,!1)}async function uS(r,t,n,s){const o=await wO(r.localStore,Oi(t)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await uV(r,t,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&eS(r.remoteStore,o),d}async function uV(r,t,n,s,o){r.Ha=(E,w,x)=>async function(j,L,G,it){let J=L.view.Sa(G);J.ls&&(J=await rE(j.localStore,L.query,!1).then(({documents:O})=>L.view.Sa(O,J)));const dt=it&&it.targetChanges.get(L.targetId),lt=it&&it.targetMismatches.get(L.targetId)!=null,Tt=L.view.applyChanges(J,j.isPrimaryClient,dt,lt);return mE(j,L.targetId,Tt.Ma),Tt.snapshot}(r,E,w,x);const u=await rE(r.localStore,t,!0),f=new iV(t,u.gs),d=f.Sa(u.documents),p=Ic.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(d,r.isPrimaryClient,p);mE(r,n,g.Ma);const A=new rV(t,n,f);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),g.snapshot}async function cV(r,t,n){const s=xt(r),o=s.ka.get(t),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Zf(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Og(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&fy(s.remoteStore,o.targetId),Ng(s,o.targetId)}).catch(dl)):(Ng(s,o.targetId),await Og(s.localStore,o.targetId,!0))}async function hV(r,t){const n=xt(r),s=n.ka.get(t),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),fy(n.remoteStore,s.targetId))}async function fV(r,t,n){const s=_V(r);try{const o=await function(f,d){const p=xt(f),g=ke.now(),A=d.reduce((x,V)=>x.add(V.key),Ut());let E,w;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let V=_r(),j=Ut();return p.ds.getEntries(x,A).next(L=>{V=L,V.forEach((G,it)=>{it.isValidDocument()||(j=j.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,V)).next(L=>{E=L;const G=[];for(const it of d){const J=SM(it,E.get(it.key).overlayedDocument);J!=null&&G.push(new La(it.key,J,yb(J.value.mapValue),pr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,G,d)}).next(L=>{w=L;const G=L.applyToLocalDocumentSet(E,j);return p.documentOverlayCache.saveOverlays(x,L.batchId,G)})}).then(()=>({batchId:w.batchId,changes:Db(E)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),function(f,d,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new de(Bt)),g=g.insert(d,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await Oc(s,o.changes),await rd(s.remoteStore)}catch(o){const u=yy(o,"Failed to persist write");n.reject(u)}}async function cS(r,t){const n=xt(r);try{const s=await TO(n.localStore,t);t.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$t(f.Ba):o.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await Oc(n,s,t)}catch(s){await dl(s)}}function dE(r,t,n){const s=xt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const d=f.view.sa(t);d.snapshot&&o.push(d.snapshot)}),function(f,d){const p=xt(f);p.onlineState=d;let g=!1;p.queries.forEach((A,E)=>{for(const w of E.ta)w.sa(d)&&(g=!0)}),g&&vy(p)}(s.eventManager,t),o.length&&s.La.p_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function dV(r,t,n){const s=xt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Ka.get(t),u=o&&o.key;if(u){let f=new de(Et.comparator);f=f.insert(u,un.newNoDocument(u,Rt.min()));const d=Ut().add(u),p=new ed(Rt.min(),new Map,new de(Bt),f,d);await cS(s,p),s.$a=s.$a.remove(u),s.Ka.delete(t),Ay(s)}else await Og(s.localStore,t,!1).then(()=>Ng(s,t,n)).catch(dl)}async function mV(r,t){const n=xt(r),s=t.batch.batchId;try{const o=await EO(n.localStore,t);fS(n,s,null),hS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Oc(n,o)}catch(o){await dl(o)}}async function pV(r,t,n){const s=xt(r);try{const o=await function(f,d){const p=xt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let A;return p.mutationQueue.lookupMutationBatch(g,d).next(E=>($t(E!==null),A=E.keys(),p.mutationQueue.removeMutationBatch(g,E))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,A,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,A)).next(()=>p.localDocuments.getDocuments(g,A))})}(s.localStore,t);fS(s,t,n),hS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Oc(s,o)}catch(o){await dl(o)}}function hS(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function fS(r,t,n){const s=xt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Wa[s.currentUser.toKey()]=o}}function Ng(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||dS(r,s)})}function dS(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(fy(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Ay(r))}function mE(r,t,n){for(const s of n)s instanceof oS?(r.Ua.addReference(s.key,t),gV(r,s)):s instanceof lS?(ht(_y,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||dS(r,s.key)):wt()}function gV(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ht(_y,"New document in limbo: "+n),r.Qa.add(s),Ay(r))}function Ay(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new Et(oe.fromString(t)),s=r.za.next();r.Ka.set(s,new sV(n)),r.$a=r.$a.insert(n,s),eS(r.remoteStore,new ys(Oi(Sb(n.path)),s,"TargetPurposeLimboResolution",Wf.ae))}}async function Oc(r,t,n){const s=xt(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{f.push(s.Ha(p,t,n).then(g=>{var A;if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:(A=n==null?void 0:n.targetChanges.get(p.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=cy.Yi(p.targetId,g);u.push(E)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const A=xt(p);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>tt.forEach(g,w=>tt.forEach(w.Hi,x=>A.persistence.referenceDelegate.addReference(E,w.targetId,x)).next(()=>tt.forEach(w.Ji,x=>A.persistence.referenceDelegate.removeReference(E,w.targetId,x)))))}catch(E){if(!ml(E))throw E;ht(hy,"Failed to update sequence numbers: "+E)}for(const E of g){const w=E.targetId;if(!E.fromCache){const x=A.Ts.get(w),V=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(V);A.Ts=A.Ts.insert(w,j)}}}(s.localStore,u))}async function yV(r,t){const n=xt(r);if(!n.currentUser.isEqual(t)){ht(_y,"User change. New user:",t.toKey());const s=await Zb(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ft(et.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Oc(n,s.Rs)}}function vV(r,t){const n=xt(r),s=n.Ka.get(t);if(s&&s.Ba)return Ut().add(s.key);{let o=Ut();const u=n.qa.get(t);if(!u)return o;for(const f of u){const d=n.ka.get(f);o=o.unionWith(d.view.ba)}return o}}function mS(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=cS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vV.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=dV.bind(null,t),t.La.p_=tV.bind(null,t.eventManager),t.La.Ja=eV.bind(null,t.eventManager),t}function _V(r){const t=xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=mV.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pV.bind(null,t),t}class qf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=nd(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return AO(this.persistence,new yO,t.initialUser,this.serializer)}Xa(t){return new Xb(uy.ri,this.serializer)}Za(t){return new CO}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qf.provider={build:()=>new qf};class AV extends qf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof zf);const s=this.persistence.referenceDelegate.garbageCollector;return new nO(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?bn.withCacheSize(this.cacheSizeBytes):bn.DEFAULT;return new Xb(s=>zf.ri(s,n),this.serializer)}}class Ug{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=yV.bind(null,this.syncEngine),await YO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new ZO}()}createDatastore(t){const n=nd(t.databaseInfo.databaseId),s=function(u){return new OO(u)}(t.databaseInfo);return function(u,f,d,p){return new UO(u,f,d,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,o,u,f,d){return new kO(s,o,u,f,d)}(this.localStore,this.datastore,t.asyncQueue,n=>dE(this.syncEngine,n,0),function(){return oE.D()?new oE:new xO}())}createSyncEngine(t,n){return function(o,u,f,d,p,g,A){const E=new aV(o,u,f,d,p,g);return A&&(E.ja=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(o){const u=xt(o);ht(Oa,"RemoteStore shutting down."),u.W_.add(5),await Mc(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ug.provider={build:()=>new Ug};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class TV{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=ob.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(Ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(Ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=yy(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function Zp(r,t){r.asyncQueue.verifyOperationInProgress(),ht(Ds,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Zb(t.localStore,o),s=o)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function pE(r,t){r.asyncQueue.verifyOperationInProgress();const n=await bV(r);ht(Ds,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>uE(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>uE(t.remoteStore,o)),r._onlineComponents=t}async function bV(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(Ds,"Using user provided OfflineComponentProvider");try{await Zp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(o){return o.name==="FirebaseError"?o.code===et.FAILED_PRECONDITION||o.code===et.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;nl("Error using user provided cache. Falling back to memory cache: "+n),await Zp(r,new qf)}}else ht(Ds,"Using default OfflineComponentProvider"),await Zp(r,new AV(void 0));return r._offlineComponents}async function pS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(Ds,"Using user provided OnlineComponentProvider"),await pE(r,r._uninitializedComponentsProvider._online)):(ht(Ds,"Using default OnlineComponentProvider"),await pE(r,new Ug))),r._onlineComponents}function SV(r){return pS(r).then(t=>t.syncEngine)}async function wV(r){const t=await pS(r),n=t.eventManager;return n.onListen=oV.bind(null,t.syncEngine),n.onUnlisten=cV.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=lV.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hV.bind(null,t.syncEngine),n}function RV(r,t,n={}){const s=new Es;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,d,p,g){const A=new EV({next:w=>{A.su(),f.enqueueAndForget(()=>$O(u,E)),w.fromCache&&p.source==="server"?g.reject(new ft(et.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),E=new nV(d,A,{includeMetadataChanges:!0,Ta:!0});return JO(u,E)}(await wV(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r,t,n){if(!n)throw new ft(et.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CV(r,t,n,s){if(t===!0&&s===!0)throw new ft(et.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function yE(r){if(!Et.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vE(r){if(Et.isDocumentKey(r))throw new ft(et.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt()}function Ff(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(et.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=sd(r);throw new ft(et.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="firestore.googleapis.com",_E=!0;class AE{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(et.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=vS,this.ssl=_E}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:_E;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<tO)throw new ft(et.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gS((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(et.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ad{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(et.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(et.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new MI;switch(s.type){case"firstParty":return new NI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(et.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=gE.get(n);s&&(ht("ComponentProvider","Removing Datastore"),gE.delete(n),s.terminate())}(this),Promise.resolve()}}function xV(r,t,n,s={}){var o;const u=(r=Ff(r,ad))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),d=`${t}:${n}`;u.host!==vS&&u.host!==d&&nl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!If(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,A;if(typeof s.mockUserToken=="string")g=s.mockUserToken,A=ln.MOCK_USER;else{g=cD(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const E=s.mockUserToken.sub||s.mockUserToken.user_id;if(!E)throw new ft(et.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new ln(E)}r._authCredentials=new OI(new ab(g,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Is(this.firestore,t,this._query)}}class Zn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zn(this.firestore,t,this._key)}}class Ts extends Is{constructor(t,n,s){super(t,n,Sb(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zn(this.firestore,null,new Et(t))}withConverter(t){return new Ts(this.firestore,t,this._path)}}function Ey(r,t,...n){if(r=el(r),yS("collection","path",t),r instanceof ad){const s=oe.fromString(t,...n);return vE(s),new Ts(r,null,s)}{if(!(r instanceof Zn||r instanceof Ts))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return vE(s),new Ts(r.firestore,null,s)}}function DV(r,t,...n){if(r=el(r),arguments.length===1&&(t=ob.newId()),yS("doc","path",t),r instanceof ad){const s=oe.fromString(t,...n);return yE(s),new Zn(r,null,new Et(s))}{if(!(r instanceof Zn||r instanceof Ts))throw new ft(et.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(oe.fromString(t,...n));return yE(s),new Zn(r.firestore,r instanceof Ts?r.converter:null,new Et(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="AsyncQueue";class TE{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new $b(this,"async_queue_retry"),this.bu=()=>{const s=Xp();s&&ht(EE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=Xp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Xp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Es;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ml(t))throw t;ht(EE,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let d=f.message||"";return f.stack&&(d=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),d}(s);throw vr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const o=gy.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Ty extends ad{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new TE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new TE(t),this._firestoreClient=void 0,await t}}}function IV(r,t){const n=typeof r=="object"?r:AI(),s=typeof r=="string"?r:Pf,o=pI(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=lD("firestore");u&&xV(o,...u)}return o}function _S(r){if(r._terminated)throw new ft(et.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||MV(r),r._firestoreClient}function MV(r){var t,n,s;const o=r._freezeSettings(),u=function(d,p,g,A){return new YI(d,p,g,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,gS(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new TV(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ll(en.fromBase64String(t))}catch(n){throw new ft(et.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new ll(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(et.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(et.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(et.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV=/^__.*__$/;class VV{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new La(t,this.data,this.fieldMask,n,this.fieldTransforms):new Dc(t,this.data,n,this.fieldTransforms)}}function ES(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class Ry{constructor(t,n,s,o,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Ry(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.$u(t),o}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Qf(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(ES(this.Lu)&&OV.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class PV{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||nd(t)}ju(t,n,s,o=!1){return new Ry({Lu:t,methodName:n,zu:s,path:tn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TS(r){const t=r._freezeSettings(),n=nd(r._databaseId);return new PV(r._databaseId,!!t.ignoreUndefinedProperties,n)}function NV(r,t,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,o);wS("Data must be an object, but it was:",f,s);const d=bS(s,f);let p,g;if(u.merge)p=new oi(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const E of u.mergeFields){const w=LV(t,E,n);if(!f.contains(w))throw new ft(et.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);BV(A,w)||A.push(w)}p=new oi(A),g=f.fieldTransforms.filter(E=>p.covers(E.field))}else p=null,g=f.fieldTransforms;return new VV(new Xn(d),p,g)}function UV(r,t,n,s=!1){return Cy(n,r.ju(s?4:3,t))}function Cy(r,t){if(SS(r=el(r)))return wS("Unsupported field value:",t,r),bS(r,t);if(r instanceof AS)return function(s,o){if(!ES(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const d of s){let p=Cy(d,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,o){if((s=el(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return vM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=ke.fromDate(s);return{timestampValue:jf(o.serializer,u)}}if(s instanceof ke){const u=new ke(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jf(o.serializer,u)}}if(s instanceof Sy)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ll)return{bytesValue:Hb(o.serializer,s._byteString)};if(s instanceof Zn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:oy(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wy)return function(f,d){return{mapValue:{fields:{[pb]:{stringValue:gb},[Nf]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return ry(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${sd(s)}`)}(r,t)}function bS(r,t){const n={};return ub(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Na(r,(s,o)=>{const u=Cy(o,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function SS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ke||r instanceof Sy||r instanceof ll||r instanceof Zn||r instanceof AS||r instanceof wy)}function wS(r,t,n){if(!SS(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=sd(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function LV(r,t,n){if((t=el(t))instanceof by)return t._internalPath;if(typeof t=="string")return RS(r,t);throw Qf("Field path arguments must be of type string or ",r,!1,void 0,n)}const kV=new RegExp("[~\\*/\\[\\]]");function RS(r,t,n){if(t.search(kV)>=0)throw Qf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new by(...t.split("."))._internalPath}catch{throw Qf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Qf(r,t,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let d=`Function ${t}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ft(et.INVALID_ARGUMENT,d+r+p)}function BV(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new jV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(xy("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jV extends CS{data(){return super.data()}}function xy(r,t){return typeof t=="string"?RS(r,t):t instanceof by?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(et.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dy{}class Iy extends Dy{}function xS(r,t,...n){let s=[];t instanceof Dy&&s.push(t),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Oy).length,d=u.filter(p=>p instanceof My).length;if(f>1||f>0&&d>0)throw new ft(et.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class My extends Iy{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new My(t,n,s)}_apply(t){const n=this._parse(t);return MS(t._query,n),new Is(t.firestore,t.converter,Cg(t._query,n))}_parse(t){const n=TS(t.firestore);return function(u,f,d,p,g,A,E){let w;if(g.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ft(et.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){SE(E,A);const V=[];for(const j of E)V.push(bE(p,u,j));w={arrayValue:{values:V}}}else w=bE(p,u,E)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||SE(E,A),w=UV(d,f,E,A==="in"||A==="not-in");return De.create(g,A,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Oy extends Dy{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Oy(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ui.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(o,u){let f=o;const d=u.getFlattenedFilters();for(const p of d)MS(f,p),f=Cg(f,p)}(t._query,n),new Is(t.firestore,t.converter,Cg(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vy extends Iy{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Vy(t,n)}_apply(t){const n=function(o,u,f){if(o.startAt!==null)throw new ft(et.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ft(et.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gc(u,f)}(t._query,this._field,this._direction);return new Is(t.firestore,t.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new pl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,n))}}function DS(r,t="asc"){const n=t,s=xy("orderBy",r);return Vy._create(s,n)}class Py extends Iy{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Py(t,n,s)}_apply(t){return new Is(t.firestore,t.converter,Lf(t._query,this._limit,this._limitType))}}function IS(r){return Py._create("limit",r,"F")}function bE(r,t,n){if(typeof(n=el(n))=="string"){if(n==="")throw new ft(et.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wb(t)&&n.indexOf("/")!==-1)throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(oe.fromString(n));if(!Et.isDocumentKey(s))throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return BA(r,new Et(s))}if(n instanceof Zn)return BA(r,n._key);throw new ft(et.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sd(n)}.`)}function SE(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(et.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MS(r,t){const n=function(o,u){for(const f of o)for(const d of f.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(et.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class HV{convertValue(t,n="none"){switch(Cs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Rs(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Na(t,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,o;const u=(o=(s=(n=t.fields)===null||n===void 0?void 0:n[Nf].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>Te(f.doubleValue));return new wy(u)}convertGeoPoint(t){return new Sy(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Xf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(dc(t));default:return null}}convertTimestamp(t){const n=ws(t);return new ke(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=oe.fromString(t);$t(Wb(s));const o=new mc(s.get(1),s.get(3)),u=new Et(s.popFirst(5));return o.isEqual(n)||vr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class FV extends CS{constructor(t,n,s,o,u,f){super(t,n,s,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Sf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(xy("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Sf extends FV{data(t={}){return super.data(t)}}class QV{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new ff(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Sf(this._firestore,this._userDataWriter,s.key,s,new ff(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(et.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(d=>{const p=new Sf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ff(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Sf(o._firestore,o._userDataWriter,d.doc.key,d.doc,new ff(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,A=-1;return d.type!==0&&(g=f.indexOf(d.doc.key),f=f.delete(d.doc.key)),d.type!==1&&(f=f.add(d.doc),A=f.indexOf(d.doc.key)),{type:KV(d.type),doc:p,oldIndex:g,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function KV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class GV extends HV{constructor(t){super(),this.firestore=t}convertBytes(t){return new ll(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Zn(this.firestore,null,n)}}function OS(r){r=Ff(r,Is);const t=Ff(r.firestore,Ty),n=_S(t),s=new GV(t);return zV(r._query),RV(n,r._query).then(o=>new QV(t,s,r,o))}function WV(r,t){const n=Ff(r.firestore,Ty),s=DV(r),o=qV(r.converter,t);return YV(n,[NV(TS(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,pr.exists(!1))]).then(()=>s)}function YV(r,t){return function(s,o){const u=new Es;return s.asyncQueue.enqueueAndForget(async()=>fV(await SV(s),o,u)),u.promise}(_S(r),t)}(function(t,n=!0){(function(o){fl=o})(_I),Of(new cc("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),d=new Ty(new VI(s.getProvider("auth-internal")),new UI(f,s.getProvider("app-check-internal")),function(g,A){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ft(et.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mc(g.options.projectId,A)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),ko(xA,DA,t),ko(xA,DA,"esm2017")})();var XV="firebase",ZV="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ko(XV,ZV,"app");const JV={apiKey:"AIzaSyCZE6BZ-fwmrpRpDB2PzcXyZVHzO2Bzkxs",authDomain:"bust-a-move.firebaseapp.com",projectId:"bust-a-move",storageBucket:"bust-a-move.firebasestorage.app",messagingSenderId:"959038606401",appId:"1:959038606401:web:23de2ae7af17bc0e704ac0"},$V=ZT(JV),Ny=IV($V);function VS(){return new Promise((r,t)=>{const n=[],s=xS(Ey(Ny,"users"),DS("score","desc"),IS(10));OS(s).then(o=>{o.forEach(u=>{n.push(u.data())}),r(n)}).catch(o=>{t(o)})})}function PS(){return new Promise((r,t)=>{const n=[],s=xS(Ey(Ny,"users"),DS("round","desc"),IS(10));OS(s).then(o=>{o.forEach(u=>{n.push(u.data())}),r(n)}).catch(o=>{t(o)})})}function tP(r){return WV(Ey(Ny,"users"),{name:r.name,score:r.score,round:r.round})}var ha={},Je={},he={},wE;function Ms(){if(wE)return he;wE=1,Object.defineProperty(he,"__esModule",{value:!0}),he.getAndAssertSingleCodePoint=he.invertCaseOfAlphabeticChar=he.isUpperCase=he.isLowerCase=he.isAlphabetic=he.isDigit=he.isWordChar=he.convertSurrogatePairToCodePoint=he.isLowSurrogate=he.isHighSurrogate=void 0;function r(A){return 55296<=A&&A<=56319}he.isHighSurrogate=r;function t(A){return 56320<=A&&A<=57343}he.isLowSurrogate=t;function n(A,E){return(A-55296)*1024+E-56320+65536}he.convertSurrogatePairToCodePoint=n;function s(A){return o(A)||u(A)}he.isWordChar=s;function o(A){return 48<=A&&A<=57}he.isDigit=o;function u(A){return f(A)||d(A)}he.isAlphabetic=u;function f(A){return 97<=A&&A<=122}he.isLowerCase=f;function d(A){return 65<=A&&A<=90}he.isUpperCase=d;function p(A){return A^32}he.invertCaseOfAlphabeticChar=p;function g(A){if([...A].length!==1)throw new RangeError("Expected the input string to be one code point in length.");return A.codePointAt(0)}return he.getAndAssertSingleCodePoint=g,he}var RE;function NS(){if(RE)return Je;RE=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.randomCharFromSetCensorStrategy=Je.fixedCharCensorStrategy=Je.fixedPhraseCensorStrategy=Je.grawlixCensorStrategy=Je.asteriskCensorStrategy=Je.keepEndCensorStrategy=Je.keepStartCensorStrategy=void 0;const r=Ms();function t(p){return g=>g.overlapsAtStart?p(g):String.fromCodePoint(g.input.codePointAt(g.startIndex))+p({...g,matchLength:g.matchLength-1})}Je.keepStartCensorStrategy=t;function n(p){return g=>{if(g.overlapsAtEnd)return p(g);const A=String.fromCodePoint(g.input.codePointAt(g.endIndex));return p({...g,matchLength:g.matchLength-1})+A}}Je.keepEndCensorStrategy=n;function s(){return f("*")}Je.asteriskCensorStrategy=s;function o(){return d("%@$&*")}Je.grawlixCensorStrategy=o;function u(p){return()=>p}Je.fixedPhraseCensorStrategy=u;function f(p){return(0,r.getAndAssertSingleCodePoint)(p),g=>p.repeat(g.matchLength)}Je.fixedCharCensorStrategy=f;function d(p){const g=[...p];if(g.length<2)throw new Error("The character set passed must have at least 2 characters.");return A=>{if(A.matchLength===0)return"";let E=Math.floor(Math.random()*g.length),w=g[E];for(let x=1;x<A.matchLength;x++){let V=Math.floor(Math.random()*(g.length-1));V>=E&&V++,E=V,w+=g[V]}return w}}return Je.randomCharFromSetCensorStrategy=d,Je}var Iu={},Mu={},Ou={},CE;function eP(){if(CE)return Ou;CE=1,Object.defineProperty(Ou,"__esModule",{value:!0}),Ou.compareIntervals=void 0;function r(t,n,s,o){return t<s?-1:s<t?1:n<o?-1:o<n?1:0}return Ou.compareIntervals=r,Ou}var xE;function Uy(){if(xE)return Mu;xE=1,Object.defineProperty(Mu,"__esModule",{value:!0}),Mu.compareMatchByPositionAndId=void 0;const r=eP();function t(n,s){const o=(0,r.compareIntervals)(n.startIndex,n.endIndex,s.startIndex,s.endIndex);return o!==0?o:n.termId===s.termId?0:n.termId<s.termId?-1:1}return Mu.compareMatchByPositionAndId=t,Mu}var DE;function nP(){if(DE)return Iu;DE=1,Object.defineProperty(Iu,"__esModule",{value:!0}),Iu.TextCensor=void 0;const r=Uy(),t=NS();let n=class{constructor(){this.strategy=(0,t.grawlixCensorStrategy)()}setStrategy(o){return this.strategy=o,this}applyTo(o,u){if(u.length===0)return o;const f=[...u].sort(r.compareMatchByPositionAndId);let d="",p=0;for(let g=0;g<f.length;g++){const A=f[g];if(p>A.endIndex)continue;const E=A.startIndex<p;E||(d+=o.slice(p,A.startIndex));const w=Math.max(p,A.startIndex),x=g<f.length-1&&A.endIndex>=f[g+1].startIndex&&A.endIndex<f[g+1].endIndex;d+=this.strategy({...A,startIndex:w,input:o,overlapsAtStart:E,overlapsAtEnd:x}),p=A.endIndex+1}return d+=o.slice(p),d}};return Iu.TextCensor=n,Iu}var fa={},Vu={},IE;function US(){if(IE)return Vu;IE=1,Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.assignIncrementingIds=void 0;function r(t){let n=0;return t.map(s=>({id:n++,pattern:s}))}return Vu.assignIncrementingIds=r,Vu}var ME;function LS(){if(ME)return fa;ME=1,Object.defineProperty(fa,"__esModule",{value:!0}),fa.PhraseBuilder=fa.DataSet=void 0;const r=US();let t=class{constructor(){this.containers=[],this.patternCount=0,this.patternIdToPhraseContainer=new Map}addAll(o){for(const u of o.containers)this.registerContainer(u);return this}removePhrasesIf(o){this.patternCount=0,this.patternIdToPhraseContainer.clear();const u=this.containers.splice(0);for(const f of u)o(f)||this.registerContainer(f);return this}addPhrase(o){const u=o(new n).build();return this.registerContainer(u),this}getPayloadWithPhraseMetadata(o){const u=this.patternIdToPhraseContainer.get(o.termId);if(u===void 0)throw new Error(`The pattern with ID ${o.termId} does not exist in this dataset.`);return{...o,phraseMetadata:this.containers[u].metadata}}build(){return{blacklistedTerms:(0,r.assignIncrementingIds)(this.containers.flatMap(o=>o.patterns)),whitelistedTerms:this.containers.flatMap(o=>o.whitelistedTerms)}}registerContainer(o){const u=this.containers.push(o)-1;for(let f=0,d=this.patternCount;f<o.patterns.length;f++,d++)this.patternIdToPhraseContainer.set(d,u),this.patternCount++}};fa.DataSet=t;class n{constructor(){this.patterns=[],this.whitelistedTerms=[]}addPattern(o){return this.patterns.push(o),this}addWhitelistedTerm(o){return this.whitelistedTerms.push(o),this}setMetadata(o){return this.metadata=o,this}build(){return{patterns:this.patterns,whitelistedTerms:this.whitelistedTerms,metadata:this.metadata}}}return fa.PhraseBuilder=n,fa}var Pu={},ur={},Nu={},OE;function Ly(){if(OE)return Nu;OE=1,Object.defineProperty(Nu,"__esModule",{value:!0}),Nu.SyntaxKind=void 0;var r;return function(t){t[t.Optional=0]="Optional",t[t.Wildcard=1]="Wildcard",t[t.Literal=2]="Literal",t[t.BoundaryAssertion=3]="BoundaryAssertion"}(r||(Nu.SyntaxKind=r={})),Nu}var VE;function iP(){if(VE)return ur;VE=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.getRegExpStringForNode=ur.compilePatternToRegExp=ur.potentiallyMatchesEmptyString=void 0;const r=Ly();function t(u){return u.nodes.every(f=>f.kind===r.SyntaxKind.Optional)}ur.potentiallyMatchesEmptyString=t;function n(u){let f="";u.requireWordBoundaryAtStart&&(f+="\\b");for(const d of u.nodes)f+=o(d);return u.requireWordBoundaryAtEnd&&(f+="\\b"),new RegExp(f,"gs")}ur.compilePatternToRegExp=n;const s=["[",".","*","+","?","^","$","{","}","(",")","|","[","\\","]"].map(u=>u.charCodeAt(0));function o(u){switch(u.kind){case r.SyntaxKind.Literal:{let f="";for(const d of u.chars)s.includes(d)&&(f+="\\"),f+=String.fromCodePoint(d);return f}case r.SyntaxKind.Optional:return`(?:${o(u.childNode)})?`;case r.SyntaxKind.Wildcard:return"."}}return ur.getRegExpStringForNode=o,ur}var Uu={},PE;function rP(){if(PE)return Uu;PE=1,Object.defineProperty(Uu,"__esModule",{value:!0}),Uu.TransformerSet=void 0;let r=class{constructor(n){this.transformers=n,this.statefulTransformers=Array.from({length:this.transformers.length});for(let s=0;s<this.transformers.length;s++){const o=this.transformers[s];o.type===1&&(this.statefulTransformers[s]=o.factory())}}applyTo(n){let s=n;for(let o=0;o<this.transformers.length&&s!==void 0;o++){const u=this.transformers[o];u.type===0?s=u.transform(s):s=this.statefulTransformers[o].transform(s)}return s}resetAll(){for(let n=0;n<this.transformers.length;n++)this.transformers[n].type===1&&this.statefulTransformers[n].reset()}};return Uu.TransformerSet=r,Uu}var Lu={},NE;function ky(){if(NE)return Lu;NE=1,Object.defineProperty(Lu,"__esModule",{value:!0}),Lu.CharacterIterator=void 0;const r=Ms();let t=class{constructor(s){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0,this._input=s??""}get input(){return this._input}setInput(s){return this._input=s,this.reset(),this}reset(){this.lastPosition=-1,this.currentPosition=0,this._lastWidth=0}next(){if(this.done)return{done:!0,value:void 0};this.lastPosition=this.currentPosition;const s=this._input.charCodeAt(this.currentPosition++);if(this._lastWidth=1,this.done||!(0,r.isHighSurrogate)(s))return{done:!1,value:s};const o=this._input.charCodeAt(this.currentPosition);return(0,r.isLowSurrogate)(o)?(this._lastWidth++,this.currentPosition++,{done:!1,value:(0,r.convertSurrogatePairToCodePoint)(s,o)}):{done:!1,value:s}}get position(){return this.lastPosition}get lastWidth(){return this._lastWidth}get done(){return this.currentPosition>=this._input.length}[Symbol.iterator](){return this}};return Lu.CharacterIterator=t,Lu}var ku={},UE;function sP(){if(UE)return ku;UE=1,Object.defineProperty(ku,"__esModule",{value:!0}),ku.IntervalCollection=void 0;let r=class{constructor(){this.dirty=!1,this.intervals=[]}insert(n,s){this.intervals.push([n,s]),this.dirty=!0}query(n,s){if(this.intervals.length===0)return!1;this.dirty&&(this.dirty=!1,this.intervals.sort((o,u)=>o[0]<u[0]?-1:u[0]<o[0]?1:0));for(const o of this.intervals){if(o[0]>n)break;if(o[0]<=n&&s<=o[1])return!0}return!1}values(){return this.intervals.values()}[Symbol.iterator](){return this.values()}};return ku.IntervalCollection=r,ku}var LE;function aP(){if(LE)return Pu;LE=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.RegExpMatcher=void 0;const r=Ms(),t=iP(),n=rP(),s=ky(),o=sP(),u=Uy();class f{constructor({blacklistedTerms:p,whitelistedTerms:g=[],blacklistMatcherTransformers:A=[],whitelistMatcherTransformers:E=[]}){this.blacklistedTerms=this.compileTerms(p),this.validateWhitelistedTerms(g),this.whitelistedTerms=g,this.blacklistMatcherTransformers=new n.TransformerSet(A),this.whitelistMatcherTransformers=new n.TransformerSet(E)}getAllMatches(p,g=!1){const A=this.getWhitelistedIntervals(p),[E,w]=this.applyTransformers(p,this.blacklistMatcherTransformers),x=[];for(const V of this.blacklistedTerms)for(const j of w.matchAll(V.regExp)){const L=E[j.index];let G=E[j.index+j[0].length-1];G<p.length-1&&(0,r.isHighSurrogate)(p.charCodeAt(G))&&(0,r.isLowSurrogate)(p.charCodeAt(G+1))&&G++,A.query(L,G)||x.push({termId:V.id,startIndex:L,endIndex:G,matchLength:[...j[0]].length})}return g&&x.sort(u.compareMatchByPositionAndId),x}hasMatch(p){const g=this.getWhitelistedIntervals(p),[A,E]=this.applyTransformers(p,this.blacklistMatcherTransformers);for(const w of this.blacklistedTerms)for(const x of E.matchAll(w.regExp)){const V=A[x.index];let j=A[x.index+x[0].length-1];if(j<p.length-1&&(0,r.isHighSurrogate)(p.charCodeAt(j))&&(0,r.isLowSurrogate)(p.charCodeAt(j+1))&&j++,!g.query(V,j))return!0}return!1}getWhitelistedIntervals(p){const g=new o.IntervalCollection,[A,E]=this.applyTransformers(p,this.whitelistMatcherTransformers);for(const w of this.whitelistedTerms){let x=0;for(let V=E.indexOf(w,x);V!==-1;V=E.indexOf(w,x)){let j=A[V+w.length-1];j<p.length-1&&(0,r.isHighSurrogate)(p.charCodeAt(j))&&(0,r.isLowSurrogate)(p.charCodeAt(j+1))&&j++,g.insert(A[V],j),x=V+w.length}}return g}applyTransformers(p,g){const A=[];let E="";const w=new s.CharacterIterator(p);for(const x of w){const V=g.applyTo(x);if(V!==void 0)for(E+=String.fromCodePoint(V);A.length<E.length;)A.push(w.position)}return g.resetAll(),[A,E]}compileTerms(p){const g=[],A=new Set;for(const E of p){if(A.has(E.id))throw new Error(`Duplicate blacklisted term ID ${E.id}.`);if((0,t.potentiallyMatchesEmptyString)(E.pattern))throw new Error(`Pattern with ID ${E.id} potentially matches empty string; this is unsupported.`);g.push({id:E.id,regExp:(0,t.compilePatternToRegExp)(E.pattern)}),A.add(E.id)}return g}validateWhitelistedTerms(p){if(p.some(g=>g.length===0))throw new Error("Whitelisted term set contains empty string; this is unsupported.")}}return Pu.RegExpMatcher=f,Pu}var Jp={},kE;function oP(){return kE||(kE=1,Object.defineProperty(Jp,"__esModule",{value:!0})),Jp}var Bu={},BE;function kS(){if(BE)return Bu;BE=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.ParserError=void 0;let r=class extends Error{constructor(n,s,o){super(`${s}:${o}: ${n}`),this.name="ParserError",this.line=s,this.column=o}};return Bu.ParserError=r,Bu}var da={},ju={},jE;function lP(){if(jE)return ju;jE=1,Object.defineProperty(ju,"__esModule",{value:!0}),ju.Parser=void 0;const r=Ms(),t=ky(),n=Ly(),s=kS(),o=[92,91,93,63,124],u=o.map(p=>`'${String.fromCodePoint(p)}'`).join(", "),f=-1;let d=class{constructor(){this.input="",this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0}parse(g){this.setInput(g);const A=[],E=this.nextNode(),w=(E==null?void 0:E.kind)===n.SyntaxKind.BoundaryAssertion;E&&!w&&A.push(E);let x=!1;for(;!this.done;){const V=this.mark(),j=this.nextNode();if(j.kind!==n.SyntaxKind.BoundaryAssertion){A.push(j);continue}this.done||this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",V),x=!0}return{requireWordBoundaryAtStart:w,requireWordBoundaryAtEnd:x,nodes:A}}setInput(g){return this.input=g,this.line=1,this.column=1,this.position=0,this.lastColumn=1,this.lastWidth=0,this}nextNode(){switch(this.peek()){case f:return;case 91:return this.parseOptional();case 93:this.reportError("Unexpected ']' with no corresponding '['.");case 63:return this.parseWildcard();case 124:return this.parseBoundaryAssertion();default:return this.parseLiteral()}}get done(){return this.position>=this.input.length}parseOptional(){const g=this.mark();this.next();const A=this.mark();this.done&&this.reportError("Unexpected unclosed '['.",g),this.accept("[")&&this.reportError("Unexpected nested optional node.",A);const E=this.nextNode();return E.kind===n.SyntaxKind.BoundaryAssertion&&this.reportError("Boundary assertions are not supported in this position; they are only allowed at the start / end of the pattern.",A),this.accept("]")||this.reportError("Unexpected unclosed '['."),{kind:n.SyntaxKind.Optional,childNode:E}}parseWildcard(){return this.next(),{kind:n.SyntaxKind.Wildcard}}parseBoundaryAssertion(){return this.next(),{kind:n.SyntaxKind.BoundaryAssertion}}parseLiteral(){const g=[];for(;!this.done;){if(this.accept("[]?|")){this.backup();break}const A=this.next();if(A===92){this.done&&(this.backup(),this.reportError("Unexpected trailing backslash."));const E=this.next();if(!o.includes(E)){const w=String.fromCodePoint(E);this.backup(),this.reportError(`Cannot escape character '${w}'; the only characters that can be escaped are the following: ${u}.`)}g.push(E)}else g.push(A)}return{kind:n.SyntaxKind.Literal,chars:g}}reportError(g,{line:A=this.line,column:E=this.column}={}){throw new s.ParserError(g,A,E)}mark(){return{line:this.line,column:this.column}}accept(g){const A=this.next(),E=new t.CharacterIterator(g);for(const w of E)if(w===A)return!0;return this.backup(),!1}peek(){const g=this.next();return this.backup(),g}next(){if(this.done)return f;const g=this.input.charCodeAt(this.position++);if(this.lastWidth=1,g===10)return this.lastColumn=this.column,this.column=1,this.line++,g;if(this.lastColumn=this.column++,!(0,r.isHighSurrogate)(g)||this.done)return g;const A=this.input.charCodeAt(this.position);return(0,r.isLowSurrogate)(A)?(this.position++,this.lastWidth++,(0,r.convertSurrogatePairToCodePoint)(g,A)):g}backup(){this.position-=this.lastWidth,this.column=this.lastColumn,this.lastWidth===1&&this.input.charCodeAt(this.position)===10&&this.line--}};return ju.Parser=d,ju}var zE;function BS(){if(zE)return da;zE=1,Object.defineProperty(da,"__esModule",{value:!0}),da.parseRawPattern=da.pattern=void 0;const r=lP(),t=new r.Parser;function n(o,...u){let f=o.raw[0];for(const[d,p]of u.entries())f+=p,f+=o.raw[d+1];return t.parse(f)}da.pattern=n;function s(o){return t.parse(o)}return da.parseRawPattern=s,da}var $p={},zu={},ma={},HE;function od(){if(HE)return ma;HE=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.createStatefulTransformer=ma.createSimpleTransformer=void 0;function r(n){return{type:0,transform:n}}ma.createSimpleTransformer=r;function t(n){return{type:1,factory:n}}return ma.createStatefulTransformer=t,ma}var Hu={},qE;function uP(){if(qE)return Hu;qE=1,Object.defineProperty(Hu,"__esModule",{value:!0}),Hu.CollapseDuplicatesTransformer=void 0;class r{constructor({defaultThreshold:n,customThresholds:s}){this.remaining=-1,this.lastChar=-1,this.defaultThreshold=n,this.customThresholds=s}transform(n){if(n===this.lastChar)return this.remaining-- >0?n:void 0;const s=this.customThresholds.get(n)??this.defaultThreshold;return this.remaining=s-1,this.lastChar=n,s>0?n:void 0}reset(){this.remaining=-1,this.lastChar=-1}}return Hu.CollapseDuplicatesTransformer=r,Hu}var FE;function jS(){if(FE)return zu;FE=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.collapseDuplicatesTransformer=void 0;const r=Ms(),t=od(),n=uP();function s({defaultThreshold:u=1,customThresholds:f=new Map}={}){const d=o(f);return(0,t.createStatefulTransformer)(()=>new n.CollapseDuplicatesTransformer({defaultThreshold:u,customThresholds:d}))}zu.collapseDuplicatesTransformer=s;function o(u){const f=new Map;for(const[d,p]of u){if(p<0)throw new RangeError("Expected all thresholds to be non-negative.");const g=(0,r.getAndAssertSingleCodePoint)(d);f.set(g,p)}return f}return zu}var qu={},Fu={},QE;function By(){if(QE)return Fu;QE=1,Object.defineProperty(Fu,"__esModule",{value:!0}),Fu.remapCharactersTransformer=void 0;const r=Ms(),t=ky(),n=od();function s(u){const f=o(u);return(0,n.createSimpleTransformer)(d=>f.get(d)??d)}Fu.remapCharactersTransformer=s;function o(u){const f=new Map,d=u instanceof Map?u.entries():Object.entries(u);for(const[p,g]of d){const A=(0,r.getAndAssertSingleCodePoint)(p),E=new t.CharacterIterator(g);for(const w of E)f.set(w,A)}return f}return Fu}var Qu={},KE;function cP(){return KE||(KE=1,Object.defineProperty(Qu,"__esModule",{value:!0}),Qu.confusables=void 0,Qu.confusables=new Map([[" "," "],["0","⓿"],["1","⓵➊⑴¹𝟏𝟙１𝟷𝟣⒈𝟭1➀₁①❶⥠"],["2","⓶⒉⑵➋ƻ²ᒿ𝟚２𝟮𝟤ᒾ𝟸Ƨ𝟐②ᴤ₂➁❷ᘝƨ"],["3","³ⳌꞫ𝟑ℨ𝟛𝟯𝟥Ꝫ➌ЗȜ⓷ӠƷ３𝟹⑶⒊ʒʓǯǮƺ𝕴ᶾзᦡ➂③₃ᶚᴣᴟ❸ҘҙӬӡӭӟӞ"],["4","➍ҶᏎ𝟜ҷ⓸ҸҹӴӵᶣ４чㄩ⁴➃₄④❹Ӌ⑷⒋"],["5","𝟱⓹➎Ƽ𝟓𝟻𝟝𝟧５➄₅⑤⁵❺ƽ⑸⒌"],["6","ⳒᏮ𝟞𝟨𝟔➏⓺Ϭϭ⁶б６ᧈ⑥➅₆❻⑹⒍"],["7","⓻𐓒➐７⁷⑦₇❼➆⑺⒎"],["8","𐌚➑⓼８𝟠𝟪৪⁸₈𝟴➇⑧❽𝟾𝟖⑻⒏"],["9","ꝮⳊ⓽➒੧৭୨９𝟫𝟿𝟗⁹₉Գ➈⑨❾⑼⒐"],["A","🄰Ꭿ𐊠𝕬𝜜𝐴ꓮᎪ𝚨ꭺ𝝖🅐Å∀🇦₳🅰𝒜𝘈𝐀𝔸дǺᗅⒶＡΑᾋᗩĂÃÅǍȀȂĀȺĄʌΛλƛᴀᴬДАልÄₐᕱªǞӒΆẠẢẦẨẬẮẰẲẴẶᾸᾹᾺΆᾼᾈᾉᾊᾌᾍᾎᾏἈἉἊἋἌἍἎἏḀȦǠӐÀÁÂẤẪ𝛢𝓐𝙰𝘼"],["a","∂⍺ⓐձǟᵃᶏ⒜аɒａαȃȁคǎმäɑāɐąᾄẚạảǡầẵḁȧӑӓãåάὰάăẩằẳặᾀᾁᾂᾃᾅᾆᾰᾱᾲᾳᾴᶐᾶᾷἀἁἂἃἄἅἆἇᾇậắàáâấẫǻⱥ𝐚𝑎𝒂𝒶𝓪𝔞𝕒𝖆𝖺𝗮𝘢𝙖𝚊𝛂𝛼𝜶𝝰𝞪⍶"],["B","𐌁𝑩𝕭🄱𐊡𝖡𝘽ꓐ𝗕𝘉𝜝𐊂𝚩𝐁𝛣𝝗𝐵𝙱𝔹Ᏼᏼ𝞑Ꞵ𝔅🅑฿𝓑ᗿᗾᗽ🅱ⒷＢвϐᗷƁ乃ßცჩ๖βɮБՅ๒ᙖʙᴮᵇጌḄℬΒВẞḂḆɃദᗹᗸᵝᙞᙟᙝᛒᙗᙘᴃ🇧"],["b","Ꮟ𝐛𝘣𝒷𝔟𝓫𝖇𝖻𝑏𝙗𝕓𝒃𝗯𝚋♭ᑳᒈｂᖚᕹᕺⓑḃḅҍъḇƃɓƅᖯƄЬᑲþƂ⒝ЪᶀᑿᒀᒂᒁᑾьƀҌѢѣᔎ"],["C","ᏟⲤ🄲ꓚ𐊢𐌂🅲𐐕🅒☾ČÇⒸＣↃƇᑕㄈ¢८↻ĈϾՇȻᙅᶜ⒞ĆҀĊ©टƆℂℭϹС匚ḈҪʗᑖᑡᑢᑣᑤᑥⅭ𝐂𝐶𝑪𝒞𝓒𝕮𝖢𝗖𝘊𝘾ᔍ"],["c","ⲥ𐐽ꮯĉｃⓒćčċçҁƈḉȼↄсርᴄϲҫ꒝ςɽϛ𝙲ᑦ᧚𝐜𝑐𝒄𝒸𝓬𝔠𝕔𝖈𝖼𝗰𝘤𝙘𝚌₵🇨ᥴᒼⅽ"],["D","Ꭰ🄳𝔡𝖉𝔻𝗗𝘋𝙳𝐷𝓓𝐃𝑫𝕯𝖣𝔇𝘿ꭰⅅ𝒟ꓓ🅳🅓ⒹＤƉᗪƊÐԺᴅᴰↁḊĐÞⅮᗞᑯĎḌḐḒḎᗫᗬᗟᗠᶛᴆ🇩"],["d","Ꮷꓒ𝓭ᵭ₫ԃⓓｄḋďḍḑḓḏđƌɖɗᵈ⒟ԁⅾᶁԀᑺᑻᑼᑽᒄᑰᑱᶑ𝕕𝖽𝑑𝘥𝒅𝙙𝐝𝗱𝚍ⅆ𝒹ʠժ"],["E","ꭼ🄴𝙀𝔼𐊆𝚬ꓰ𝝚𝞔𝓔𝑬𝗘🅴🅔ⒺΈＥƎἝᕮƐモЄᴇᴱᵉÉ乇ЁɆꂅ€ÈℰΕЕⴹᎬĒĔĖĘĚÊËԐỀẾỄỂẼḔḖẺȄȆẸỆȨḜḘḚἘἙἚἛἜῈΈӖὲέЀϵ🇪"],["e","𝑒𝓮𝕖𝖊𝘦𝗲𝚎𝙚𝒆𝔢𝖾𝐞Ҿҿⓔｅ⒠èᧉéᶒêɘἔềếễ૯ǝєεēҽɛểẽḕḗĕėëẻěȅȇẹệȩɇₑęḝḙḛ℮еԑѐӗᥱёἐἑἒἓἕℯ"],["F","🄵𐊇𝔉𝘍𐊥ꓝꞘ🅵🅕𝓕ⒻＦғҒᖴƑԲϝቻḞℱϜ₣🇫Ⅎ"],["f","𝐟𝖋ⓕｆƒḟʃբᶠ⒡ſꊰʄ∱ᶂ𝘧"],["G","ꓖᏳ🄶Ꮐᏻ𝔾𝓖𝑮𝕲ꮐ𝒢𝙂𝖦𝙶𝔊𝐺𝐆🅶🅖ⒼＧɢƓʛĢᘜᴳǴĠԌĜḠĞǦǤԍ₲🇬⅁"],["g","ⓖｇǵĝḡğġǧģց૭ǥɠﻭﻮᵍ⒢ℊɡᧁ𝐠𝑔𝒈𝓰𝔤𝕘𝖌𝗀𝗴𝘨𝙜𝚐"],["H","🄷𝜢ꓧ𝘏𝐻𝝜𝖧𐋏𝗛ꮋℍᎻℌⲎ𝑯𝞖🅷🅗ዞǶԋⒽＨĤᚺḢḦȞḤḨḪĦⱧҢңҤῊΉῌἨἩἪἫἭἮἯᾘᾙᾚᾛᾜᾝᾞᾟӉӈҥΉн卄♓𝓗ℋН𝐇𝙃𝙷ʜ𝛨Η𝚮ᕼӇᴴᵸ🇭"],["h","Һ⒣ђⓗｈĥḣḧȟḥḩḫẖħⱨհһከኩኪካɦℎ𝐡𝒉𝒽𝓱𝔥𝕙𝖍𝗁𝗵𝘩𝙝𝚑իʰᑋᗁɧんɥ"],["I","🄸ЇꀤᏆ🅸🅘إﺇٳأﺃٲٵⒾＩ៸ÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗェエῘῙῚΊἸἹἺἻἼἽἾⅠΪΊɪᶦᑊᥣ𝛪𝐈𝙄𝙸𝓵𝙡𝐼ᴵ𝚰𝑰🇮"],["i","ⓘｉìíîĩīĭïḯỉǐȉȋịḭῐῑῒΐῖῗἰἱἲⅰⅼ∣ⵏ￨׀ا١۱ߊᛁἳἴἵɨіὶίᶖ𝔦𝚒𝝸𝗂𝐢𝕚𝖎𝗶𝘪𝙞ίⁱᵢ𝓲⒤"],["J","🄹🅹🅙ⒿＪЈʝᒍנﾌĴʆวلյʖᴊᴶﻝጋɈⱼՂๅႱįᎫȷ丿ℐℑᒘᒙᒚᒛᒴᒵᒎᒏ🇯"],["j","ⓙｊϳʲ⒥ɉĵǰјڶᶨ𝒿𝘫𝗷𝑗𝙟𝔧𝒋𝗃𝓳𝕛𝚓𝖏𝐣"],["K","𝗞🄺𝜥𝘒ꓗ𝙆𝕂Ⲕ𝔎𝛫Ꮶ𝞙𝒦🅺🅚₭ⓀＫĸḰќƘкҠκқҟӄʞҚКҡᴋᴷᵏ⒦ᛕЌጕḲΚKҜҝҞĶḴǨⱩϗӃ🇰"],["k","ⓚｋḱǩḳķḵƙⱪᶄ𝐤𝘬𝗄𝕜𝜅𝜘𝜿𝝒𝝹𝞌𝞳𝙠𝚔𝑘𝒌ϰ𝛋𝛞𝟆𝗸𝓴𝓀"],["L","🄻𐐛Ⳑ𝑳𝙻𐑃𝓛ⳑꮮᏞꓡ🅻🅛ﺈ└ⓁւＬĿᒪ乚ՆʟꓶιԼᴸˡĹረḶₗΓլĻᄂⅬℒⱢᥧᥨᒻᒶᒷᶫﺎᒺᒹᒸᒫ⎳ㄥŁⱠﺄȽ🇱"],["l","ⓛｌŀĺľḷḹļӀℓḽḻłﾚɭƚɫⱡ|Ɩ⒧ʅǀוןΙІ｜ᶩӏ𝓘𝕀𝖨𝗜𝘐𝐥𝑙𝒍𝓁𝔩𝕝𝖑𝗅𝗹𝘭𝚕𝜤𝝞ı𝚤ɩι𝛊𝜄𝜾𝞲"],["M","🄼𐌑𐊰ꓟⲘᎷ🅼🅜ⓂＭмṂ൱ᗰ州ᘻო๓♏ʍᙏᴍᴹᵐ⒨ḾМṀ௱ⅯℳΜϺᛖӍӎ𝐌𝑀𝑴𝓜𝔐𝕄𝕸𝖬𝗠𝘔𝙈𝙼𝚳𝛭𝜧𝝡𝞛🇲"],["m","₥ᵯ𝖒𝐦𝗆𝔪𝕞𝓂ⓜｍനᙢ൩ḿṁⅿϻṃጠɱ៳ᶆ𝙢𝓶𝚖𝑚𝗺᧕᧗"],["N","🄽ℕꓠ𝛮𝝢𝙽𝚴𝑵𝑁Ⲛ𝐍𝒩𝞜𝗡𝘕𝜨𝓝𝖭🅽₦🅝ЙЍⓃҋ៷ＮᴎɴƝᑎ几иՈռИהЛπᴺᶰŃ刀ክṄⁿÑПΝᴨոϖǸŇṆŅṊṈทŊӢӣӤӥћѝйᥢҊᴻ🇳"],["n","ח𝒏𝓷𝙣𝑛𝖓𝔫𝗇𝚗𝗻ᥒⓝήｎǹᴒńñᾗηṅňṇɲņṋṉղຖՌƞŋ⒩ภกɳпŉлԉȠἠἡῃդᾐᾑᾒᾓᾔᾕᾖῄῆῇῂἢἣἤἥἦἧὴήበቡቢባቤብቦȵ𝛈𝜂𝜼𝝶𝞰𝕟𝘯𝐧𝓃ᶇᵰᥥ∩"],["O","ꄲ🄾𐊒𝟬ꓳⲞ𐐄𐊫𐓂𝞞🅞⍥◯ⵁ⊖０⊝𝝤Ѳϴ𝚶𝜪ѺӦӨӪΌʘ𝐎ǑÒŎÓÔÕȌȎㇿ❍ⓄＯὋロ❤૦⊕ØФԾΘƠᴼᵒ⒪ŐÖₒ¤◊Φ〇ΟОՕଠഠ௦סỒỐỖỔṌȬṎŌṐṒȮȰȪỎỜỚỠỞỢỌỘǪǬǾƟⵔ߀៰⍜⎔⎕⦰⦱⦲⦳⦴⦵⦶⦷⦸⦹⦺⦻⦼⦽⦾⦿⧀⧁⧂⧃ὈὉὊὌὍ"],["o","𝚘𝛐𝗈𝞼ဝⲟ𝙤၀𐐬𝔬𐓪𝓸🇴⍤○ϙ🅾𝒪𝖮𝟢𝟶𝙾𝘰𝗼𝕠𝜊𝐨𝝾𝞸ᐤⓞѳ᧐ᥲðｏఠᦞՓòөӧóºōôǒȏŏồốȍỗổõσṍȭṏὄṑṓȯȫ๏ᴏőöѻоዐǭȱ০୦٥౦೦൦๐໐οօᴑ०੦ỏơờớỡởợọộǫøǿɵծὀὁόὸόὂὃὅ"],["P","🄿ꓑ𝚸𝙿𝞠𝙋ꮲⲢ𝒫𝝦𝑃𝑷𝗣𝐏𐊕𝜬𝘗𝓟𝖯𝛲Ꮲ🅟Ҏ🅿ⓅＰƤᑭ尸Ṗրφքᴘᴾᵖ⒫ṔｱקРየᴩⱣℙΡῬᑸᑶᑷᑹᑬᑮ🇵₱"],["p","ҏ℗ⓟｐṕṗƥᵽῥρрƿǷῤ⍴𝓹𝓅𝐩𝑝𝒑𝔭𝕡𝖕𝗉𝗽𝘱𝙥𝚙𝛒𝝆𝞺𝜌𝞀"],["Q","🅀🆀🅠ⓆＱℚⵕԚ𝐐𝑄𝑸𝒬𝓠𝚀𝘘𝙌𝖰𝕼𝔔𝗤🇶"],["q","ⓠｑգ⒬۹զᑫɋɊԛ𝗊𝑞𝘲𝕢𝚚𝒒𝖖𝐪𝔮𝓺𝙦"],["R","℞℟ꭱᏒ𐒴ꮢᎡꓣ🆁🅡ⓇＲᴙȒʀᖇя尺ŔЯરƦᴿዪṚɌʁℛℜℝṘŘȐṜŖṞⱤ𝐑𝑅𝑹𝓡𝕽𝖱𝗥𝘙𝙍𝚁ᚱ🇷ᴚ"],["r","ⓡｒŕṙřȑȓṛṝŗгՐɾᥬṟɍʳ⒭ɼѓᴦᶉ𝐫𝑟𝒓𝓇𝓻𝔯𝕣𝖗𝗋𝗿𝘳𝙧ᵲґᵣ"],["S","🅂ꇙ𝓢𝗦Ꮪ𝒮Ꮥ𝚂𝐒ꓢ𝖲𝔖𝙎𐊖𝕾𐐠𝘚𝕊𝑆𝑺🆂🅢ⓈＳṨŞֆՏȘˢ⒮ЅṠŠŚṤŜṦṢടᔕᔖᔢᔡᔣᔤ"],["s","ⓢꜱ𐑈ꮪｓśṥŝṡšṧʂṣṩѕşșȿᶊక𝐬𝑠𝒔𝓈𝓼𝔰𝕤𝖘𝗌𝘀𝘴𝙨𝚜ގ🇸"],["T","🅃🆃𐌕𝚻𝛵𝕋𝕿𝑻𐊱𐊗𝖳𝙏🝨𝝩𝞣𝚃𝘛𝑇ꓔ⟙𝐓Ⲧ𝗧⊤𝔗Ꭲꭲ𝒯🅣⏇⏉ⓉＴтҬҭƬイŦԵτᴛᵀｲፕϮŤ⊥ƮΤТ下ṪṬȚŢṰṮ丅丁ᐪ𝛕𝜏𝝉𝞃𝞽𝓣ㄒ🇹ጥ"],["t","ⓣｔṫẗťṭțȶ੮էʇ†ţṱṯƭŧᵗ⒯ʈեƫ𝐭𝑡𝒕𝓉𝓽𝔱𝕥𝖙𝗍𝘁𝘵𝙩𝚝ナ"],["U","🅄ꓴ𐓎꒤🆄🅤ŨŬŮᑗᑘǓǕǗǙⓊＵȖᑌ凵ƱմԱꓵЦŪՄƲᙀᵁᵘ⒰ŰપÜՍÙÚÛṸṺǛỦȔƯỪỨỮỬỰỤṲŲṶṴɄᥩᑧ∪ᘮ⋃𝐔𝑈𝑼𝒰𝓤𝔘𝕌𝖀𝖴𝗨𝘜𝙐𝚄🇺"],["u","ὺύⓤｕùũūừṷṹŭǖữᥙǚǜὗυΰนսʊǘǔúůᴜűųยûṻцሁüᵾᵤµʋủȕȗưứửựụṳṵʉῠῡῢΰῦῧὐὑϋύὒὓὔὕὖᥔ𝐮𝑢𝒖𝓊𝓾𝔲𝕦𝖚𝗎ᶙ"],["V","🅅ꓦ𝑽𝖵𝘝Ꮩ𝚅𝙑𝐕🆅🅥ⓋＶᐯѴᵛ⒱۷ṾⅴⅤṼ٧ⴸѶᐺᐻ🇻𝓥"],["v","ሀⓥｖ𝜐𝝊ṽṿ౮งѵעᴠνטᵥѷ៴ᘁ𝙫𝚟𝛎𝜈𝝂𝝼𝞶𝘷𝘃𝓿"],["W","🅆ᏔᎳ𝑾ꓪ𝒲𝘞🆆Ⓦ🅦ｗＷẂᾧᗯᥕ山ѠຟచաЩШώщฬшᙎᵂʷ⒲ฝሠẄԜẀŴẆẈധᘺѿᙡƜ₩🇼"],["w","ẁꮃẃⓦ⍵ŵẇẅẘẉⱳὼὠὡὢὣωὤὥὦὧῲῳῴῶῷⱲѡԝᴡώᾠᾡᾢᾣᾤᾥᾦɯ𝝕𝟉𝞏"],["X","🞨🞩🞪🅇🞫🞬𐌗Ⲭꓫ𝖃𝞦𝘟𐊐𝚾𝝬𝜲Ꭓ𐌢𝖷𝑋𝕏𝔛𐊴𝗫🆇🅧❌Ⓧ𝓧ＸẊ᙭χㄨ𝒳ӾჯӼҳЖΧҲᵡˣ⒳אሸẌꊼⅩХ╳᙮ᕁᕽⅹᚷⵝ𝙓𝚇乂𝐗🇽"],["x","ⓧｘхẋ×ₓ⤫⤬⨯ẍᶍ𝙭ӽ𝘹𝐱𝚡⨰ﾒ𝔁"],["Y","Ⲩ𝚈𝑌𝗬𝐘ꓬ𝒀𝜰𐊲🆈🅨ⓎＹὛƳㄚʏ⅄ϔ￥¥ՎϓγץӲЧЎሃŸɎϤΥϒҮỲÝŶỸȲẎỶỴῨῩῪΎὙὝὟΫΎӮӰҰұ𝕐🇾"],["y","🅈ᎽᎩⓨｙỳýŷỹȳẏÿỷуყẙỵƴɏᵞɣʸᶌү⒴ӳӱӯўУʎ"],["Z","🅉ꓜ𝗭𝐙☡Ꮓ𝘡🆉🅩ⓏＺẔƵ乙ẐȤᶻ⒵ŹℤΖŻŽẒⱫ🇿"],["z","ꮓⓩｚźẑżžẓẕƶȥɀᴢጊʐⱬᶎʑᙆ"]])),Qu}var GE;function zS(){if(GE)return qu;GE=1,Object.defineProperty(qu,"__esModule",{value:!0}),qu.resolveConfusablesTransformer=void 0;const r=By(),t=cP();function n(){return(0,r.remapCharactersTransformer)(t.confusables)}return qu.resolveConfusablesTransformer=n,qu}var Ku={},Gu={},WE;function hP(){return WE||(WE=1,Object.defineProperty(Gu,"__esModule",{value:!0}),Gu.dictionary=void 0,Gu.dictionary=new Map([["a","@4"],["c","("],["e","3"],["i","1|!"],["g","6"],["o","0"],["s","$5"],["t","7"],["z","2"]])),Gu}var YE;function HS(){if(YE)return Ku;YE=1,Object.defineProperty(Ku,"__esModule",{value:!0}),Ku.resolveLeetSpeakTransformer=void 0;const r=By(),t=hP();function n(){return(0,r.remapCharactersTransformer)(t.dictionary)}return Ku.resolveLeetSpeakTransformer=n,Ku}var Wu={},XE;function qS(){if(XE)return Wu;XE=1,Object.defineProperty(Wu,"__esModule",{value:!0}),Wu.toAsciiLowerCaseTransformer=void 0;const r=Ms(),t=od();function n(){return(0,t.createSimpleTransformer)(s=>(0,r.isUpperCase)(s)?(0,r.invertCaseOfAlphabeticChar)(s):s)}return Wu.toAsciiLowerCaseTransformer=n,Wu}var ZE;function fP(){return ZE||(ZE=1,function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.englishDataset=r.englishRecommendedTransformers=r.englishRecommendedWhitelistMatcherTransformers=r.englishRecommendedBlacklistMatcherTransformers=void 0;const t=LS(),n=BS(),s=jS(),o=zS(),u=HS(),f=qS();r.englishRecommendedBlacklistMatcherTransformers=[(0,o.resolveConfusablesTransformer)(),(0,u.resolveLeetSpeakTransformer)(),(0,f.toAsciiLowerCaseTransformer)(),(0,s.collapseDuplicatesTransformer)({defaultThreshold:1,customThresholds:new Map([["b",2],["e",2],["o",2],["l",2],["s",2],["g",2]])})],r.englishRecommendedWhitelistMatcherTransformers=[(0,f.toAsciiLowerCaseTransformer)(),(0,s.collapseDuplicatesTransformer)({defaultThreshold:Number.POSITIVE_INFINITY,customThresholds:new Map([[" ",1]])})],r.englishRecommendedTransformers={blacklistMatcherTransformers:r.englishRecommendedBlacklistMatcherTransformers,whitelistMatcherTransformers:r.englishRecommendedWhitelistMatcherTransformers},r.englishDataset=new t.DataSet().addPhrase(d=>d.setMetadata({originalWord:"abo"}).addPattern((0,n.pattern)`|ab[b]o[s]|`)).addPhrase(d=>d.setMetadata({originalWord:"abeed"}).addPattern((0,n.pattern)`ab[b]eed`)).addPhrase(d=>d.setMetadata({originalWord:"africoon"}).addPattern((0,n.pattern)`africoon`)).addPhrase(d=>d.setMetadata({originalWord:"anal"}).addPattern((0,n.pattern)`|anal`).addWhitelistedTerm("analabos").addWhitelistedTerm("analagous").addWhitelistedTerm("analav").addWhitelistedTerm("analy").addWhitelistedTerm("analog").addWhitelistedTerm("an al").addPattern((0,n.pattern)`danal`).addPattern((0,n.pattern)`eanal`).addPattern((0,n.pattern)`fanal`).addWhitelistedTerm("fan al").addPattern((0,n.pattern)`ganal`).addWhitelistedTerm("gan al").addPattern((0,n.pattern)`ianal`).addWhitelistedTerm("ian al").addPattern((0,n.pattern)`janal`).addWhitelistedTerm("trojan al").addPattern((0,n.pattern)`kanal`).addPattern((0,n.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,n.pattern)`lanal`).addWhitelistedTerm("lan al").addPattern((0,n.pattern)`oanal|`).addPattern((0,n.pattern)`panal`).addWhitelistedTerm("pan al").addPattern((0,n.pattern)`qanal`).addPattern((0,n.pattern)`ranal`).addPattern((0,n.pattern)`sanal`).addPattern((0,n.pattern)`tanal`).addWhitelistedTerm("tan al").addPattern((0,n.pattern)`uanal`).addWhitelistedTerm("uan al").addPattern((0,n.pattern)`vanal`).addWhitelistedTerm("van al").addPattern((0,n.pattern)`wanal`).addPattern((0,n.pattern)`xanal`).addWhitelistedTerm("texan al").addPattern((0,n.pattern)`yanal`).addPattern((0,n.pattern)`zanal`)).addPhrase(d=>d.setMetadata({originalWord:"anus"}).addPattern((0,n.pattern)`anus`).addWhitelistedTerm("an us").addWhitelistedTerm("tetanus").addWhitelistedTerm("uranus").addWhitelistedTerm("janus").addWhitelistedTerm("manus")).addPhrase(d=>d.setMetadata({originalWord:"arabush"}).addPattern((0,n.pattern)`arab[b]ush`)).addPhrase(d=>d.setMetadata({originalWord:"arse"}).addPattern((0,n.pattern)`|ars[s]e`).addWhitelistedTerm("arsen")).addPhrase(d=>d.setMetadata({originalWord:"ass"}).addPattern((0,n.pattern)`|ass`).addWhitelistedTerm("assa").addWhitelistedTerm("assem").addWhitelistedTerm("assen").addWhitelistedTerm("asser").addWhitelistedTerm("asset").addWhitelistedTerm("assev").addWhitelistedTerm("assi").addWhitelistedTerm("assoc").addWhitelistedTerm("assoi").addWhitelistedTerm("assu")).addPhrase(d=>d.setMetadata({originalWord:"bastard"}).addPattern((0,n.pattern)`bas[s]tard`)).addPhrase(d=>d.setMetadata({originalWord:"bestiality"}).addPattern((0,n.pattern)`be[e][a]s[s]tial`)).addPhrase(d=>d.setMetadata({originalWord:"bitch"}).addPattern((0,n.pattern)`bitch`).addPattern((0,n.pattern)`bich|`)).addPhrase(d=>d.setMetadata({originalWord:"blowjob"}).addPattern((0,n.pattern)`b[b]l[l][o]wj[o]b`)).addPhrase(d=>d.setMetadata({originalWord:"bollocks"}).addPattern((0,n.pattern)`bol[l]ock`)).addPhrase(d=>d.setMetadata({originalWord:"boob"}).addPattern((0,n.pattern)`boob`)).addPhrase(d=>d.setMetadata({originalWord:"boonga"}).addPattern((0,n.pattern)`boonga`).addWhitelistedTerm("baboon ga")).addPhrase(d=>d.setMetadata({originalWord:"buttplug"}).addPattern((0,n.pattern)`buttplug`)).addPhrase(d=>d.setMetadata({originalWord:"chingchong"}).addPattern((0,n.pattern)`chingchong`)).addPhrase(d=>d.setMetadata({originalWord:"chink"}).addPattern((0,n.pattern)`chink`).addWhitelistedTerm("chin k")).addPhrase(d=>d.setMetadata({originalWord:"cock"}).addPattern((0,n.pattern)`|cock|`).addPattern((0,n.pattern)`|cocks`).addPattern((0,n.pattern)`|cockp`).addPattern((0,n.pattern)`|cocke[e]|`).addWhitelistedTerm("cockney")).addPhrase(d=>d.setMetadata({originalWord:"cuck"}).addPattern((0,n.pattern)`cuck`).addWhitelistedTerm("cuckoo")).addPhrase(d=>d.setMetadata({originalWord:"cum"}).addPattern((0,n.pattern)`|cum`).addWhitelistedTerm("cumu").addWhitelistedTerm("cumb")).addPhrase(d=>d.setMetadata({originalWord:"cunt"}).addPattern((0,n.pattern)`|cunt`).addPattern((0,n.pattern)`cunt|`)).addPhrase(d=>d.setMetadata({originalWord:"deepthroat"}).addPattern((0,n.pattern)`deepthro[o]at`).addPattern((0,n.pattern)`deepthro[o]t`)).addPhrase(d=>d.setMetadata({originalWord:"dick"}).addPattern((0,n.pattern)`|dck|`).addPattern((0,n.pattern)`dick`).addWhitelistedTerm("benedick").addWhitelistedTerm("dickens")).addPhrase(d=>d.setMetadata({originalWord:"dildo"}).addPattern((0,n.pattern)`dildo`)).addPhrase(d=>d.setMetadata({originalWord:"doggystyle"}).addPattern((0,n.pattern)`d[o]g[g]ys[s]t[y]l[l]`)).addPhrase(d=>d.setMetadata({originalWord:"double penetration"}).addPattern((0,n.pattern)`double penetra`)).addPhrase(d=>d.setMetadata({originalWord:"dyke"}).addPattern((0,n.pattern)`dyke`).addWhitelistedTerm("van dyke")).addPhrase(d=>d.setMetadata({originalWord:"ejaculate"}).addPattern((0,n.pattern)`e[e]jacul`).addPattern((0,n.pattern)`e[e]jakul`).addPattern((0,n.pattern)`e[e]acul[l]ate`)).addPhrase(d=>d.setMetadata({originalWord:"fag"}).addPattern((0,n.pattern)`|fag`).addPattern((0,n.pattern)`fggot`)).addPhrase(d=>d.setMetadata({originalWord:"felch"}).addPattern((0,n.pattern)`fe[e]l[l]ch`)).addPhrase(d=>d.setMetadata({originalWord:"fellatio"}).addPattern((0,n.pattern)`f[e][e]llat`)).addPhrase(d=>d.setMetadata({originalWord:"finger bang"}).addPattern((0,n.pattern)`fingerbang`)).addPhrase(d=>d.setMetadata({originalWord:"fisting"}).addPattern((0,n.pattern)`fistin`)).addPhrase(d=>d.setMetadata({originalWord:"fuck"}).addPattern((0,n.pattern)`f[?]ck`).addPattern((0,n.pattern)`|fk`).addPattern((0,n.pattern)`|fu|`).addPattern((0,n.pattern)`|fuk`).addWhitelistedTerm("fick").addWhitelistedTerm("kung-fu").addWhitelistedTerm("kung fu")).addPhrase(d=>d.setMetadata({originalWord:"gangbang"}).addPattern((0,n.pattern)`g[?]ngbang`)).addPhrase(d=>d.setMetadata({originalWord:"handjob"}).addPattern((0,n.pattern)`h[?]ndjob`)).addPhrase(d=>d.setMetadata({originalWord:"hentai"}).addPattern((0,n.pattern)`h[e][e]ntai`)).addPhrase(d=>d.setMetadata({originalWord:"hooker"}).addPattern((0,n.pattern)`hooker`)).addPhrase(d=>d.setMetadata({originalWord:"incest"}).addPattern((0,n.pattern)`incest`)).addPhrase(d=>d.setMetadata({originalWord:"jerk off"}).addPattern((0,n.pattern)`jerkoff`)).addPhrase(d=>d.setMetadata({originalWord:"jizz"}).addPattern((0,n.pattern)`jizz`)).addPhrase(d=>d.setMetadata({originalWord:"kike"}).addPattern((0,n.pattern)`kike`)).addPhrase(d=>d.setMetadata({originalWord:"lubejob"}).addPattern((0,n.pattern)`lubejob`)).addPhrase(d=>d.setMetadata({originalWord:"masturbate"}).addPattern((0,n.pattern)`m[?]sturbate`).addPattern((0,n.pattern)`masterbate`)).addPhrase(d=>d.setMetadata({originalWord:"negro"}).addPattern((0,n.pattern)`negro`).addWhitelistedTerm("montenegro").addWhitelistedTerm("negron").addWhitelistedTerm("stoneground").addWhitelistedTerm("winegrow")).addPhrase(d=>d.setMetadata({originalWord:"nigger"}).addPattern((0,n.pattern)`n[i]gger`).addPattern((0,n.pattern)`n[i]gga`).addPattern((0,n.pattern)`|nig|`).addPattern((0,n.pattern)`|nigs|`).addWhitelistedTerm("snigger")).addPhrase(d=>d.setMetadata({originalWord:"orgasm"}).addPattern((0,n.pattern)`[or]gasm`).addWhitelistedTerm("gasma")).addPhrase(d=>d.setMetadata({originalWord:"orgy"}).addPattern((0,n.pattern)`orgy`).addPattern((0,n.pattern)`orgies`).addWhitelistedTerm("porgy")).addPhrase(d=>d.setMetadata({originalWord:"penis"}).addPattern((0,n.pattern)`pe[e]nis`).addPattern((0,n.pattern)`|pnis`).addWhitelistedTerm("pen is")).addPhrase(d=>d.setMetadata({originalWord:"piss"}).addPattern((0,n.pattern)`|piss`)).addPhrase(d=>d.setMetadata({originalWord:"porn"}).addPattern((0,n.pattern)`|prn|`).addPattern((0,n.pattern)`porn`).addWhitelistedTerm("p orna")).addPhrase(d=>d.setMetadata({originalWord:"prick"}).addPattern((0,n.pattern)`|prick[s]|`)).addPhrase(d=>d.setMetadata({originalWord:"pussy"}).addPattern((0,n.pattern)`p[u]ssy`)).addPhrase(d=>d.setMetadata({originalWord:"rape"}).addPattern((0,n.pattern)`|rape`).addPattern((0,n.pattern)`|rapis[s]t`)).addPhrase(d=>d.setMetadata({originalWord:"retard"}).addPattern((0,n.pattern)`retard`)).addPhrase(d=>d.setMetadata({originalWord:"scat"}).addPattern((0,n.pattern)`|s[s]cat|`)).addPhrase(d=>d.setMetadata({originalWord:"semen"}).addPattern((0,n.pattern)`|s[s]e[e]me[e]n`)).addPhrase(d=>d.setMetadata({originalWord:"sex"}).addPattern((0,n.pattern)`|s[s]e[e]x|`).addPattern((0,n.pattern)`|s[s]e[e]xy|`)).addPhrase(d=>d.setMetadata({originalWord:"shit"}).addPattern((0,n.pattern)`|shit`).addPattern((0,n.pattern)`shit|`).addWhitelistedTerm("s hit").addWhitelistedTerm("sh it").addWhitelistedTerm("shi t").addWhitelistedTerm("shitake")).addPhrase(d=>d.setMetadata({originalWord:"slut"}).addPattern((0,n.pattern)`s[s]lut`)).addPhrase(d=>d.setMetadata({originalWord:"spastic"}).addPattern((0,n.pattern)`|spastic`)).addPhrase(d=>d.setMetadata({originalWord:"tit"}).addPattern((0,n.pattern)`|tit|`).addPattern((0,n.pattern)`|tits|`).addPattern((0,n.pattern)`|titt`).addPattern((0,n.pattern)`|tiddies`).addPattern((0,n.pattern)`|tities`)).addPhrase(d=>d.setMetadata({originalWord:"tranny"}).addPattern((0,n.pattern)`tranny`)).addPhrase(d=>d.setMetadata({originalWord:"turd"}).addPattern((0,n.pattern)`|turd`).addWhitelistedTerm("turducken")).addPhrase(d=>d.setMetadata({originalWord:"twat"}).addPattern((0,n.pattern)`|twat`).addWhitelistedTerm("twattle")).addPhrase(d=>d.setMetadata({originalWord:"vagina"}).addPattern((0,n.pattern)`vagina`).addPattern((0,n.pattern)`|v[?]gina`)).addPhrase(d=>d.setMetadata({originalWord:"wank"}).addPattern((0,n.pattern)`|wank`)).addPhrase(d=>d.setMetadata({originalWord:"whore"}).addPattern((0,n.pattern)`|wh[o]re|`).addPattern((0,n.pattern)`|who[o]res[s]|`).addWhitelistedTerm("who're"))}($p)),$p}var Yu={},JE;function dP(){if(JE)return Yu;JE=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.skipNonAlphabeticTransformer=void 0;const r=Ms(),t=od();function n(){return(0,t.createSimpleTransformer)(s=>(0,r.isAlphabetic)(s)?s:void 0)}return Yu.skipNonAlphabeticTransformer=n,Yu}var $E;function mP(){return $E||($E=1,function(r){var t=ha&&ha.__createBinding||(Object.create?function(s,o,u,f){f===void 0&&(f=u);var d=Object.getOwnPropertyDescriptor(o,u);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[u]}}),Object.defineProperty(s,f,d)}:function(s,o,u,f){f===void 0&&(f=u),s[f]=o[u]}),n=ha&&ha.__exportStar||function(s,o){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(o,u)&&t(o,s,u)};Object.defineProperty(r,"__esModule",{value:!0}),n(NS(),r),n(nP(),r),n(LS(),r),n(aP(),r),n(US(),r),n(Uy(),r),n(oP(),r),n(Ly(),r),n(kS(),r),n(BS(),r),n(fP(),r),n(jS(),r),n(By(),r),n(zS(),r),n(HS(),r),n(dP(),r),n(qS(),r)}(ha)),ha}var pP=mP();const re=g1(pP);re.DataSet;re.ParserError;re.PhraseBuilder;const gP=re.RegExpMatcher;re.SyntaxKind;re.TextCensor;re.assignIncrementingIds;re.asteriskCensorStrategy;re.collapseDuplicatesTransformer;re.compareMatchByPositionAndId;const yP=re.englishDataset;re.englishRecommendedBlacklistMatcherTransformers;const vP=re.englishRecommendedTransformers;re.englishRecommendedWhitelistMatcherTransformers;re.fixedCharCensorStrategy;re.fixedPhraseCensorStrategy;re.grawlixCensorStrategy;re.keepEndCensorStrategy;re.keepStartCensorStrategy;re.parseRawPattern;re.pattern;re.randomCharFromSetCensorStrategy;re.remapCharactersTransformer;re.resolveConfusablesTransformer;re.resolveLeetSpeakTransformer;re.skipNonAlphabeticTransformer;re.toAsciiLowerCaseTransformer;function _P({game:r,frame:t,syncReactFrames:n}){cancelAnimationFrame(t);const s=Yg(),o=new gP({...yP.build(),...vP}),[u,f]=K.useState(!1),d=xf({queryKey:["scores"],queryFn:VS}),p=xf({queryKey:["rounds"],queryFn:PS}),{mutate:g,isSuccess:A,isPending:E,isError:w,isIdle:x}=Zx({mutationFn:tP,onSuccess:()=>{s.invalidateQueries({queryKey:["scores","rounds"]})}}),V=async j=>{j.preventDefault();const L=new FormData(j.currentTarget),G={name:"",score:0,round:0};if(G.name=L.get("name"),G.score=r.score,G.round=r.round,o.hasMatch(G.name)){f(!0);return}g(G)};return Y.jsxs("section",{className:"absolute left-0 top-0 h-full w-full z-10 flex flex-col justify-center items-center gap-8",children:[(d.data&&(d.data.length===0||r.score>d.data[d.data.length-1].score||d.data.length<10)||p.data&&(p.data.length===0||r.round>p.data[p.data.length-1].score||p.data.length<10))&&Y.jsxs("form",{className:"bg-black text-white p-4 border-2 border-white rounded-2xl w-max absolute top-1/4 -translate-y-1/3 flex flex-col justify-center items-center gap-2",onSubmit:V,children:[Y.jsxs("div",{className:"flex gap-2 items-center",children:[Y.jsx("div",{className:"w-6 h-6 bg-[url(/src/assets/stars.png)] bg-cover animate-star"}),Y.jsx("h2",{className:"w-max",children:"NEW PLACEMENT"}),Y.jsx("div",{className:"w-6 h-6 bg-[url(/src/assets/stars.png)] bg-cover animate-star"})]}),Y.jsx("input",{type:"text",placeholder:"name",className:`text-black text-center ${u?"bg-red-300":"bg-white"}`,size:15,minLength:3,maxLength:15,name:"name",onFocus:()=>f(!1)}),u&&Y.jsx("p",{className:"text-[.5rem] text-red-300",children:"Really???"}),Y.jsx("p",{className:"text-[.5rem]",children:"3-15 characters long"}),x&&Y.jsx("div",{className:"m-auto w-max",children:Y.jsx(xa,{children:"SUBMIT"})}),A&&Y.jsx("p",{className:"text-green-300",children:"SCORE ADDED SUCCESSFULLY"}),E&&Y.jsx("p",{children:"SUBMITTING..."}),w&&Y.jsx("p",{className:"text-red-300",children:"Something went wrong"})]}),Y.jsxs("div",{className:"flex gap-8 justify-center m-4 translate-y-full",children:[Y.jsx(xa,{cb:()=>{r.restart(),n()},children:"RESTART"}),Y.jsx(Ca,{to:"/",text:"HOME"})]})]})}function AP({game:r}){const t=K.useContext(xc),[n,s]=K.useState(!1),o=u=>{if(u.preventDefault(),t){const f=new FormData(u.currentTarget),d=Object.fromEntries(f.entries()),p={sfx:!!d.sfx,music:!!d.music,mobileUI:!!d.mobileUI};t.updateOptions(p),r.setOptions(t),s(!0)}};return Y.jsx("section",{className:"absolute left-0 top-0 h-full w-full bg-black/50 z-10 flex justify-center items-center p-1",children:Y.jsxs("div",{className:"border-1 border-white p-2 sm:p-4 bg-[#242424] flex flex-col gap-4",children:[Y.jsx("h2",{children:"Pause Menu"}),Y.jsxs("form",{className:"flex flex-col gap-4 p-2",onSubmit:u=>o(u),children:[Y.jsxs("div",{className:"flex justify-between",children:[Y.jsx("label",{children:"Enable SFX"}),Y.jsx("input",{name:"sfx",type:"checkbox",defaultChecked:!!(t!=null&&t.sfx)})]}),Y.jsxs("div",{className:"flex justify-between",children:[Y.jsx("label",{children:"Enable Music"}),Y.jsx("input",{name:"music",type:"checkbox",defaultChecked:!!(t!=null&&t.music)})]}),Y.jsxs("div",{className:"flex justify-between",children:[Y.jsx("label",{children:"Mobile Controls"}),Y.jsx("input",{name:"mobileUI",type:"checkbox",defaultChecked:!!(t!=null&&t.mobileUI)})]}),Y.jsx(xa,{children:"SAVE"}),Y.jsx("p",{className:"text-green-400",children:n?"Options Saved!":""})]}),Y.jsxs("div",{className:"flex gap-4 flex-wrap",children:[Y.jsx(xa,{cb:u=>{r==null||r.togglePause(),u==null||u.currentTarget.blur()},children:"RESUME"}),Y.jsx(Ca,{to:"/",text:"MAIN MENU"})]})]})})}function EP(){const[r,t]=K.useState(0),{width:n,height:s}=gx(),o=yx(n),u=K.useRef(null),f=K.useMemo(()=>new px(n,s),[]),d=K.useCallback(()=>t(requestAnimationFrame(d)),[]),p=K.useContext(xc);return K.useEffect(()=>{if(u.current){const g=u.current.getContext("2d");f.setContext(g),p&&f.setOptions(p),f.start(),f.animationLoop(),d()}return()=>{f.stop(),cancelAnimationFrame(r)}},[]),K.useEffect(()=>{f.width=n,f.height=s,f.transformScaler=Math.min(n/Yt.width,s/Yt.height,o),f.transformOrigin={x:(n-Yt.width*f.transformScaler)/2,y:(s-Yt.height*f.transformScaler)/2}},[n,s]),Y.jsxs("main",{className:"h-dvh relative",children:[Y.jsx(_x,{game:f}),Y.jsx("canvas",{className:"absolute left-0 top-0 z-0",width:n,height:s,ref:u}),f.gameOverFlag&&Y.jsx(_P,{game:f,frame:r,syncReactFrames:d}),f.paused&&Y.jsx(AP,{game:f})]})}const TP="/bust-a-move/assets/title-jayMemy8.png";function bP(){return Y.jsxs("main",{className:"h-dvh flex items-center justify-center flex-col bg-[url(/src/assets/title-bg.png)] bg-repeat overflow-x-hidden",children:[Y.jsxs("section",{className:"relative min-w-min w-1/2 max-w-3xl flex flex-col items-center",children:[Y.jsx("img",{src:TP,alt:"Bust a Move",className:"min-w-xs w-full h-auto animate-pulse p-6 flex-auto"}),Y.jsx("div",{className:"animate-slide absolute -top-14",children:Y.jsx("div",{className:"w-[98px] h-[98px] bg-[url(/src/assets/title-run.png)] bg-cover animate-run"})}),Y.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 relative m-auto w-max",children:[Y.jsx(Ca,{to:"game",text:"START"}),Y.jsx(Ca,{to:"options",text:"OPTIONS"}),Y.jsx(Ca,{to:"scoreboard",text:"SCOREBOARD"}),Y.jsx("div",{className:"w-[98px] h-[98px] bg-[url(/src/assets/title-look.png)] bg-cover animate-look absolute top-36 right-1/12 sm:-top-1/2 sm:-right-1/4"})]})]}),Y.jsx("p",{className:"text-[.50rem] md:text-[.70rem] p-2 fixed bottom-0 text-center",children:"©Taito Re-created with Web Technology by Applefrittr 2025"})]})}function SP(){const r=K.useContext(xc),[t,n]=K.useState(!1),s=o=>{o.preventDefault();const u=new FormData(o.currentTarget),f=Object.fromEntries(u.entries()),d={sfx:!!f.sfx,music:!!f.music,mobileUI:!!f.mobileUI,left:f.left.toString()[0]||"a",right:f.right.toString()[0]||"d",fire:f.fire.toString()==="space"?" ":f.fire.toString()[0]||" "};r==null||r.updateOptions(d),n(!0)};return Y.jsx("main",{className:"p-8 flex items-center justify-center min-h-svh bg-[url(/src/assets/modal-bg.png)] bg-repeat",children:Y.jsxs("form",{className:"flex flex-col gap-4 p-8 border-white-solid border-2 lg:min-w-2xl bg-[#242424]",onSubmit:o=>s(o),children:[Y.jsx("h1",{className:"m-auto",children:"Options"}),Y.jsxs(Oo,{children:[Y.jsx("label",{children:"Enable SFX"}),Y.jsx("input",{name:"sfx",type:"checkbox",defaultChecked:!!(r!=null&&r.sfx)})]}),Y.jsxs(Oo,{children:[Y.jsx("label",{children:"Enable Music"}),Y.jsx("input",{name:"music",type:"checkbox",defaultChecked:!!(r!=null&&r.music)})]}),Y.jsxs(Oo,{children:[Y.jsx("label",{children:"Mobile Controls"}),Y.jsx("input",{name:"mobileUI",type:"checkbox",defaultChecked:!!(r!=null&&r.mobileUI)})]}),Y.jsxs("div",{className:"flex-col flex gap-4",children:[Y.jsx("h2",{className:"m-auto",children:"Controls"}),Y.jsxs(Oo,{children:[Y.jsx("label",{htmlFor:"left",children:"Aim Left"}),Y.jsx("input",{name:"left",maxLength:1,defaultValue:r==null?void 0:r.left,className:"focus:bg-white focus:text-black w-24 px-1 border-2 border-white",onClick:o=>o.currentTarget.value="",autoComplete:"false"})]}),Y.jsxs(Oo,{children:[Y.jsx("label",{htmlFor:"right",children:"Aim Right"}),Y.jsx("input",{name:"right",maxLength:1,defaultValue:r==null?void 0:r.right,className:" focus:bg-white focus:text-black w-24 px-1 border-2 border-white",onClick:o=>o.currentTarget.value="",autoComplete:"false"})]}),Y.jsxs(Oo,{children:[Y.jsx("label",{htmlFor:"right",children:"Fire Cannon"}),Y.jsx("input",{name:"fire",maxLength:1,defaultValue:(r==null?void 0:r.fire)===" "?"space":r==null?void 0:r.fire,className:"focus:bg-white focus:text-black w-24 px-1 border-2 border-white",onClick:o=>o.currentTarget.value="",autoComplete:"false"})]})]}),Y.jsxs("div",{className:"flex gap-4",children:[Y.jsx(xa,{children:"SAVE"}),Y.jsx(Ca,{to:"/",text:"BACK"})]}),Y.jsx("p",{className:"text-green-400",children:t?"Options Saved!":""})]})})}function Oo({children:r}){return Y.jsx("div",{className:"flex justify-between flex-auto gap-4",children:r})}function wP(){const[r,t]=K.useState(!0),n=xf({queryKey:["scores"],queryFn:VS}),s=xf({queryKey:["rounds"],queryFn:PS});return Y.jsx("main",{className:"min-h-svh p-8 bg-[url(/src/assets/title-bg.png)] bg-repeat",children:Y.jsxs("div",{className:"p-2 sm:p-8 border-2 border-white bg-[#242424]",children:[Y.jsx(xa,{cb:()=>t(o=>!o),children:"SWITCH"}),r&&Y.jsx(tT,{query:n,title:"HIGH SCORES",field:"score"}),!r&&Y.jsx(tT,{query:s,title:"HIGHEST ROUND",field:"round"}),Y.jsx("div",{className:"m-auto w-max p-4",children:Y.jsx(Ca,{to:"/",text:"BACK"})})]})})}function tT({query:r,title:t,field:n}){return Y.jsxs(Y.Fragment,{children:[Y.jsx("h1",{className:"m-auto w-max p-4",children:t}),Y.jsxs("div",{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(even)]:text-black",children:[r.data&&r.data.map((s,o)=>Y.jsxs("div",{className:"grid grid-cols-[40px_1fr] sm:grid-cols-[40px_2fr_1fr] gap-1 p-2 sm:p-4 min-w-max text-[.85rem] sm:text-[1rem]",children:[Y.jsxs("span",{children:[o+1,"."]}),Y.jsx("p",{className:"text-center sm:text-left",children:s.name}),Y.jsx("p",{className:"col-span-2 text-center sm:col-span-1 sm:text-left",children:s[n]})]},o)),r.isError&&Y.jsx("p",{children:"Error retrieving query. Try again later."}),r.isLoading&&Y.jsx("p",{children:"Loading..."})]})]})}const RP=new Px;function CP(){const r={sfx:!0,music:!0,mobileUI:!0,left:"a",right:"d",fire:" ",updateOptions(t){this.sfx=t.sfx??this.sfx,this.music=t.music??this.music,this.mobileUI=t.mobileUI??this.mobileUI,this.left=t.left??this.left,this.right=t.right??this.right,this.fire=t.fire??this.fire}};return Y.jsx(Y.Fragment,{children:Y.jsx(Bx,{client:RP,children:Y.jsx(xc.Provider,{value:r,children:Y.jsx(zR,{children:Y.jsxs(yR,{children:[Y.jsx(Xu,{index:!0,element:Y.jsx(bP,{})}),Y.jsx(Xu,{path:"game",element:Y.jsx(EP,{})}),Y.jsx(Xu,{path:"options",element:Y.jsx(SP,{})}),Y.jsx(Xu,{path:"scoreboard",element:Y.jsx(wP,{})})]})})})})})}R1.createRoot(document.getElementById("root")).render(Y.jsx(K.StrictMode,{children:Y.jsx(CP,{})}));
