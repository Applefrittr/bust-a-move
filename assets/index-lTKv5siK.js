var Hb=Object.defineProperty;var $0=r=>{throw TypeError(r)};var jb=(r,t,n)=>t in r?Hb(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n;var k=(r,t,n)=>jb(r,typeof t!="symbol"?t+"":t,n),Dm=(r,t,n)=>t.has(r)||$0("Cannot "+n);var D=(r,t,n)=>(Dm(r,t,"read from private field"),n?n.call(r):t.get(r)),pt=(r,t,n)=>t.has(r)?$0("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,n),at=(r,t,n,s)=>(Dm(r,t,"write to private field"),s?s.call(r,n):t.set(r,n),n),Vt=(r,t,n)=>(Dm(r,t,"access private method"),n);var Th=(r,t,n,s)=>({set _(l){at(r,t,l,n)},get _(){return D(r,t,s)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var xm={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function qb(){if(t_)return fu;t_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return fu.Fragment=t,fu.jsx=n,fu.jsxs=n,fu}var e_;function Fb(){return e_||(e_=1,xm.exports=qb()),xm.exports}var et=Fb(),Im={exports:{}},It={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function Qb(){if(n_)return It;n_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function B(M,rt,yt){this.props=M,this.context=rt,this.refs=F,this.updater=yt||O}B.prototype.isReactComponent={},B.prototype.setState=function(M,rt){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,rt,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Y(){}Y.prototype=B.prototype;function it(M,rt,yt){this.props=M,this.context=rt,this.refs=F,this.updater=yt||O}var Z=it.prototype=new Y;Z.constructor=it,L(Z,B.prototype),Z.isPureReactComponent=!0;var dt=Array.isArray,ot={H:null,A:null,T:null,S:null},St=Object.prototype.hasOwnProperty;function V(M,rt,yt,ut,ct,Ot){return yt=Ot.ref,{$$typeof:r,type:M,key:rt,ref:yt!==void 0?yt:null,props:Ot}}function R(M,rt){return V(M.type,rt,void 0,void 0,void 0,M.props)}function T(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function x(M){var rt={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(yt){return rt[yt]})}var N=/\/+/g;function H(M,rt){return typeof M=="object"&&M!==null&&M.key!=null?x(""+M.key):rt.toString(36)}function I(){}function De(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(rt){M.status==="pending"&&(M.status="fulfilled",M.value=rt)},function(rt){M.status==="pending"&&(M.status="rejected",M.reason=rt)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Ee(M,rt,yt,ut,ct){var Ot=typeof M;(Ot==="undefined"||Ot==="boolean")&&(M=null);var xt=!1;if(M===null)xt=!0;else switch(Ot){case"bigint":case"string":case"number":xt=!0;break;case"object":switch(M.$$typeof){case r:case t:xt=!0;break;case A:return xt=M._init,Ee(xt(M._payload),rt,yt,ut,ct)}}if(xt)return ct=ct(M),xt=ut===""?"."+H(M,0):ut,dt(ct)?(yt="",xt!=null&&(yt=xt.replace(N,"$&/")+"/"),Ee(ct,rt,yt,"",function(fe){return fe})):ct!=null&&(T(ct)&&(ct=R(ct,yt+(ct.key==null||M&&M.key===ct.key?"":(""+ct.key).replace(N,"$&/")+"/")+xt)),rt.push(ct)),1;xt=0;var Se=ut===""?".":ut+":";if(dt(M))for(var Qt=0;Qt<M.length;Qt++)ut=M[Qt],Ot=Se+H(ut,Qt),xt+=Ee(ut,rt,yt,Ot,ct);else if(Qt=w(M),typeof Qt=="function")for(M=Qt.call(M),Qt=0;!(ut=M.next()).done;)ut=ut.value,Ot=Se+H(ut,Qt++),xt+=Ee(ut,rt,yt,Ot,ct);else if(Ot==="object"){if(typeof M.then=="function")return Ee(De(M),rt,yt,ut,ct);throw rt=String(M),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return xt}function lt(M,rt,yt){if(M==null)return M;var ut=[],ct=0;return Ee(M,ut,"","",function(Ot){return rt.call(yt,Ot,ct++)}),ut}function bt(M){if(M._status===-1){var rt=M._result;rt=rt(),rt.then(function(yt){(M._status===0||M._status===-1)&&(M._status=1,M._result=yt)},function(yt){(M._status===0||M._status===-1)&&(M._status=2,M._result=yt)}),M._status===-1&&(M._status=0,M._result=rt)}if(M._status===1)return M._result.default;throw M._result}var At=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Wt(){}return It.Children={map:lt,forEach:function(M,rt,yt){lt(M,function(){rt.apply(this,arguments)},yt)},count:function(M){var rt=0;return lt(M,function(){rt++}),rt},toArray:function(M){return lt(M,function(rt){return rt})||[]},only:function(M){if(!T(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},It.Component=B,It.Fragment=n,It.Profiler=l,It.PureComponent=it,It.StrictMode=s,It.Suspense=g,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,It.act=function(){throw Error("act(...) is not supported in production builds of React.")},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cloneElement=function(M,rt,yt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ut=L({},M.props),ct=M.key,Ot=void 0;if(rt!=null)for(xt in rt.ref!==void 0&&(Ot=void 0),rt.key!==void 0&&(ct=""+rt.key),rt)!St.call(rt,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&rt.ref===void 0||(ut[xt]=rt[xt]);var xt=arguments.length-2;if(xt===1)ut.children=yt;else if(1<xt){for(var Se=Array(xt),Qt=0;Qt<xt;Qt++)Se[Qt]=arguments[Qt+2];ut.children=Se}return V(M.type,ct,void 0,void 0,Ot,ut)},It.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},It.createElement=function(M,rt,yt){var ut,ct={},Ot=null;if(rt!=null)for(ut in rt.key!==void 0&&(Ot=""+rt.key),rt)St.call(rt,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(ct[ut]=rt[ut]);var xt=arguments.length-2;if(xt===1)ct.children=yt;else if(1<xt){for(var Se=Array(xt),Qt=0;Qt<xt;Qt++)Se[Qt]=arguments[Qt+2];ct.children=Se}if(M&&M.defaultProps)for(ut in xt=M.defaultProps,xt)ct[ut]===void 0&&(ct[ut]=xt[ut]);return V(M,Ot,void 0,void 0,null,ct)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:m,render:M}},It.isValidElement=T,It.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:bt}},It.memo=function(M,rt){return{$$typeof:y,type:M,compare:rt===void 0?null:rt}},It.startTransition=function(M){var rt=ot.T,yt={};ot.T=yt;try{var ut=M(),ct=ot.S;ct!==null&&ct(yt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Wt,At)}catch(Ot){At(Ot)}finally{ot.T=rt}},It.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},It.use=function(M){return ot.H.use(M)},It.useActionState=function(M,rt,yt){return ot.H.useActionState(M,rt,yt)},It.useCallback=function(M,rt){return ot.H.useCallback(M,rt)},It.useContext=function(M){return ot.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,rt){return ot.H.useDeferredValue(M,rt)},It.useEffect=function(M,rt){return ot.H.useEffect(M,rt)},It.useId=function(){return ot.H.useId()},It.useImperativeHandle=function(M,rt,yt){return ot.H.useImperativeHandle(M,rt,yt)},It.useInsertionEffect=function(M,rt){return ot.H.useInsertionEffect(M,rt)},It.useLayoutEffect=function(M,rt){return ot.H.useLayoutEffect(M,rt)},It.useMemo=function(M,rt){return ot.H.useMemo(M,rt)},It.useOptimistic=function(M,rt){return ot.H.useOptimistic(M,rt)},It.useReducer=function(M,rt,yt){return ot.H.useReducer(M,rt,yt)},It.useRef=function(M){return ot.H.useRef(M)},It.useState=function(M){return ot.H.useState(M)},It.useSyncExternalStore=function(M,rt,yt){return ot.H.useSyncExternalStore(M,rt,yt)},It.useTransition=function(){return ot.H.useTransition()},It.version="19.0.0",It}var i_;function ng(){return i_||(i_=1,Im.exports=Qb()),Im.exports}var G=ng(),Om={exports:{}},du={},Vm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function Gb(){return r_||(r_=1,function(r){function t(lt,bt){var At=lt.length;lt.push(bt);t:for(;0<At;){var Wt=At-1>>>1,M=lt[Wt];if(0<l(M,bt))lt[Wt]=bt,lt[At]=M,At=Wt;else break t}}function n(lt){return lt.length===0?null:lt[0]}function s(lt){if(lt.length===0)return null;var bt=lt[0],At=lt.pop();if(At!==bt){lt[0]=At;t:for(var Wt=0,M=lt.length,rt=M>>>1;Wt<rt;){var yt=2*(Wt+1)-1,ut=lt[yt],ct=yt+1,Ot=lt[ct];if(0>l(ut,At))ct<M&&0>l(Ot,ut)?(lt[Wt]=Ot,lt[ct]=At,Wt=ct):(lt[Wt]=ut,lt[yt]=At,Wt=yt);else if(ct<M&&0>l(Ot,At))lt[Wt]=Ot,lt[ct]=At,Wt=ct;else break t}}return bt}function l(lt,bt){var At=lt.sortIndex-bt.sortIndex;return At!==0?At:lt.id-bt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var g=[],y=[],A=1,b=null,w=3,O=!1,L=!1,F=!1,B=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function Z(lt){for(var bt=n(y);bt!==null;){if(bt.callback===null)s(y);else if(bt.startTime<=lt)s(y),bt.sortIndex=bt.expirationTime,t(g,bt);else break;bt=n(y)}}function dt(lt){if(F=!1,Z(lt),!L)if(n(g)!==null)L=!0,De();else{var bt=n(y);bt!==null&&Ee(dt,bt.startTime-lt)}}var ot=!1,St=-1,V=5,R=-1;function T(){return!(r.unstable_now()-R<V)}function x(){if(ot){var lt=r.unstable_now();R=lt;var bt=!0;try{t:{L=!1,F&&(F=!1,Y(St),St=-1),O=!0;var At=w;try{e:{for(Z(lt),b=n(g);b!==null&&!(b.expirationTime>lt&&T());){var Wt=b.callback;if(typeof Wt=="function"){b.callback=null,w=b.priorityLevel;var M=Wt(b.expirationTime<=lt);if(lt=r.unstable_now(),typeof M=="function"){b.callback=M,Z(lt),bt=!0;break e}b===n(g)&&s(g),Z(lt)}else s(g);b=n(g)}if(b!==null)bt=!0;else{var rt=n(y);rt!==null&&Ee(dt,rt.startTime-lt),bt=!1}}break t}finally{b=null,w=At,O=!1}bt=void 0}}finally{bt?N():ot=!1}}}var N;if(typeof it=="function")N=function(){it(x)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,I=H.port2;H.port1.onmessage=x,N=function(){I.postMessage(null)}}else N=function(){B(x,0)};function De(){ot||(ot=!0,N())}function Ee(lt,bt){St=B(function(){lt(r.unstable_now())},bt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(lt){lt.callback=null},r.unstable_continueExecution=function(){L||O||(L=!0,De())},r.unstable_forceFrameRate=function(lt){0>lt||125<lt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<lt?Math.floor(1e3/lt):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return n(g)},r.unstable_next=function(lt){switch(w){case 1:case 2:case 3:var bt=3;break;default:bt=w}var At=w;w=bt;try{return lt()}finally{w=At}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(lt,bt){switch(lt){case 1:case 2:case 3:case 4:case 5:break;default:lt=3}var At=w;w=lt;try{return bt()}finally{w=At}},r.unstable_scheduleCallback=function(lt,bt,At){var Wt=r.unstable_now();switch(typeof At=="object"&&At!==null?(At=At.delay,At=typeof At=="number"&&0<At?Wt+At:Wt):At=Wt,lt){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=At+M,lt={id:A++,callback:bt,priorityLevel:lt,startTime:At,expirationTime:M,sortIndex:-1},At>Wt?(lt.sortIndex=At,t(y,lt),n(g)===null&&lt===n(y)&&(F?(Y(St),St=-1):F=!0,Ee(dt,At-Wt))):(lt.sortIndex=M,t(g,lt),L||O||(L=!0,De())),lt},r.unstable_shouldYield=T,r.unstable_wrapCallback=function(lt){var bt=w;return function(){var At=w;w=bt;try{return lt.apply(this,arguments)}finally{w=At}}}}(Mm)),Mm}var s_;function Kb(){return s_||(s_=1,Vm.exports=Gb()),Vm.exports}var Nm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a_;function Yb(){if(a_)return en;a_=1;var r=ng();function t(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(g,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:y,implementation:A}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(g,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(g,y,null,A)},en.flushSync=function(g){var y=f.T,A=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=A,s.d.f()}},en.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},en.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},en.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var A=y.as,b=m(A,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:O}):A==="script"&&s.d.X(g,{crossOrigin:b,integrity:w,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},en.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=m(A,y.crossOrigin);s.d.L(g,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(g,y){if(typeof g=="string")if(y){var A=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},en.requestFormReset=function(g){s.d.r(g)},en.unstable_batchedUpdates=function(g,y){return g(y)},en.useFormState=function(g,y,A){return f.H.useFormState(g,y,A)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.0.0",en}var l_;function Xb(){if(l_)return Nm.exports;l_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nm.exports=Yb(),Nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o_;function Wb(){if(o_)return du;o_=1;var r=Kb(),t=ng(),n=Xb();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),O=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),it=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),dt=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function St(e){return e===null||typeof e!="object"?null:(e=ot&&e[ot]||e["@@iterator"],typeof e=="function"?e:null)}var V=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===V?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case m:return"Portal";case A:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case B:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case O:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case L:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y:return i=e.displayName||null,i!==null?i:R(e.type)||"Memo";case it:i=e._payload,e=e._init;try{return R(e(i))}catch{}}return null}var T=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,N,H;function I(e){if(N===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);N=i&&i[1]||"",H=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+H}var De=!1;function Ee(e,i){if(!e||De)return"";De=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(X){var Q=X}Reflect.construct(e,[],nt)}else{try{nt.call()}catch(X){Q=X}e.call(nt.prototype)}}else{try{throw Error()}catch(X){Q=X}(nt=e())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(X){if(X&&Q&&typeof X.stack=="string")return[X.stack,Q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var C=_.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var W=`
`+C[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=h);break}}}finally{De=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?I(a):""}function lt(e){switch(e.tag){case 26:case 27:case 5:return I(e.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return e=Ee(e.type,!1),e;case 11:return e=Ee(e.type.render,!1),e;case 1:return e=Ee(e.type,!0),e;default:return""}}function bt(e){try{var i="";do i+=lt(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function At(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,i.flags&4098&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function Wt(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function M(e){if(At(e)!==e)throw Error(s(188))}function rt(e){var i=e.alternate;if(!i){if(i=At(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),e;if(d===o)return M(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,E=h.child;E;){if(E===a){_=!0,a=h,o=d;break}if(E===o){_=!0,o=h,a=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===a){_=!0,a=d,o=h;break}if(E===o){_=!0,o=d,a=h;break}E=E.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function yt(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=yt(e),i!==null)return i;e=e.sibling}return null}var ut=Array.isArray,ct=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ot={pending:!1,data:null,method:null,action:null},xt=[],Se=-1;function Qt(e){return{current:e}}function fe(e){0>Se||(e.current=xt[Se],xt[Se]=null,Se--)}function te(e,i){Se++,xt[Se]=e.current,e.current=i}var ln=Qt(null),Mi=Qt(null),Dn=Qt(null),yr=Qt(null);function vr(e,i){switch(te(Dn,i),te(Mi,e),te(ln,null),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?D0(i):0;break;default:if(e=e===8?i.parentNode:i,i=e.tagName,e=e.namespaceURI)e=D0(e),i=x0(e,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}fe(ln),te(ln,i)}function Ni(){fe(ln),fe(Mi),fe(Dn)}function ao(e){e.memoizedState!==null&&te(yr,e);var i=ln.current,a=x0(i,e.type);i!==a&&(te(Mi,e),te(ln,a))}function xa(e){Mi.current===e&&(fe(ln),fe(Mi)),yr.current===e&&(fe(yr),lu._currentValue=Ot)}var Ia=Object.prototype.hasOwnProperty,Cs=r.unstable_scheduleCallback,Oa=r.unstable_cancelCallback,If=r.unstable_shouldYield,lo=r.unstable_requestPaint,pn=r.unstable_now,nc=r.unstable_getCurrentPriorityLevel,xe=r.unstable_ImmediatePriority,Le=r.unstable_UserBlockingPriority,Ui=r.unstable_NormalPriority,ic=r.unstable_LowPriority,oo=r.unstable_IdlePriority,Of=r.log,Ds=r.unstable_setDisableYieldValue,_r=null,$e=null;function uo(e){if($e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(_r,e,void 0,(e.current.flags&128)===128)}catch{}}function li(e){if(typeof Of=="function"&&Ds(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(_r,e)}catch{}}var on=Math.clz32?Math.clz32:sc,co=Math.log,rc=Math.LN2;function sc(e){return e>>>=0,e===0?32:31-(co(e)/rc|0)|0}var oi=128,Ar=4194304;function Xn(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function xn(e,i){var a=e.pendingLanes;if(a===0)return 0;var o=0,h=e.suspendedLanes,d=e.pingedLanes,_=e.warmLanes;e=e.finishedLanes!==0;var E=a&134217727;return E!==0?(a=E&~h,a!==0?o=Xn(a):(d&=E,d!==0?o=Xn(d):e||(_=E&~_,_!==0&&(o=Xn(_))))):(E=a&~h,E!==0?o=Xn(E):d!==0?o=Xn(d):e||(_=a&~_,_!==0&&(o=Xn(_)))),o===0?0:i!==0&&i!==o&&!(i&h)&&(h=o&-o,_=i&-i,h>=_||h===32&&(_&4194176)!==0)?i:o}function Er(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Va(e,i){switch(e){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ho(){var e=oi;return oi<<=1,!(oi&4194176)&&(oi=128),e}function Sr(){var e=Ar;return Ar<<=1,!(Ar&62914560)&&(Ar=4194304),e}function Ma(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ve(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ac(e,i,a,o,h,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(a=_&~a;0<a;){var W=31-on(a),nt=1<<W;E[W]=0,C[W]=-1;var Q=P[W];if(Q!==null)for(P[W]=null,W=0;W<Q.length;W++){var X=Q[W];X!==null&&(X.lane&=-536870913)}a&=~nt}o!==0&&Tr(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Tr(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-on(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194218}function br(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-on(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function lc(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function oc(){var e=ct.p;return e!==0?e:(e=window.event,e===void 0?32:K0(e.type))}function wr(e,i){var a=ct.p;try{return ct.p=e,i()}finally{ct.p=a}}var ui=Math.random().toString(36).slice(2),ke="__reactFiber$"+ui,Ie="__reactProps$"+ui,Pi="__reactContainer$"+ui,xs="__reactEvents$"+ui,Na="__reactListeners$"+ui,ci="__reactHandles$"+ui,fo="__reactResources$"+ui,Rr="__reactMarker$"+ui;function Is(e){delete e[ke],delete e[Ie],delete e[xs],delete e[Na],delete e[ci]}function Wn(e){var i=e[ke];if(i)return i;for(var a=e.parentNode;a;){if(i=a[Pi]||a[ke]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=V0(e);e!==null;){if(a=e[ke])return a;e=V0(e)}return i}e=a,a=e.parentNode}return null}function Bi(e){if(e=e[ke]||e[Pi]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Cr(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Dr(e){var i=e[fo];return i||(i=e[fo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function le(e){e[Rr]=!0}var mo=new Set,Ua={};function En(e,i){gn(e,i),gn(e+"Capture",i)}function gn(e,i){for(Ua[e]=i,e=0;e<i.length;e++)mo.add(i[e])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),po={},go={};function uc(e){return Ia.call(go,e)?!0:Ia.call(po,e)?!1:Vf.test(e)?go[e]=!0:(po[e]=!0,!1)}function xr(e,i,a){if(uc(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Ir(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function In(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function un(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mf(e){var i=cc(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Os(e){e._valueTracker||(e._valueTracker=Mf(e))}function yo(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=cc(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Pa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Li=/[\n"\\]/g;function de(e){return e.replace(Li,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Or(e,i,a,o,h,d,_,E){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+un(i)):e.value!==""+un(i)&&(e.value=""+un(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Ba(e,_,un(i)):a!=null?Ba(e,_,un(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+un(E):e.removeAttribute("name")}function Vs(e,i,a,o,h,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+un(a):"",i=i!=null?""+un(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_)}function Ba(e,i,a){i==="number"&&Pa(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Gt(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+un(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Ms(e,i,a){if(i!=null&&(i=""+un(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+un(a):""}function Vr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ut(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=un(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function On(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var Nf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vo(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||Nf.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function hc(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&vo(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&vo(e,d,i[d])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(e){return Pf.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Vn=null;function La(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ki=null,zi=null;function Hi(e){var i=Bi(e);if(i&&(e=i.stateNode)){var a=e[Ie]||null;t:switch(e=i.stateNode,i.type){case"input":if(Or(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[Ie]||null;if(!h)throw Error(s(90));Or(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&yo(o)}break t;case"textarea":Ms(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Gt(e,!!a.multiple,i,!1)}}}var Ao=!1;function fc(e,i,a){if(Ao)return e(i,a);Ao=!0;try{var o=e(i);return o}finally{if(Ao=!1,(ki!==null||zi!==null)&&(ih(),ki&&(i=ki,e=zi,zi=ki=null,Hi(i),e)))for(i=0;i<e.length;i++)Hi(e[i])}}function Ns(e,i){var a=e.stateNode;if(a===null)return null;var o=a[Ie]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Mn=!1;if(Sn)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{Mn=!1}var fi=null,Mr=null,ji=null;function Eo(){if(ji)return ji;var e,i=Mr,a=i.length,o,h="value"in fi?fi.value:fi.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var _=a-e;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return ji=h.slice(e,1<o?1-o:void 0)}function di(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function mi(){return!0}function So(){return!1}function ze(e){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mi:So,this.isPropagationStopped=So,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),i}var Zt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=ze(Zt),Ps=x({},Zt,{view:0,detail:0}),dc=ze(Ps),za,Ha,pi,Bs=x({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(za=e.screenX-pi.screenX,Ha=e.screenY-pi.screenY):Ha=za=0,pi=e),za)},movementY:function(e){return"movementY"in e?e.movementY:Ha}}),Nn=ze(Bs),mc=x({},Bs,{dataTransfer:0}),Bf=ze(mc),Ls=x({},Ps,{relatedTarget:0}),ja=ze(Ls),To=x({},Zt,{animationName:0,elapsedTime:0,pseudoElement:0}),qa=ze(To),pc=x({},Zt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fa=ze(pc),Lf=x({},Zt,{data:0}),bo=ze(Lf),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=yc[e])?!!i[e]:!1}function zs(){return wo}var vc=x({},Ps,{key:function(e){if(e.key){var i=ks[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(e){return e.type==="keypress"?di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qa=ze(vc),_c=x({},Bs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=ze(_c),qi=x({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Ac=ze(qi),Ec=x({},Zt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sc=ze(Ec),Tc=x({},Bs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ga=ze(Tc),cn=x({},Zt,{newState:0,oldState:0}),bc=ze(cn),wc=[9,13,27,32],gi=Sn&&"CompositionEvent"in window,c=null;Sn&&"documentMode"in document&&(c=document.documentMode);var p=Sn&&"TextEvent"in window&&!c,v=Sn&&(!gi||c&&8<c&&11>=c),S=" ",j=!1;function K(e,i){switch(e){case"keyup":return wc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function st(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var zt=!1;function Oe(e,i){switch(e){case"compositionend":return st(i);case"keypress":return i.which!==32?null:(j=!0,S);case"textInput":return e=i.data,e===S&&j?null:e;default:return null}}function Ht(e,i){if(zt)return e==="compositionend"||!gi&&K(e,i)?(e=Eo(),ji=Mr=fi=null,zt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var He={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ve(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!He[e.type]:i==="textarea"}function Fi(e,i,a,o){ki?zi?zi.push(o):zi=[o]:ki=o,i=oh(i,"onChange"),0<i.length&&(a=new ka("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ge=null,yi=null;function Co(e){T0(e,0)}function Rc(e){var i=Cr(e);if(yo(i))return e}function Jg(e,i){if(e==="change")return i}var $g=!1;if(Sn){var kf;if(Sn){var zf="oninput"in document;if(!zf){var ty=document.createElement("div");ty.setAttribute("oninput","return;"),zf=typeof ty.oninput=="function"}kf=zf}else kf=!1;$g=kf&&(!document.documentMode||9<document.documentMode)}function ey(){Ge&&(Ge.detachEvent("onpropertychange",ny),yi=Ge=null)}function ny(e){if(e.propertyName==="value"&&Rc(yi)){var i=[];Fi(i,yi,e,La(e)),fc(Co,i)}}function yT(e,i,a){e==="focusin"?(ey(),Ge=i,yi=a,Ge.attachEvent("onpropertychange",ny)):e==="focusout"&&ey()}function vT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Rc(yi)}function _T(e,i){if(e==="click")return Rc(i)}function AT(e,i){if(e==="input"||e==="change")return Rc(i)}function ET(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Tn=typeof Object.is=="function"?Object.is:ET;function Do(e,i){if(Tn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Ia.call(i,h)||!Tn(e[h],i[h]))return!1}return!0}function iy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ry(e,i){var a=iy(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=iy(a)}}function sy(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?sy(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ay(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Pa(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Pa(e.document)}return i}function Hf(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function ST(e,i){var a=ay(i);i=e.focusedElem;var o=e.selectionRange;if(a!==i&&i&&i.ownerDocument&&sy(i.ownerDocument.documentElement,i)){if(o!==null&&Hf(i)){if(e=o.start,a=o.end,a===void 0&&(a=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(a,i.value.length);else if(a=(e=i.ownerDocument||document)&&e.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(o.start,h);o=o.end===void 0?d:Math.min(o.end,h),!a.extend&&d>o&&(h=o,o=d,d=h),h=ry(i,d);var _=ry(i,o);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(e=e.createRange(),e.setStart(h.node,h.offset),a.removeAllRanges(),d>o?(a.addRange(e),a.extend(_.node,_.offset)):(e.setEnd(_.node,_.offset),a.addRange(e)))}}for(e=[],a=i;a=a.parentNode;)a.nodeType===1&&e.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)a=e[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var TT=Sn&&"documentMode"in document&&11>=document.documentMode,Ka=null,jf=null,xo=null,qf=!1;function ly(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;qf||Ka==null||Ka!==Pa(o)||(o=Ka,"selectionStart"in o&&Hf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),xo&&Do(xo,o)||(xo=o,o=oh(jf,"onSelect"),0<o.length&&(i=new ka("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=Ka)))}function Hs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ya={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Ff={},oy={};Sn&&(oy=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function js(e){if(Ff[e])return Ff[e];if(!Ya[e])return e;var i=Ya[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in oy)return Ff[e]=i[a];return e}var uy=js("animationend"),cy=js("animationiteration"),hy=js("animationstart"),bT=js("transitionrun"),wT=js("transitionstart"),RT=js("transitioncancel"),fy=js("transitionend"),dy=new Map,my="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Zn(e,i){dy.set(e,i),En(i,[e])}var Un=[],Xa=0,Qf=0;function Cc(){for(var e=Xa,i=Qf=Xa=0;i<e;){var a=Un[i];Un[i++]=null;var o=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&py(a,h,d)}}function Dc(e,i,a,o){Un[Xa++]=e,Un[Xa++]=i,Un[Xa++]=a,Un[Xa++]=o,Qf|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Gf(e,i,a,o){return Dc(e,i,a,o),xc(e)}function Nr(e,i){return Dc(e,null,null,i),xc(e)}function py(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;h&&i!==null&&e.tag===3&&(d=e.stateNode,h=31-on(a),d=d.hiddenUpdates,e=d[h],e===null?d[h]=[i]:e.push(i),i.lane=a|536870912)}function xc(e){if(50<tu)throw tu=0,Jd=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Wa={},gy=new WeakMap;function Pn(e,i){if(typeof e=="object"&&e!==null){var a=gy.get(e);return a!==void 0?a:(i={value:e,source:i,stack:bt(i)},gy.set(e,i),i)}return{value:e,source:i,stack:bt(i)}}var Za=[],Ja=0,Ic=null,Oc=0,Bn=[],Ln=0,qs=null,Qi=1,Gi="";function Fs(e,i){Za[Ja++]=Oc,Za[Ja++]=Ic,Ic=e,Oc=i}function yy(e,i,a){Bn[Ln++]=Qi,Bn[Ln++]=Gi,Bn[Ln++]=qs,qs=e;var o=Qi;e=Gi;var h=32-on(o)-1;o&=~(1<<h),a+=1;var d=32-on(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,Qi=1<<32-on(i)+h|a<<h|o,Gi=d+e}else Qi=1<<d|a<<h|o,Gi=e}function Kf(e){e.return!==null&&(Fs(e,1),yy(e,1,0))}function Yf(e){for(;e===Ic;)Ic=Za[--Ja],Za[Ja]=null,Oc=Za[--Ja],Za[Ja]=null;for(;e===qs;)qs=Bn[--Ln],Bn[Ln]=null,Gi=Bn[--Ln],Bn[Ln]=null,Qi=Bn[--Ln],Bn[Ln]=null}var hn=null,Ke=null,Kt=!1,Jn=null,vi=!1,Xf=Error(s(519));function Qs(e){var i=Error(s(418,""));throw Vo(Pn(i,e)),Xf}function vy(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ke]=e,i[Ie]=o,a){case"dialog":Bt("cancel",i),Bt("close",i);break;case"iframe":case"object":case"embed":Bt("load",i);break;case"video":case"audio":for(a=0;a<nu.length;a++)Bt(nu[a],i);break;case"source":Bt("error",i);break;case"img":case"image":case"link":Bt("error",i),Bt("load",i);break;case"details":Bt("toggle",i);break;case"input":Bt("invalid",i),Vs(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Os(i);break;case"select":Bt("invalid",i);break;case"textarea":Bt("invalid",i),Vr(i,o.value,o.defaultValue,o.children),Os(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||C0(i.textContent,a)?(o.popover!=null&&(Bt("beforetoggle",i),Bt("toggle",i)),o.onScroll!=null&&Bt("scroll",i),o.onScrollEnd!=null&&Bt("scrollend",i),o.onClick!=null&&(i.onclick=uh),i=!0):i=!1,i||Qs(e)}function _y(e){for(hn=e.return;hn;)switch(hn.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:hn=hn.return}}function Io(e){if(e!==hn)return!1;if(!Kt)return _y(e),Kt=!0,!1;var i=!1,a;if((a=e.tag!==3&&e.tag!==27)&&((a=e.tag===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||pm(e.type,e.memoizedProps)),a=!a),a&&(i=!0),i&&Ke&&Qs(e),_y(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){Ke=ti(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}Ke=null}}else Ke=hn?ti(e.stateNode.nextSibling):null;return!0}function Oo(){Ke=hn=null,Kt=!1}function Vo(e){Jn===null?Jn=[e]:Jn.push(e)}var Mo=Error(s(460)),Ay=Error(s(474)),Wf={then:function(){}};function Ey(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vc(){}function Sy(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Vc,Vc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Mo?Error(s(483)):e;default:if(typeof i.status=="string")i.then(Vc,Vc);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,e===Mo?Error(s(483)):e}throw No=i,Mo}}var No=null;function Ty(){if(No===null)throw Error(s(459));var e=No;return No=null,e}var $a=null,Uo=0;function Mc(e){var i=Uo;return Uo+=1,$a===null&&($a=[]),Sy($a,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Nc(e,i){throw i.$$typeof===u?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function by(e){var i=e._init;return i(e._payload)}function wy(e){function i(z,U){if(e){var q=z.deletions;q===null?(z.deletions=[U],z.flags|=16):q.push(U)}}function a(z,U){if(!e)return null;for(;U!==null;)i(z,U),U=U.sibling;return null}function o(z){for(var U=new Map;z!==null;)z.key!==null?U.set(z.key,z):U.set(z.index,z),z=z.sibling;return U}function h(z,U){return z=Gr(z,U),z.index=0,z.sibling=null,z}function d(z,U,q){return z.index=q,e?(q=z.alternate,q!==null?(q=q.index,q<U?(z.flags|=33554434,U):q):(z.flags|=33554434,U)):(z.flags|=1048576,U)}function _(z){return e&&z.alternate===null&&(z.flags|=33554434),z}function E(z,U,q,J){return U===null||U.tag!==6?(U=Fd(q,z.mode,J),U.return=z,U):(U=h(U,q),U.return=z,U)}function C(z,U,q,J){var mt=q.type;return mt===g?W(z,U,q.props.children,J,q.key):U!==null&&(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===it&&by(mt)===U.type)?(U=h(U,q.props),Po(U,q),U.return=z,U):(U=Jc(q.type,q.key,q.props,null,z.mode,J),Po(U,q),U.return=z,U)}function P(z,U,q,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Qd(q,z.mode,J),U.return=z,U):(U=h(U,q.children||[]),U.return=z,U)}function W(z,U,q,J,mt){return U===null||U.tag!==7?(U=ea(q,z.mode,J,mt),U.return=z,U):(U=h(U,q),U.return=z,U)}function nt(z,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Fd(""+U,z.mode,q),U.return=z,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case f:return q=Jc(U.type,U.key,U.props,null,z.mode,q),Po(q,U),q.return=z,q;case m:return U=Qd(U,z.mode,q),U.return=z,U;case it:var J=U._init;return U=J(U._payload),nt(z,U,q)}if(ut(U)||St(U))return U=ea(U,z.mode,q,null),U.return=z,U;if(typeof U.then=="function")return nt(z,Mc(U),q);if(U.$$typeof===O)return nt(z,Xc(z,U),q);Nc(z,U)}return null}function Q(z,U,q,J){var mt=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return mt!==null?null:E(z,U,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case f:return q.key===mt?C(z,U,q,J):null;case m:return q.key===mt?P(z,U,q,J):null;case it:return mt=q._init,q=mt(q._payload),Q(z,U,q,J)}if(ut(q)||St(q))return mt!==null?null:W(z,U,q,J,null);if(typeof q.then=="function")return Q(z,U,Mc(q),J);if(q.$$typeof===O)return Q(z,U,Xc(z,q),J);Nc(z,q)}return null}function X(z,U,q,J,mt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return z=z.get(q)||null,E(U,z,""+J,mt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case f:return z=z.get(J.key===null?q:J.key)||null,C(U,z,J,mt);case m:return z=z.get(J.key===null?q:J.key)||null,P(U,z,J,mt);case it:var Nt=J._init;return J=Nt(J._payload),X(z,U,q,J,mt)}if(ut(J)||St(J))return z=z.get(q)||null,W(U,z,J,mt,null);if(typeof J.then=="function")return X(z,U,q,Mc(J),mt);if(J.$$typeof===O)return X(z,U,q,Xc(U,J),mt);Nc(U,J)}return null}function gt(z,U,q,J){for(var mt=null,Nt=null,_t=U,Tt=U=0,Fe=null;_t!==null&&Tt<q.length;Tt++){_t.index>Tt?(Fe=_t,_t=null):Fe=_t.sibling;var Yt=Q(z,_t,q[Tt],J);if(Yt===null){_t===null&&(_t=Fe);break}e&&_t&&Yt.alternate===null&&i(z,_t),U=d(Yt,U,Tt),Nt===null?mt=Yt:Nt.sibling=Yt,Nt=Yt,_t=Fe}if(Tt===q.length)return a(z,_t),Kt&&Fs(z,Tt),mt;if(_t===null){for(;Tt<q.length;Tt++)_t=nt(z,q[Tt],J),_t!==null&&(U=d(_t,U,Tt),Nt===null?mt=_t:Nt.sibling=_t,Nt=_t);return Kt&&Fs(z,Tt),mt}for(_t=o(_t);Tt<q.length;Tt++)Fe=X(_t,z,Tt,q[Tt],J),Fe!==null&&(e&&Fe.alternate!==null&&_t.delete(Fe.key===null?Tt:Fe.key),U=d(Fe,U,Tt),Nt===null?mt=Fe:Nt.sibling=Fe,Nt=Fe);return e&&_t.forEach(function($r){return i(z,$r)}),Kt&&Fs(z,Tt),mt}function Ct(z,U,q,J){if(q==null)throw Error(s(151));for(var mt=null,Nt=null,_t=U,Tt=U=0,Fe=null,Yt=q.next();_t!==null&&!Yt.done;Tt++,Yt=q.next()){_t.index>Tt?(Fe=_t,_t=null):Fe=_t.sibling;var $r=Q(z,_t,Yt.value,J);if($r===null){_t===null&&(_t=Fe);break}e&&_t&&$r.alternate===null&&i(z,_t),U=d($r,U,Tt),Nt===null?mt=$r:Nt.sibling=$r,Nt=$r,_t=Fe}if(Yt.done)return a(z,_t),Kt&&Fs(z,Tt),mt;if(_t===null){for(;!Yt.done;Tt++,Yt=q.next())Yt=nt(z,Yt.value,J),Yt!==null&&(U=d(Yt,U,Tt),Nt===null?mt=Yt:Nt.sibling=Yt,Nt=Yt);return Kt&&Fs(z,Tt),mt}for(_t=o(_t);!Yt.done;Tt++,Yt=q.next())Yt=X(_t,z,Tt,Yt.value,J),Yt!==null&&(e&&Yt.alternate!==null&&_t.delete(Yt.key===null?Tt:Yt.key),U=d(Yt,U,Tt),Nt===null?mt=Yt:Nt.sibling=Yt,Nt=Yt);return e&&_t.forEach(function(zb){return i(z,zb)}),Kt&&Fs(z,Tt),mt}function ge(z,U,q,J){if(typeof q=="object"&&q!==null&&q.type===g&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case f:t:{for(var mt=q.key;U!==null;){if(U.key===mt){if(mt=q.type,mt===g){if(U.tag===7){a(z,U.sibling),J=h(U,q.props.children),J.return=z,z=J;break t}}else if(U.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===it&&by(mt)===U.type){a(z,U.sibling),J=h(U,q.props),Po(J,q),J.return=z,z=J;break t}a(z,U);break}else i(z,U);U=U.sibling}q.type===g?(J=ea(q.props.children,z.mode,J,q.key),J.return=z,z=J):(J=Jc(q.type,q.key,q.props,null,z.mode,J),Po(J,q),J.return=z,z=J)}return _(z);case m:t:{for(mt=q.key;U!==null;){if(U.key===mt)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(z,U.sibling),J=h(U,q.children||[]),J.return=z,z=J;break t}else{a(z,U);break}else i(z,U);U=U.sibling}J=Qd(q,z.mode,J),J.return=z,z=J}return _(z);case it:return mt=q._init,q=mt(q._payload),ge(z,U,q,J)}if(ut(q))return gt(z,U,q,J);if(St(q)){if(mt=St(q),typeof mt!="function")throw Error(s(150));return q=mt.call(q),Ct(z,U,q,J)}if(typeof q.then=="function")return ge(z,U,Mc(q),J);if(q.$$typeof===O)return ge(z,U,Xc(z,q),J);Nc(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(z,U.sibling),J=h(U,q),J.return=z,z=J):(a(z,U),J=Fd(q,z.mode,J),J.return=z,z=J),_(z)):a(z,U)}return function(z,U,q,J){try{Uo=0;var mt=ge(z,U,q,J);return $a=null,mt}catch(_t){if(_t===Mo)throw _t;var Nt=jn(29,_t,null,z.mode);return Nt.lanes=J,Nt.return=z,Nt}finally{}}}var Gs=wy(!0),Ry=wy(!1),tl=Qt(null),Uc=Qt(0);function Cy(e,i){e=ir,te(Uc,e),te(tl,i),ir=e|i.baseLanes}function Zf(){te(Uc,ir),te(tl,tl.current)}function Jf(){ir=Uc.current,fe(tl),fe(Uc)}var kn=Qt(null),_i=null;function Ur(e){var i=e.alternate;te(Me,Me.current&1),te(kn,e),_i===null&&(i===null||tl.current!==null||i.memoizedState!==null)&&(_i=e)}function Dy(e){if(e.tag===22){if(te(Me,Me.current),te(kn,e),_i===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(_i=e)}}else Pr()}function Pr(){te(Me,Me.current),te(kn,kn.current)}function Ki(e){fe(kn),_i===e&&(_i=null),fe(Me)}var Me=Qt(0);function Pc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var CT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},DT=r.unstable_scheduleCallback,xT=r.unstable_NormalPriority,Ne={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $f(){return{controller:new CT,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&DT(xT,function(){e.controller.abort()})}var Lo=null,td=0,el=0,nl=null;function IT(e,i){if(Lo===null){var a=Lo=[];td=0,el=am(),nl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return td++,i.then(xy,xy),i}function xy(){if(--td===0&&Lo!==null){nl!==null&&(nl.status="fulfilled");var e=Lo;Lo=null,el=0,nl=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function OT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Iy=T.S;T.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&IT(e,i),Iy!==null&&Iy(e,i)};var Ks=Qt(null);function ed(){var e=Ks.current;return e!==null?e:re.pooledCache}function Bc(e,i){i===null?te(Ks,Ks.current):te(Ks,i.pool)}function Oy(){var e=ed();return e===null?null:{parent:Ne._currentValue,pool:e}}var Br=0,Mt=null,ee=null,Te=null,Lc=!1,il=!1,Ys=!1,kc=0,ko=0,rl=null,VT=0;function _e(){throw Error(s(321))}function nd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Tn(e[a],i[a]))return!1;return!0}function id(e,i,a,o,h,d){return Br=d,Mt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,T.H=e===null||e.memoizedState===null?Xs:Lr,Ys=!1,d=a(o,h),Ys=!1,il&&(d=My(i,a,o,h)),Vy(e),d}function Vy(e){T.H=Ai;var i=ee!==null&&ee.next!==null;if(Br=0,Te=ee=Mt=null,Lc=!1,ko=0,rl=null,i)throw Error(s(300));e===null||je||(e=e.dependencies,e!==null&&Yc(e)&&(je=!0))}function My(e,i,a,o){Mt=e;var h=0;do{if(il&&(rl=null),ko=0,il=!1,25<=h)throw Error(s(301));if(h+=1,Te=ee=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}T.H=Ws,d=i(a,o)}while(il);return d}function MT(){var e=T.H,i=e.useState()[0];return i=typeof i.then=="function"?zo(i):i,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Mt.flags|=1024),i}function rd(){var e=kc!==0;return kc=0,e}function sd(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ad(e){if(Lc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Lc=!1}Br=0,Te=ee=Mt=null,il=!1,ko=kc=0,rl=null}function yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?Mt.memoizedState=Te=e:Te=Te.next=e,Te}function be(){if(ee===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var i=Te===null?Mt.memoizedState:Te.next;if(i!==null)Te=i,ee=e;else{if(e===null)throw Mt.alternate===null?Error(s(467)):Error(s(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Te===null?Mt.memoizedState=Te=e:Te=Te.next=e}return Te}var zc;zc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function zo(e){var i=ko;return ko+=1,rl===null&&(rl=[]),e=Sy(rl,e,i),i=Mt,(Te===null?i.memoizedState:Te.next)===null&&(i=i.alternate,T.H=i===null||i.memoizedState===null?Xs:Lr),e}function Hc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return zo(e);if(e.$$typeof===O)return tn(e)}throw Error(s(438,String(e)))}function ld(e){var i=null,a=Mt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=zc(),Mt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=dt;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function jc(e){var i=be();return od(i,ee,e)}function od(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=_=null,C=null,P=i,W=!1;do{var nt=P.lane&-536870913;if(nt!==P.lane?(jt&nt)===nt:(Br&nt)===nt){var Q=P.revertLane;if(Q===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),nt===el&&(W=!0);else if((Br&Q)===Q){P=P.next,Q===el&&(W=!0);continue}else nt={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=nt,_=d):C=C.next=nt,Mt.lanes|=Q,Kr|=Q;nt=P.action,Ys&&a(d,nt),d=P.hasEagerState?P.eagerState:a(d,nt)}else Q={lane:nt,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Q,_=d):C=C.next=Q,Mt.lanes|=nt,Kr|=nt;P=P.next}while(P!==null&&P!==i);if(C===null?_=d:C.next=E,!Tn(d,e.memoizedState)&&(je=!0,W&&(a=nl,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=C,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function ud(e){var i=be(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=e(d,_.action),_=_.next;while(_!==h);Tn(d,i.memoizedState)||(je=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Ny(e,i,a){var o=Mt,h=be(),d=Kt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!Tn((ee||h).memoizedState,a);if(_&&(h.memoizedState=a,je=!0),h=h.queue,fd(By.bind(null,o,h,e),[e]),h.getSnapshot!==i||_||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,sl(9,Py.bind(null,o,h,a,i),{destroy:void 0},null),re===null)throw Error(s(349));d||Br&60||Uy(o,i,a)}return a}function Uy(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Mt.updateQueue,i===null?(i=zc(),Mt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Py(e,i,a,o){i.value=a,i.getSnapshot=o,Ly(i)&&ky(e)}function By(e,i,a){return a(function(){Ly(i)&&ky(e)})}function Ly(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Tn(e,a)}catch{return!0}}function ky(e){var i=Nr(e,2);i!==null&&fn(i,e,2)}function cd(e){var i=yn();if(typeof e=="function"){var a=e;if(e=a(),Ys){li(!0);try{a()}finally{li(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function zy(e,i,a,o){return e.baseState=a,od(e,ee,typeof o=="function"?o:Yi)}function NT(e,i,a,o,h){if(Qc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};T.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Hy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hy(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=T.T,_={};T.T=_;try{var E=a(h,o),C=T.S;C!==null&&C(_,E),jy(e,i,E)}catch(P){hd(e,i,P)}finally{T.T=d}}else try{d=a(h,o),jy(e,i,d)}catch(P){hd(e,i,P)}}function jy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){qy(e,i,o)},function(o){return hd(e,i,o)}):qy(e,i,a)}function qy(e,i,a){i.status="fulfilled",i.value=a,Fy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Hy(e,a)))}function hd(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Fy(i),i=i.next;while(i!==o)}e.action=null}function Fy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Qy(e,i){return i}function Gy(e,i){if(Kt){var a=re.formState;if(a!==null){t:{var o=Mt;if(Kt){if(Ke){e:{for(var h=Ke,d=vi;h.nodeType!==8;){if(!d){h=null;break e}if(h=ti(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ke=ti(h.nextSibling),o=h.data==="F!";break t}}Qs(o)}o=!1}o&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qy,lastRenderedState:i},a.queue=o,a=cv.bind(null,Mt,o),o.dispatch=a,o=cd(!1),d=yd.bind(null,Mt,!1,o.queue),o=yn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=NT.bind(null,Mt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Ky(e){var i=be();return Yy(i,ee,e)}function Yy(e,i,a){i=od(e,i,Qy)[0],e=jc(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?zo(i):i;var o=be(),h=o.queue,d=h.dispatch;return a!==o.memoizedState&&(Mt.flags|=2048,sl(9,UT.bind(null,h,a),{destroy:void 0},null)),[i,d,e]}function UT(e,i){e.action=i}function Xy(e){var i=be(),a=ee;if(a!==null)return Yy(i,a,e);be(),i=i.memoizedState,a=be();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function sl(e,i,a,o){return e={tag:e,create:i,inst:a,deps:o,next:null},i=Mt.updateQueue,i===null&&(i=zc(),Mt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Wy(){return be().memoizedState}function qc(e,i,a,o){var h=yn();Mt.flags|=e,h.memoizedState=sl(1|i,a,{destroy:void 0},o===void 0?null:o)}function Fc(e,i,a,o){var h=be();o=o===void 0?null:o;var d=h.memoizedState.inst;ee!==null&&o!==null&&nd(o,ee.memoizedState.deps)?h.memoizedState=sl(i,a,d,o):(Mt.flags|=e,h.memoizedState=sl(1|i,a,d,o))}function Zy(e,i){qc(8390656,8,e,i)}function fd(e,i){Fc(2048,8,e,i)}function Jy(e,i){return Fc(4,2,e,i)}function $y(e,i){return Fc(4,4,e,i)}function tv(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function ev(e,i,a){a=a!=null?a.concat([e]):null,Fc(4,4,tv.bind(null,i,e),a)}function dd(){}function nv(e,i){var a=be();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&nd(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function iv(e,i){var a=be();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&nd(i,o[1]))return o[0];if(o=e(),Ys){li(!0);try{e()}finally{li(!1)}}return a.memoizedState=[o,i],o}function md(e,i,a){return a===void 0||Br&1073741824?e.memoizedState=i:(e.memoizedState=a,e=s0(),Mt.lanes|=e,Kr|=e,a)}function rv(e,i,a,o){return Tn(a,i)?a:tl.current!==null?(e=md(e,a,o),Tn(e,i)||(je=!0),e):Br&42?(e=s0(),Mt.lanes|=e,Kr|=e,i):(je=!0,e.memoizedState=a)}function sv(e,i,a,o,h){var d=ct.p;ct.p=d!==0&&8>d?d:8;var _=T.T,E={};T.T=E,yd(e,!1,i,a);try{var C=h(),P=T.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=OT(C,o);Ho(e,i,W,Cn(e))}else Ho(e,i,o,Cn(e))}catch(nt){Ho(e,i,{then:function(){},status:"rejected",reason:nt},Cn())}finally{ct.p=d,T.T=_}}function PT(){}function pd(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=av(e).queue;sv(e,h,i,Ot,a===null?PT:function(){return lv(e),a(o)})}function av(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:Ot,baseState:Ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Ot},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function lv(e){var i=av(e).next.queue;Ho(e,i,{},Cn())}function gd(){return tn(lu)}function ov(){return be().memoizedState}function uv(){return be().memoizedState}function BT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();e=Hr(a);var o=jr(i,e,a);o!==null&&(fn(o,i,a),Fo(o,i,a)),i={cache:$f()},e.payload=i;return}i=i.return}}function LT(e,i,a){var o=Cn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qc(e)?hv(i,a):(a=Gf(e,i,a,o),a!==null&&(fn(a,e,o),fv(a,i,o)))}function cv(e,i,a){var o=Cn();Ho(e,i,a,o)}function Ho(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qc(e))hv(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,E=d(_,a);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,_))return Dc(e,i,h,0),re===null&&Cc(),!1}catch{}finally{}if(a=Gf(e,i,h,o),a!==null)return fn(a,e,o),fv(a,i,o),!0}return!1}function yd(e,i,a,o){if(o={lane:2,revertLane:am(),action:o,hasEagerState:!1,eagerState:null,next:null},Qc(e)){if(i)throw Error(s(479))}else i=Gf(e,a,o,2),i!==null&&fn(i,e,2)}function Qc(e){var i=e.alternate;return e===Mt||i!==null&&i===Mt}function hv(e,i){il=Lc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function fv(e,i,a){if(a&4194176){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,br(e,a)}}var Ai={readContext:tn,use:Hc,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e};Ai.useCacheRefresh=_e,Ai.useMemoCache=_e,Ai.useHostTransitionStatus=_e,Ai.useFormState=_e,Ai.useActionState=_e,Ai.useOptimistic=_e;var Xs={readContext:tn,use:Hc,useCallback:function(e,i){return yn().memoizedState=[e,i===void 0?null:i],e},useContext:tn,useEffect:Zy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,qc(4194308,4,tv.bind(null,i,e),a)},useLayoutEffect:function(e,i){return qc(4194308,4,e,i)},useInsertionEffect:function(e,i){qc(4,2,e,i)},useMemo:function(e,i){var a=yn();i=i===void 0?null:i;var o=e();if(Ys){li(!0);try{e()}finally{li(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=yn();if(a!==void 0){var h=a(i);if(Ys){li(!0);try{a(i)}finally{li(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=LT.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var i=yn();return e={current:e},i.memoizedState=e},useState:function(e){e=cd(e);var i=e.queue,a=cv.bind(null,Mt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(e,i){var a=yn();return md(a,e,i)},useTransition:function(){var e=cd(!1);return e=sv.bind(null,Mt,e.queue,!0,!1),yn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Mt,h=yn();if(Kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));jt&60||Uy(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zy(By.bind(null,o,d,e),[e]),o.flags|=2048,sl(9,Py.bind(null,o,d,a,i),{destroy:void 0},null),a},useId:function(){var e=yn(),i=re.identifierPrefix;if(Kt){var a=Gi,o=Qi;a=(o&~(1<<32-on(o)-1)).toString(32)+a,i=":"+i+"R"+a,a=kc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=VT++,i=":"+i+"r"+a.toString(32)+":";return e.memoizedState=i},useCacheRefresh:function(){return yn().memoizedState=BT.bind(null,Mt)}};Xs.useMemoCache=ld,Xs.useHostTransitionStatus=gd,Xs.useFormState=Gy,Xs.useActionState=Gy,Xs.useOptimistic=function(e){var i=yn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Mt,!0,a),a.dispatch=i,[e,i]};var Lr={readContext:tn,use:Hc,useCallback:nv,useContext:tn,useEffect:fd,useImperativeHandle:ev,useInsertionEffect:Jy,useLayoutEffect:$y,useMemo:iv,useReducer:jc,useRef:Wy,useState:function(){return jc(Yi)},useDebugValue:dd,useDeferredValue:function(e,i){var a=be();return rv(a,ee.memoizedState,e,i)},useTransition:function(){var e=jc(Yi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:zo(e),i]},useSyncExternalStore:Ny,useId:ov};Lr.useCacheRefresh=uv,Lr.useMemoCache=ld,Lr.useHostTransitionStatus=gd,Lr.useFormState=Ky,Lr.useActionState=Ky,Lr.useOptimistic=function(e,i){var a=be();return zy(a,ee,e,i)};var Ws={readContext:tn,use:Hc,useCallback:nv,useContext:tn,useEffect:fd,useImperativeHandle:ev,useInsertionEffect:Jy,useLayoutEffect:$y,useMemo:iv,useReducer:ud,useRef:Wy,useState:function(){return ud(Yi)},useDebugValue:dd,useDeferredValue:function(e,i){var a=be();return ee===null?md(a,e,i):rv(a,ee.memoizedState,e,i)},useTransition:function(){var e=ud(Yi)[0],i=be().memoizedState;return[typeof e=="boolean"?e:zo(e),i]},useSyncExternalStore:Ny,useId:ov};Ws.useCacheRefresh=uv,Ws.useMemoCache=ld,Ws.useHostTransitionStatus=gd,Ws.useFormState=Xy,Ws.useActionState=Xy,Ws.useOptimistic=function(e,i){var a=be();return ee!==null?zy(a,ee,e,i):(a.baseState=e,[e,a.queue.dispatch])};function vd(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:x({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var _d={isMounted:function(e){return(e=e._reactInternals)?At(e)===e:!1},enqueueSetState:function(e,i,a){e=e._reactInternals;var o=Cn(),h=Hr(o);h.payload=i,a!=null&&(h.callback=a),i=jr(e,h,o),i!==null&&(fn(i,e,o),Fo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=Cn(),h=Hr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=jr(e,h,o),i!==null&&(fn(i,e,o),Fo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=Cn(),o=Hr(a);o.tag=2,i!=null&&(o.callback=i),i=jr(e,o,a),i!==null&&(fn(i,e,a),Fo(i,e,a))}};function dv(e,i,a,o,h,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!Do(a,o)||!Do(h,d):!0}function mv(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&_d.enqueueReplaceState(i,i.state,null)}function Zs(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=x({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Gc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function pv(e){Gc(e)}function gv(e){console.error(e)}function yv(e){Gc(e)}function Kc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function vv(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Ad(e,i,a){return a=Hr(a),a.tag=3,a.payload={element:null},a.callback=function(){Kc(e,i)},a}function _v(e){return e=Hr(e),e.tag=3,e}function Av(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){vv(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){vv(i,a,o),typeof h!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function kT(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=kn.current,a!==null){switch(a.tag){case 13:return _i===null?em():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Wf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),im(e,o,h)),!1;case 22:return a.flags|=65536,o===Wf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),im(e,o,h)),!1}throw Error(s(435,a.tag))}return im(e,o,h),em(),!1}if(Kt)return i=kn.current,i!==null?(!(i.flags&65536)&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Xf&&(e=Error(s(422),{cause:o}),Vo(Pn(e,a)))):(o!==Xf&&(i=Error(s(423),{cause:o}),Vo(Pn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Pn(o,a),h=Ad(e.stateNode,o,h),Ud(e,h),pe!==4&&(pe=2)),!1;var d=Error(s(520),{cause:o});if(d=Pn(d,a),Jo===null?Jo=[d]:Jo.push(d),pe!==4&&(pe=2),i===null)return!0;o=Pn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Ad(a.stateNode,o,e),Ud(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_v(h),Av(h,e,a,o),Ud(a,h),!1}a=a.return}while(a!==null);return!1}var Ev=Error(s(461)),je=!1;function Ye(e,i,a,o){i.child=e===null?Ry(i,null,a,o):Gs(i,e.child,a,o)}function Sv(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var E in o)E!=="ref"&&(_[E]=o[E])}else _=o;return $s(i),o=id(e,i,a,_,d,h),E=rd(),e!==null&&!je?(sd(e,i,h),Xi(e,i,h)):(Kt&&E&&Kf(i),i.flags|=1,Ye(e,i,o,h),i.child)}function Tv(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!qd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,bv(e,i,d,o,h)):(e=Jc(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!xd(e,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Do,a(_,o)&&e.ref===i.ref)return Xi(e,i,h)}return i.flags|=1,e=Gr(d,o),e.ref=i.ref,e.return=i,i.child=e}function bv(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Do(d,o)&&e.ref===i.ref)if(je=!1,i.pendingProps=o=d,xd(e,h))e.flags&131072&&(je=!0);else return i.lanes=e.lanes,Xi(e,i,h)}return Ed(e,i,a,o,h)}function wv(e,i,a){var o=i.pendingProps,h=o.children,d=(i.stateNode._pendingVisibility&2)!==0,_=e!==null?e.memoizedState:null;if(jo(e,i),o.mode==="hidden"||d){if(i.flags&128){if(o=_!==null?_.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Rv(e,i,o,a)}if(a&536870912)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bc(i,_!==null?_.cachePool:null),_!==null?Cy(i,_):Zf(),Dy(i);else return i.lanes=i.childLanes=536870912,Rv(e,i,_!==null?_.baseLanes|a:a,a)}else _!==null?(Bc(i,_.cachePool),Cy(i,_),Pr(),i.memoizedState=null):(e!==null&&Bc(i,null),Zf(),Pr());return Ye(e,i,h,a),i.child}function Rv(e,i,a,o){var h=ed();return h=h===null?null:{parent:Ne._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&Bc(i,null),Zf(),Dy(i),e!==null&&qo(e,i,o,!0),null}function jo(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=2097664)}}function Ed(e,i,a,o,h){return $s(i),a=id(e,i,a,o,void 0,h),o=rd(),e!==null&&!je?(sd(e,i,h),Xi(e,i,h)):(Kt&&o&&Kf(i),i.flags|=1,Ye(e,i,a,h),i.child)}function Cv(e,i,a,o,h,d){return $s(i),i.updateQueue=null,a=My(i,o,a,h),Vy(e),o=rd(),e!==null&&!je?(sd(e,i,d),Xi(e,i,d)):(Kt&&o&&Kf(i),i.flags|=1,Ye(e,i,a,d),i.child)}function Dv(e,i,a,o,h){if($s(i),i.stateNode===null){var d=Wa,_=a.contextType;typeof _=="object"&&_!==null&&(d=tn(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Md(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?tn(_):Wa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(vd(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&_d.enqueueReplaceState(d,d.state,null),Go(i,o,d,h),Qo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,C=Zs(a,E);d.props=C;var P=d.context,W=a.contextType;_=Wa,typeof W=="object"&&W!==null&&(_=tn(W));var nt=a.getDerivedStateFromProps;W=typeof nt=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||P!==_)&&mv(i,d,o,_),zr=!1;var Q=i.memoizedState;d.state=Q,Go(i,o,d,h),Qo(),P=i.memoizedState,E||Q!==P||zr?(typeof nt=="function"&&(vd(i,a,nt,o),P=i.memoizedState),(C=zr||dv(i,a,C,o,Q,P,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=P),d.props=o,d.state=P,d.context=_,o=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Nd(e,i),_=i.memoizedProps,W=Zs(a,_),d.props=W,nt=i.pendingProps,Q=d.context,P=a.contextType,C=Wa,typeof P=="object"&&P!==null&&(C=tn(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==nt||Q!==C)&&mv(i,d,o,C),zr=!1,Q=i.memoizedState,d.state=Q,Go(i,o,d,h),Qo();var X=i.memoizedState;_!==nt||Q!==X||zr||e!==null&&e.dependencies!==null&&Yc(e.dependencies)?(typeof E=="function"&&(vd(i,a,E,o),X=i.memoizedState),(W=zr||dv(i,a,W,o,Q,X,C)||e!==null&&e.dependencies!==null&&Yc(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,X,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,X,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=X),d.props=o,d.state=X,d.context=C,o=W):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&Q===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,jo(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=Gs(i,e.child,null,h),i.child=Gs(i,null,a,h)):Ye(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Xi(e,i,h),e}function xv(e,i,a,o){return Oo(),i.flags|=256,Ye(e,i,a,o),i.child}var Sd={dehydrated:null,treeContext:null,retryLane:0};function Td(e){return{baseLanes:e,cachePool:Oy()}}function bd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=qn),e}function Iv(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(Me.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(Kt){if(h?Ur(i):Pr(),Kt){var E=Ke,C;if(C=E){t:{for(C=E,E=vi;C.nodeType!==8;){if(!E){E=null;break t}if(C=ti(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(i.memoizedState={dehydrated:E,treeContext:qs!==null?{id:Qi,overflow:Gi}:null,retryLane:536870912},C=jn(18,null,null,0),C.stateNode=E,C.return=i,i.child=C,hn=i,Ke=null,C=!0):C=!1}C||Qs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ki(i)}return E=o.children,o=o.fallback,h?(Pr(),h=i.mode,E=Rd({mode:"hidden",children:E},h),o=ea(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=Td(a),h.childLanes=bd(e,_,a),i.memoizedState=Sd,o):(Ur(i),wd(i,E))}if(C=e.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=Cd(e,i,a)):i.memoizedState!==null?(Pr(),i.child=e.child,i.flags|=128,i=null):(Pr(),h=o.fallback,E=i.mode,o=Rd({mode:"visible",children:o.children},E),h=ea(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,Gs(i,e.child,null,a),o=i.child,o.memoizedState=Td(a),o.childLanes=bd(e,_,a),i.memoizedState=Sd,i=h);else if(Ur(i),E.data==="$!"){if(_=E.nextSibling&&E.nextSibling.dataset,_)var P=_.dgst;_=P,o=Error(s(419)),o.stack="",o.digest=_,Vo({value:o,source:null,stack:null}),i=Cd(e,i,a)}else if(je||qo(e,i,a,!1),_=(a&e.childLanes)!==0,je||_){if(_=re,_!==null){if(o=a&-a,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(_.suspendedLanes|a)?0:o,o!==0&&o!==C.retryLane)throw C.retryLane=o,Nr(e,o),fn(_,e,o),Ev}E.data==="$?"||em(),i=Cd(e,i,a)}else E.data==="$?"?(i.flags|=128,i.child=e.child,i=tb.bind(null,e),E._reactRetry=i,i=null):(e=C.treeContext,Ke=ti(E.nextSibling),hn=i,Kt=!0,Jn=null,vi=!1,e!==null&&(Bn[Ln++]=Qi,Bn[Ln++]=Gi,Bn[Ln++]=qs,Qi=e.id,Gi=e.overflow,qs=i),i=wd(i,o.children),i.flags|=4096);return i}return h?(Pr(),h=o.fallback,E=i.mode,C=e.child,P=C.sibling,o=Gr(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&31457280,P!==null?h=Gr(P,h):(h=ea(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=Td(a):(C=E.cachePool,C!==null?(P=Ne._currentValue,C=C.parent!==P?{parent:P,pool:P}:C):C=Oy(),E={baseLanes:E.baseLanes|a,cachePool:C}),h.memoizedState=E,h.childLanes=bd(e,_,a),i.memoizedState=Sd,o):(Ur(i),a=e.child,e=a.sibling,a=Gr(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function wd(e,i){return i=Rd({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Rd(e,i){return n0(e,i,0,null)}function Cd(e,i,a){return Gs(i,e.child,null,a),e=wd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Ov(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Od(e.return,i,a)}function Dd(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Vv(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(Ye(e,i,o.children,a),o=Me.current,o&2)o=o&1|2,i.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ov(e,a,i);else if(e.tag===19)Ov(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(te(Me,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Pc(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Dd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Pc(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Dd(i,!0,a,null,d);break;case"together":Dd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Kr|=i.lanes,!(a&i.childLanes))if(e!==null){if(qo(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Gr(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Gr(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function xd(e,i){return e.lanes&i?!0:(e=e.dependencies,!!(e!==null&&Yc(e)))}function zT(e,i,a){switch(i.tag){case 3:vr(i,i.stateNode.containerInfo),kr(i,Ne,e.memoizedState.cache),Oo();break;case 27:case 5:ao(i);break;case 4:vr(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Ur(i),i.flags|=128,null):a&i.child.childLanes?Iv(e,i,a):(Ur(i),e=Xi(e,i,a),e!==null?e.sibling:null);Ur(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(qo(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Vv(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Me,Me.current),o)break;return null;case 22:case 23:return i.lanes=0,wv(e,i,a);case 24:kr(i,Ne,e.memoizedState.cache)}return Xi(e,i,a)}function Mv(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)je=!0;else{if(!xd(e,a)&&!(i.flags&128))return je=!1,zT(e,i,a);je=!!(e.flags&131072)}else je=!1,Kt&&i.flags&1048576&&yy(i,Oc,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")qd(o)?(e=Zs(o,e),i.tag=1,i=Dv(null,i,o,e,a)):(i.tag=0,i=Ed(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===L){i.tag=11,i=Sv(null,i,o,e,a);break t}else if(h===Y){i.tag=14,i=Tv(null,i,o,e,a);break t}}throw i=R(o)||o,Error(s(306,i,""))}}return i;case 0:return Ed(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Zs(o,i.pendingProps),Dv(e,i,o,h,a);case 3:t:{if(vr(i,i.stateNode.containerInfo),e===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,o=h.element,Nd(e,i),Go(i,d,null,a);var _=i.memoizedState;if(d=_.cache,kr(i,Ne,d),d!==h.cache&&Vd(i,[Ne],a,!0),Qo(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=xv(e,i,d,a);break t}else if(d!==o){o=Pn(Error(s(424)),i),Vo(o),i=xv(e,i,d,a);break t}else for(Ke=ti(i.stateNode.containerInfo.firstChild),hn=i,Kt=!0,Jn=null,vi=!0,a=Ry(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Oo(),d===o){i=Xi(e,i,a);break t}Ye(e,i,d,a)}i=i.child}return i;case 26:return jo(e,i),e===null?(a=P0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Kt||(a=i.type,e=i.pendingProps,o=ch(Dn.current).createElement(a),o[ke]=i,o[Ie]=e,Xe(o,a,e),le(o),i.stateNode=o):i.memoizedState=P0(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return ao(i),e===null&&Kt&&(o=i.stateNode=M0(i.type,i.pendingProps,Dn.current),hn=i,vi=!0,Ke=ti(o.firstChild)),o=i.pendingProps.children,e!==null||Kt?Ye(e,i,o,a):i.child=Gs(i,null,o,a),jo(e,i),i.child;case 5:return e===null&&Kt&&((h=o=Ke)&&(o=gb(o,i.type,i.pendingProps,vi),o!==null?(i.stateNode=o,hn=i,Ke=ti(o.firstChild),vi=!1,h=!0):h=!1),h||Qs(i)),ao(i),h=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,o=d.children,pm(h,d)?o=null:_!==null&&pm(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=id(e,i,MT,null,null,a),lu._currentValue=h),jo(e,i),Ye(e,i,o,a),i.child;case 6:return e===null&&Kt&&((e=a=Ke)&&(a=yb(a,i.pendingProps,vi),a!==null?(i.stateNode=a,hn=i,Ke=null,e=!0):e=!1),e||Qs(i)),null;case 13:return Iv(e,i,a);case 4:return vr(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=Gs(i,null,o,a):Ye(e,i,o,a),i.child;case 11:return Sv(e,i,i.type,i.pendingProps,a);case 7:return Ye(e,i,i.pendingProps,a),i.child;case 8:return Ye(e,i,i.pendingProps.children,a),i.child;case 12:return Ye(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,kr(i,i.type,o.value),Ye(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,$s(i),h=tn(h),o=o(h),i.flags|=1,Ye(e,i,o,a),i.child;case 14:return Tv(e,i,i.type,i.pendingProps,a);case 15:return bv(e,i,i.type,i.pendingProps,a);case 19:return Vv(e,i,a);case 22:return wv(e,i,a);case 24:return $s(i),o=tn(Ne),e===null?(h=ed(),h===null&&(h=re,d=$f(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Md(i),kr(i,Ne,h)):(e.lanes&a&&(Nd(e,i),Go(i,null,null,a),Qo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,Ne,o)):(o=d.cache,kr(i,Ne,o),o!==h.cache&&Vd(i,[Ne],a,!0))),Ye(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Id=Qt(null),Js=null,Wi=null;function kr(e,i,a){te(Id,i._currentValue),i._currentValue=a}function Zi(e){e._currentValue=Id.current,fe(Id)}function Od(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Vd(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Od(d.return,a,e),o||(_=null);break t}d=E.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Od(_,a,e),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===e){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function qo(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if(h.flags&524288)d=!0;else if(h.flags&262144)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var E=h.type;Tn(h.pendingProps.value,_.value)||(e!==null?e.push(E):e=[E])}}else if(h===yr.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(lu):e=[lu])}h=h.return}e!==null&&Vd(i,e,a,o),i.flags|=262144}function Yc(e){for(e=e.firstContext;e!==null;){if(!Tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function $s(e){Js=e,Wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Nv(Js,e)}function Xc(e,i){return Js===null&&$s(e),Nv(e,i)}function Nv(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(e===null)throw Error(s(308));Wi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Wi=Wi.next=i;return a}var zr=!1;function Md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function jr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,ue&2){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=xc(e),py(e,null,a),i}return Dc(e,o,i,a),xc(e)}function Fo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,br(e,a)}}function Ud(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var Pd=!1;function Qo(){if(Pd){var e=nl;if(e!==null)throw e}}function Go(e,i,a,o){Pd=!1;var h=e.updateQueue;zr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,_===null?d=P:_.next=P,_=C;var W=e.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==_&&(E===null?W.firstBaseUpdate=P:E.next=P,W.lastBaseUpdate=C))}if(d!==null){var nt=h.baseState;_=0,W=P=C=null,E=d;do{var Q=E.lane&-536870913,X=Q!==E.lane;if(X?(jt&Q)===Q:(o&Q)===Q){Q!==0&&Q===el&&(Pd=!0),W!==null&&(W=W.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var gt=e,Ct=E;Q=i;var ge=a;switch(Ct.tag){case 1:if(gt=Ct.payload,typeof gt=="function"){nt=gt.call(ge,nt,Q);break t}nt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=Ct.payload,Q=typeof gt=="function"?gt.call(ge,nt,Q):gt,Q==null)break t;nt=x({},nt,Q);break t;case 2:zr=!0}}Q=E.callback,Q!==null&&(e.flags|=64,X&&(e.flags|=8192),X=h.callbacks,X===null?h.callbacks=[Q]:X.push(Q))}else X={lane:Q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(P=W=X,C=nt):W=W.next=X,_|=Q;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;X=E,E=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);W===null&&(C=nt),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),Kr|=_,e.lanes=_,e.memoizedState=nt}}function Uv(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Pv(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Uv(a[e],i)}function Ko(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(E){ie(i,i.return,E)}}function qr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var _=o.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,h=i;var C=a;try{E()}catch(P){ie(h,C,P)}}}o=o.next}while(o!==d)}}catch(P){ie(i,i.return,P)}}function Bv(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Pv(i,a)}catch(o){ie(e,e.return,o)}}}function Lv(e,i,a){a.props=Zs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){ie(e,i,o)}}function ta(e,i){try{var a=e.ref;if(a!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var h=o;break;default:h=o}typeof a=="function"?e.refCleanup=a(h):a.current=h}}catch(d){ie(e,i,d)}}function bn(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(e,i,h)}else a.current=null}function kv(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){ie(e,e.return,h)}}function zv(e,i,a){try{var o=e.stateNode;hb(o,e.type,a,i),o[Ie]=i}catch(h){ie(e,e.return,h)}}function Hv(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Bd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Hv(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ld(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(e,i):a.insertBefore(e,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(e,a)):(i=a,i.appendChild(e)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=uh));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Ld(e,i,a),e=e.sibling;e!==null;)Ld(e,i,a),e=e.sibling}function Wc(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Wc(e,i,a),e=e.sibling;e!==null;)Wc(e,i,a),e=e.sibling}var Ji=!1,me=!1,kd=!1,jv=typeof WeakSet=="function"?WeakSet:Set,qe=null,qv=!1;function HT(e,i){if(e=e.containerInfo,dm=gh,e=ay(e),Hf(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,E=-1,C=-1,P=0,W=0,nt=e,Q=null;e:for(;;){for(var X;nt!==a||h!==0&&nt.nodeType!==3||(E=_+h),nt!==d||o!==0&&nt.nodeType!==3||(C=_+o),nt.nodeType===3&&(_+=nt.nodeValue.length),(X=nt.firstChild)!==null;)Q=nt,nt=X;for(;;){if(nt===e)break e;if(Q===a&&++P===h&&(E=_),Q===d&&++W===o&&(C=_),(X=nt.nextSibling)!==null)break;nt=Q,Q=nt.parentNode}nt=X}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(mm={focusedElem:e,selectionRange:a},gh=!1,qe=i;qe!==null;)if(i=qe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,qe=e;else for(;qe!==null;){switch(i=qe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var gt=Zs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(gt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ct){ie(a,a.return,Ct)}}break;case 3:if(e&1024){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)vm(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vm(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,qe=e;break}qe=i.return}return gt=qv,qv=!1,gt}function Fv(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:tr(e,a),o&4&&Ko(5,a);break;case 1:if(tr(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(E){ie(a,a.return,E)}else{var h=Zs(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(E){ie(a,a.return,E)}}o&64&&Bv(a),o&512&&ta(a,a.return);break;case 3:if(tr(e,a),o&64&&(o=a.updateQueue,o!==null)){if(e=null,a.child!==null)switch(a.child.tag){case 27:case 5:e=a.child.stateNode;break;case 1:e=a.child.stateNode}try{Pv(o,e)}catch(E){ie(a,a.return,E)}}break;case 26:tr(e,a),o&512&&ta(a,a.return);break;case 27:case 5:tr(e,a),i===null&&o&4&&kv(a),o&512&&ta(a,a.return);break;case 12:tr(e,a);break;case 13:tr(e,a),o&4&&Kv(e,a);break;case 22:if(h=a.memoizedState!==null||Ji,!h){i=i!==null&&i.memoizedState!==null||me;var d=Ji,_=me;Ji=h,(me=i)&&!_?Fr(e,a,(a.subtreeFlags&8772)!==0):tr(e,a),Ji=d,me=_}o&512&&(a.memoizedProps.mode==="manual"?ta(a,a.return):bn(a,a.return));break;default:tr(e,a)}}function Qv(e){var i=e.alternate;i!==null&&(e.alternate=null,Qv(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Is(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var we=null,wn=!1;function $i(e,i,a){for(a=a.child;a!==null;)Gv(e,i,a),a=a.sibling}function Gv(e,i,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(_r,a)}catch{}switch(a.tag){case 26:me||bn(a,i),$i(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||bn(a,i);var o=we,h=wn;for(we=a.stateNode,$i(e,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Is(a),we=o,wn=h;break;case 5:me||bn(a,i);case 6:h=we;var d=wn;if(we=null,$i(e,i,a),we=h,wn=d,we!==null)if(wn)try{e=we,o=a.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(_){ie(a,i,_)}else try{we.removeChild(a.stateNode)}catch(_){ie(a,i,_)}break;case 18:we!==null&&(wn?(i=we,a=a.stateNode,i.nodeType===8?ym(i.parentNode,a):i.nodeType===1&&ym(i,a),hu(i)):ym(we,a.stateNode));break;case 4:o=we,h=wn,we=a.stateNode.containerInfo,wn=!0,$i(e,i,a),we=o,wn=h;break;case 0:case 11:case 14:case 15:me||qr(2,a,i),me||qr(4,a,i),$i(e,i,a);break;case 1:me||(bn(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Lv(a,i,o)),$i(e,i,a);break;case 21:$i(e,i,a);break;case 22:me||bn(a,i),me=(o=me)||a.memoizedState!==null,$i(e,i,a),me=o;break;default:$i(e,i,a)}}function Kv(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{hu(e)}catch(a){ie(i,i.return,a)}}function jT(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new jv),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new jv),i;default:throw Error(s(435,e.tag))}}function zd(e,i){var a=jT(e);i.forEach(function(o){var h=eb.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function zn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,_=i,E=_;t:for(;E!==null;){switch(E.tag){case 27:case 5:we=E.stateNode,wn=!1;break t;case 3:we=E.stateNode.containerInfo,wn=!0;break t;case 4:we=E.stateNode.containerInfo,wn=!0;break t}E=E.return}if(we===null)throw Error(s(160));Gv(d,_,h),we=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yv(i,e),i=i.sibling}var $n=null;function Yv(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:zn(i,e),Hn(e),o&4&&(qr(3,e,e.return),Ko(3,e),qr(5,e,e.return));break;case 1:zn(i,e),Hn(e),o&512&&(me||a===null||bn(a,a.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=$n;if(zn(i,e),Hn(e),o&512&&(me||a===null||bn(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Rr]||d[ke]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Xe(d,o,a),d[ke]=e,le(d),o=d;break t;case"link":var _=k0("link","href",h).get(o+(a.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(E,1);break e}}d=h.createElement(o),Xe(d,o,a),h.head.appendChild(d);break;case"meta":if(_=k0("meta","content",h).get(o+(a.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(E,1);break e}}d=h.createElement(o),Xe(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ke]=e,le(d),o=d}e.stateNode=o}else z0(h,e.type,e.stateNode);else e.stateNode=L0(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?z0(h,e.type,e.stateNode):L0(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&zv(e,e.memoizedProps,a.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){h=e.stateNode,d=e.memoizedProps;try{for(var C=h.firstChild;C;){var P=C.nextSibling,W=C.nodeName;C[Rr]||W==="HEAD"||W==="BODY"||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=P}for(var nt=e.type,Q=h.attributes;Q.length;)h.removeAttributeNode(Q[0]);Xe(h,nt,d),h[ke]=e,h[Ie]=d}catch(gt){ie(e,e.return,gt)}}case 5:if(zn(i,e),Hn(e),o&512&&(me||a===null||bn(a,a.return)),e.flags&32){h=e.stateNode;try{On(h,"")}catch(gt){ie(e,e.return,gt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,zv(e,h,a!==null?a.memoizedProps:h)),o&1024&&(kd=!0);break;case 6:if(zn(i,e),Hn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(gt){ie(e,e.return,gt)}}break;case 3:if(dh=null,h=$n,$n=hh(i.containerInfo),zn(i,e),$n=h,Hn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{hu(i.containerInfo)}catch(gt){ie(e,e.return,gt)}kd&&(kd=!1,Xv(e));break;case 4:o=$n,$n=hh(e.stateNode.containerInfo),zn(i,e),Hn(e),$n=o;break;case 12:zn(i,e),Hn(e);break;case 13:zn(i,e),Hn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xd=pn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zd(e,o)));break;case 22:if(o&512&&(me||a===null||bn(a,a.return)),C=e.memoizedState!==null,P=a!==null&&a.memoizedState!==null,W=Ji,nt=me,Ji=W||C,me=nt||P,zn(i,e),me=nt,Ji=W,Hn(e),i=e.stateNode,i._current=e,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,o&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Ji||me,a===null||P||i||al(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(a=null,i=e;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=P.stateNode,E=P.memoizedProps.style;var X=E!=null&&E.hasOwnProperty("display")?E.display:null;_.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(gt){ie(P,P.return,gt)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=C?"":P.memoizedProps}catch(gt){ie(P,P.return,gt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zd(e,a))));break;case 19:zn(i,e),Hn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zd(e,o)));break;case 21:break;default:zn(i,e),Hn(e)}}function Hn(e){var i=e.flags;if(i&2){try{if(e.tag!==27){t:{for(var a=e.return;a!==null;){if(Hv(a)){var o=a;break t}a=a.return}throw Error(s(160))}switch(o.tag){case 27:var h=o.stateNode,d=Bd(e);Wc(e,d,h);break;case 5:var _=o.stateNode;o.flags&32&&(On(_,""),o.flags&=-33);var E=Bd(e);Wc(e,E,_);break;case 3:case 4:var C=o.stateNode.containerInfo,P=Bd(e);Ld(e,P,C);break;default:throw Error(s(161))}}}catch(W){ie(e,e.return,W)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Xv(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Xv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function tr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fv(e,i.alternate,i),i=i.sibling}function al(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:qr(4,i,i.return),al(i);break;case 1:bn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Lv(i,i.return,a),al(i);break;case 26:case 27:case 5:bn(i,i.return),al(i);break;case 22:bn(i,i.return),i.memoizedState===null&&al(i);break;default:al(i)}e=e.sibling}}function Fr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Fr(h,d,a),Ko(4,d);break;case 1:if(Fr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){ie(o,o.return,P)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Uv(C[h],E)}catch(P){ie(o,o.return,P)}}a&&_&64&&Bv(d),ta(d,d.return);break;case 26:case 27:case 5:Fr(h,d,a),a&&o===null&&_&4&&kv(d),ta(d,d.return);break;case 12:Fr(h,d,a);break;case 13:Fr(h,d,a),a&&_&4&&Kv(h,d);break;case 22:d.memoizedState===null&&Fr(h,d,a),ta(d,d.return);break;default:Fr(h,d,a)}i=i.sibling}}function Hd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Bo(a))}function jd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Bo(e))}function Qr(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Wv(e,i,a,o),i=i.sibling}function Wv(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(e,i,a,o),h&2048&&Ko(9,i);break;case 3:Qr(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Qr(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){ie(i,i.return,C)}}else Qr(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Qr(e,i,a,o):Yo(e,i):d._visibility&4?Qr(e,i,a,o):(d._visibility|=4,ll(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Hd(i.alternate,i);break;case 24:Qr(e,i,a,o),h&2048&&jd(i.alternate,i);break;default:Qr(e,i,a,o)}}function ll(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,_=i,E=a,C=o,P=_.flags;switch(_.tag){case 0:case 11:case 15:ll(d,_,E,C,h),Ko(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&4?ll(d,_,E,C,h):Yo(d,_):(W._visibility|=4,ll(d,_,E,C,h)),h&&P&2048&&Hd(_.alternate,_);break;case 24:ll(d,_,E,C,h),h&&P&2048&&jd(_.alternate,_);break;default:ll(d,_,E,C,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Yo(a,o),h&2048&&Hd(o.alternate,o);break;case 24:Yo(a,o),h&2048&&jd(o.alternate,o);break;default:Yo(a,o)}i=i.sibling}}var Xo=8192;function ol(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)Zv(e),e=e.sibling}function Zv(e){switch(e.tag){case 26:ol(e),e.flags&Xo&&e.memoizedState!==null&&Ib($n,e.memoizedState,e.memoizedProps);break;case 5:ol(e);break;case 3:case 4:var i=$n;$n=hh(e.stateNode.containerInfo),ol(e),$n=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,ol(e),Xo=i):ol(e));break;default:ol(e)}}function Jv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Wo(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qe=o,t0(o,e)}Jv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$v(e),e=e.sibling}function $v(e){switch(e.tag){case 0:case 11:case 15:Wo(e),e.flags&2048&&qr(9,e,e.return);break;case 3:Wo(e);break;case 12:Wo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&4&&(e.return===null||e.return.tag!==13)?(i._visibility&=-5,Zc(e)):Wo(e);break;default:Wo(e)}}function Zc(e){var i=e.deletions;if(e.flags&16){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];qe=o,t0(o,e)}Jv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:qr(8,i,i.return),Zc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Zc(i));break;default:Zc(i)}e=e.sibling}}function t0(e,i){for(;qe!==null;){var a=qe;switch(a.tag){case 0:case 11:case 15:qr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,qe=o;else t:for(a=e;qe!==null;){o=qe;var h=o.sibling,d=o.return;if(Qv(o),o===a){qe=null;break t}if(h!==null){h.return=d,qe=h;break t}qe=d}}}function qT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(e,i,a,o){return new qT(e,i,a,o)}function qd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Gr(e,i){var a=e.alternate;return a===null?(a=jn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&31457280,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function e0(e,i){e.flags&=31457282;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Jc(e,i,a,o,h,d){var _=0;if(o=e,typeof e=="function")qd(e)&&(_=1);else if(typeof e=="string")_=Db(e,a,ln.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case g:return ea(a.children,h,d,i);case y:_=8,h|=24;break;case A:return e=jn(12,a,i,h|2),e.elementType=A,e.lanes=d,e;case F:return e=jn(13,a,i,h),e.elementType=F,e.lanes=d,e;case B:return e=jn(19,a,i,h),e.elementType=B,e.lanes=d,e;case Z:return n0(a,h,d,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case O:_=10;break t;case w:_=9;break t;case L:_=11;break t;case Y:_=14;break t;case it:_=16,o=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=jn(_,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function ea(e,i,a,o){return e=jn(7,e,o,i),e.lanes=a,e}function n0(e,i,a,o){e=jn(22,e,o,i),e.elementType=Z,e.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if(!(h._pendingVisibility&2)){var _=Nr(d,2);_!==null&&(h._pendingVisibility|=2,fn(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if(h._pendingVisibility&2){var _=Nr(d,2);_!==null&&(h._pendingVisibility&=-3,fn(_,d,2))}}};return e.stateNode=h,e}function Fd(e,i,a){return e=jn(6,e,null,i),e.lanes=a,e}function Qd(e,i,a){return i=jn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function er(e){e.flags|=4}function i0(e,i){if(i.type!=="stylesheet"||i.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!H0(i)){if(i=kn.current,i!==null&&((jt&4194176)===jt?_i!==null:(jt&62914560)!==jt&&!(jt&536870912)||i!==_i))throw No=Wf,Ay;e.flags|=8192}}function $c(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Sr():536870912,e.lanes|=i,cl|=i)}function Zo(e,i){if(!Kt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&31457280,o|=h.flags&31457280,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function FT(e,i,a){var o=i.pendingProps;switch(Yf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Zi(Ne),Ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Io(i)?er(i):e===null||e.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,Jn!==null&&($d(Jn),Jn=null))),oe(i),null;case 26:return a=i.memoizedState,e===null?(er(i),a!==null?(oe(i),i0(i,a)):(oe(i),i.flags&=-16777217)):a?a!==e.memoizedState?(er(i),oe(i),i0(i,a)):(oe(i),i.flags&=-16777217):(e.memoizedProps!==o&&er(i),oe(i),i.flags&=-16777217),null;case 27:xa(i),a=Dn.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&er(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=ln.current,Io(i)?vy(i):(e=M0(h,o,a),i.stateNode=e,er(i))}return oe(i),null;case 5:if(xa(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&er(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(e=ln.current,Io(i))vy(i);else{switch(h=ch(Dn.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ke]=i,e[Ie]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Xe(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&er(i)}}return oe(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&er(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Dn.current,Io(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=hn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ke]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||C0(e.nodeValue,a)),e||Qs(i)}else e=ch(e).createTextNode(o),e[ke]=i,i.stateNode=e}return oe(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Io(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ke]=i}else Oo(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;oe(i),h=!1}else Jn!==null&&($d(Jn),Jn=null),h=!0;if(!h)return i.flags&256?(Ki(i),i):(Ki(i),null)}if(Ki(i),i.flags&128)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),$c(i,i.updateQueue),oe(i),null;case 4:return Ni(),e===null&&cm(i.stateNode.containerInfo),oe(i),null;case 10:return Zi(i.type),oe(i),null;case 19:if(fe(Me),h=i.memoizedState,h===null)return oe(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Zo(h,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=i.child;e!==null;){if(d=Pc(e),d!==null){for(i.flags|=128,Zo(h,!1),e=d.updateQueue,i.updateQueue=e,$c(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)e0(a,e),a=a.sibling;return te(Me,Me.current&1|2),i.child}e=e.sibling}h.tail!==null&&pn()>th&&(i.flags|=128,o=!0,Zo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Pc(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,$c(i,e),Zo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Kt)return oe(i),null}else 2*pn()-h.renderingStartTime>th&&a!==536870912&&(i.flags|=128,o=!0,Zo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,e=Me.current,te(Me,o?e&1|2:e&1),i):(oe(i),null);case 22:case 23:return Ki(i),Jf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?a&536870912&&!(i.flags&128)&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&$c(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&fe(Ks),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(Ne),oe(i),null;case 25:return null}throw Error(s(156,i.tag))}function QT(e,i){switch(Yf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Zi(Ne),Ni(),e=i.flags,e&65536&&!(e&128)?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return xa(i),null;case 13:if(Ki(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Oo()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return fe(Me),null;case 4:return Ni(),null;case 10:return Zi(i.type),null;case 22:case 23:return Ki(i),Jf(),e!==null&&fe(Ks),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Zi(Ne),null;case 25:return null;default:return null}}function r0(e,i){switch(Yf(i),i.tag){case 3:Zi(Ne),Ni();break;case 26:case 27:case 5:xa(i);break;case 4:Ni();break;case 13:Ki(i);break;case 19:fe(Me);break;case 10:Zi(i.type);break;case 22:case 23:Ki(i),Jf(),e!==null&&fe(Ks);break;case 24:Zi(Ne)}}var GT={getCacheForType:function(e){var i=tn(Ne),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},KT=typeof WeakMap=="function"?WeakMap:Map,ue=0,re=null,Ut=null,jt=0,se=0,Rn=null,nr=!1,ul=!1,Gd=!1,ir=0,pe=0,Kr=0,na=0,Kd=0,qn=0,cl=0,Jo=null,Ei=null,Yd=!1,Xd=0,th=1/0,eh=null,Yr=null,nh=!1,ia=null,$o=0,Wd=0,Zd=null,tu=0,Jd=null;function Cn(){if(ue&2&&jt!==0)return jt&-jt;if(T.T!==null){var e=el;return e!==0?e:am()}return oc()}function s0(){qn===0&&(qn=!(jt&536870912)||Kt?ho():536870912);var e=kn.current;return e!==null&&(e.flags|=32),qn}function fn(e,i,a){(e===re&&se===2||e.cancelPendingCommit!==null)&&(hl(e,0),rr(e,jt,qn,!1)),ve(e,a),(!(ue&2)||e!==re)&&(e===re&&(!(ue&2)&&(na|=a),pe===4&&rr(e,jt,qn,!1)),Si(e))}function a0(e,i,a){if(ue&6)throw Error(s(327));var o=!a&&(i&60)===0&&(i&e.expiredLanes)===0||Er(e,i),h=o?WT(e,i):nm(e,i,!0),d=o;do{if(h===0){ul&&!o&&rr(e,i,0,!1);break}else if(h===6)rr(e,i,0,!nr);else{if(a=e.current.alternate,d&&!YT(a)){h=nm(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var E=e;h=Jo;var C=E.current.memoizedState.isDehydrated;if(C&&(hl(E,_).flags|=256),_=nm(E,_,!1),_!==2){if(Gd&&!C){E.errorRecoveryDisabledLanes|=d,na|=d,h=4;break t}d=Ei,Ei=h,d!==null&&$d(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){hl(e,0),rr(e,i,0,!0);break}t:{switch(o=e,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){rr(o,i,qn,!nr);break t}break;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=a,o.finishedLanes=i,(i&62914560)===i&&(d=Xd+300-pn(),10<d)){if(rr(o,i,qn,!nr),xn(o,0)!==0)break t;o.timeoutHandle=I0(l0.bind(null,o,a,Ei,eh,Yd,i,qn,na,cl,nr,2,-0,0),d);break t}l0(o,a,Ei,eh,Yd,i,qn,na,cl,nr,0,-0,0)}}break}while(!0);Si(e)}function $d(e){Ei===null?Ei=e:Ei.push.apply(Ei,e)}function l0(e,i,a,o,h,d,_,E,C,P,W,nt,Q){var X=i.subtreeFlags;if((X&8192||(X&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:xb},Zv(i),i=Ob(),i!==null)){e.cancelPendingCommit=i(m0.bind(null,e,a,o,h,_,E,C,1,nt,Q)),rr(e,d,_,!P);return}m0(e,a,o,h,_,E,C,W,nt,Q)}function YT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function rr(e,i,a,o){i&=~Kd,i&=~na,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-on(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Tr(e,a,i)}function ih(){return ue&6?!0:(eu(0),!1)}function tm(){if(Ut!==null){if(se===0)var e=Ut.return;else e=Ut,Wi=Js=null,ad(e),$a=null,Uo=0,e=Ut;for(;e!==null;)r0(e.alternate,e),e=e.return;Ut=null}}function hl(e,i){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,db(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),tm(),re=e,Ut=a=Gr(e.current,null),jt=i,se=0,Rn=null,nr=!1,ul=Er(e,i),Gd=!1,cl=qn=Kd=na=Kr=pe=0,Ei=Jo=null,Yd=!1,i&8&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-on(o),d=1<<h;i|=e[h],o&=~d}return ir=i,Cc(),a}function o0(e,i){Mt=null,T.H=Ai,i===Mo?(i=Ty(),se=3):i===Ay?(i=Ty(),se=4):se=i===Ev?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Ut===null&&(pe=1,Kc(e,Pn(i,e.current)))}function u0(){var e=T.H;return T.H=Ai,e===null?Ai:e}function c0(){var e=T.A;return T.A=GT,e}function em(){pe=4,nr||(jt&4194176)!==jt&&kn.current!==null||(ul=!0),!(Kr&134217727)&&!(na&134217727)||re===null||rr(re,jt,qn,!1)}function nm(e,i,a){var o=ue;ue|=2;var h=u0(),d=c0();(re!==e||jt!==i)&&(eh=null,hl(e,i)),i=!1;var _=pe;t:do try{if(se!==0&&Ut!==null){var E=Ut,C=Rn;switch(se){case 8:tm(),_=6;break t;case 3:case 2:case 6:kn.current===null&&(i=!0);var P=se;if(se=0,Rn=null,fl(e,E,C,P),a&&ul){_=0;break t}break;default:P=se,se=0,Rn=null,fl(e,E,C,P)}}XT(),_=pe;break}catch(W){o0(e,W)}while(!0);return i&&e.shellSuspendCounter++,Wi=Js=null,ue=o,T.H=h,T.A=d,Ut===null&&(re=null,jt=0,Cc()),_}function XT(){for(;Ut!==null;)h0(Ut)}function WT(e,i){var a=ue;ue|=2;var o=u0(),h=c0();re!==e||jt!==i?(eh=null,th=pn()+500,hl(e,i)):ul=Er(e,i);t:do try{if(se!==0&&Ut!==null){i=Ut;var d=Rn;e:switch(se){case 1:se=0,Rn=null,fl(e,i,d,1);break;case 2:if(Ey(d)){se=0,Rn=null,f0(i);break}i=function(){se===2&&re===e&&(se=7),Si(e)},d.then(i,i);break t;case 3:se=7;break t;case 4:se=5;break t;case 7:Ey(d)?(se=0,Rn=null,f0(i)):(se=0,Rn=null,fl(e,i,d,7));break;case 5:var _=null;switch(Ut.tag){case 26:_=Ut.memoizedState;case 5:case 27:var E=Ut;if(!_||H0(_)){se=0,Rn=null;var C=E.sibling;if(C!==null)Ut=C;else{var P=E.return;P!==null?(Ut=P,rh(P)):Ut=null}break e}}se=0,Rn=null,fl(e,i,d,5);break;case 6:se=0,Rn=null,fl(e,i,d,6);break;case 8:tm(),pe=6;break t;default:throw Error(s(462))}}ZT();break}catch(W){o0(e,W)}while(!0);return Wi=Js=null,T.H=o,T.A=h,ue=a,Ut!==null?0:(re=null,jt=0,Cc(),pe)}function ZT(){for(;Ut!==null&&!If();)h0(Ut)}function h0(e){var i=Mv(e.alternate,e,ir);e.memoizedProps=e.pendingProps,i===null?rh(e):Ut=i}function f0(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Cv(a,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=Cv(a,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:ad(i);default:r0(a,i),i=Ut=e0(i,ir),i=Mv(a,i,ir)}e.memoizedProps=e.pendingProps,i===null?rh(e):Ut=i}function fl(e,i,a,o){Wi=Js=null,ad(i),$a=null,Uo=0;var h=i.return;try{if(kT(e,h,i,a,jt)){pe=1,Kc(e,Pn(a,e.current)),Ut=null;return}}catch(d){if(h!==null)throw Ut=h,d;pe=1,Kc(e,Pn(a,e.current)),Ut=null;return}i.flags&32768?(Kt||o===1?e=!0:ul||jt&536870912?e=!1:(nr=e=!0,(o===2||o===3||o===6)&&(o=kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),d0(i,e)):rh(i)}function rh(e){var i=e;do{if(i.flags&32768){d0(i,nr);return}e=i.return;var a=FT(i.alternate,i,ir);if(a!==null){Ut=a;return}if(i=i.sibling,i!==null){Ut=i;return}Ut=i=e}while(i!==null);pe===0&&(pe=5)}function d0(e,i){do{var a=QT(e.alternate,e);if(a!==null){a.flags&=32767,Ut=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=a}while(e!==null);pe=6,Ut=null}function m0(e,i,a,o,h,d,_,E,C,P){var W=T.T,nt=ct.p;try{ct.p=2,T.T=null,JT(e,i,a,o,nt,h,d,_,E,C,P)}finally{T.T=W,ct.p=nt}}function JT(e,i,a,o,h,d,_,E){do dl();while(ia!==null);if(ue&6)throw Error(s(327));var C=e.finishedWork;if(o=e.finishedLanes,C===null)return null;if(e.finishedWork=null,e.finishedLanes=0,C===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var P=C.lanes|C.childLanes;if(P|=Qf,ac(e,o,P,d,_,E),e===re&&(Ut=re=null,jt=0),!(C.subtreeFlags&10256)&&!(C.flags&10256)||nh||(nh=!0,Wd=P,Zd=a,nb(Ui,function(){return dl(),null})),a=(C.flags&15990)!==0,C.subtreeFlags&15990||a?(a=T.T,T.T=null,d=ct.p,ct.p=2,_=ue,ue|=4,HT(e,C),Yv(C,e),ST(mm,e.containerInfo),gh=!!dm,mm=dm=null,e.current=C,Fv(e,C.alternate,C),lo(),ue=_,ct.p=d,T.T=a):e.current=C,nh?(nh=!1,ia=e,$o=o):p0(e,P),P=e.pendingLanes,P===0&&(Yr=null),uo(C.stateNode),Si(e),i!==null)for(h=e.onRecoverableError,C=0;C<i.length;C++)P=i[C],h(P.value,{componentStack:P.stack});return $o&3&&dl(),P=e.pendingLanes,o&4194218&&P&42?e===Jd?tu++:(tu=0,Jd=e):tu=0,eu(0),null}function p0(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Bo(i)))}function dl(){if(ia!==null){var e=ia,i=Wd;Wd=0;var a=lc($o),o=T.T,h=ct.p;try{if(ct.p=32>a?32:a,T.T=null,ia===null)var d=!1;else{a=Zd,Zd=null;var _=ia,E=$o;if(ia=null,$o=0,ue&6)throw Error(s(331));var C=ue;if(ue|=4,$v(_.current),Wv(_,_.current,E,a),ue=C,eu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(_r,_)}catch{}d=!0}return d}finally{ct.p=h,T.T=o,p0(e,i)}}return!1}function g0(e,i,a){i=Pn(a,i),i=Ad(e.stateNode,i,2),e=jr(e,i,2),e!==null&&(ve(e,2),Si(e))}function ie(e,i,a){if(e.tag===3)g0(e,e,a);else for(;i!==null;){if(i.tag===3){g0(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Yr===null||!Yr.has(o))){e=Pn(a,e),a=_v(2),o=jr(i,a,2),o!==null&&(Av(a,o,i,e),ve(o,2),Si(o));break}}i=i.return}}function im(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new KT;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Gd=!0,h.add(a),e=$T.bind(null,e,i,a),i.then(e,e))}function $T(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(jt&a)===a&&(pe===4||pe===3&&(jt&62914560)===jt&&300>pn()-Xd?!(ue&2)&&hl(e,0):Kd|=a,cl===jt&&(cl=0)),Si(e)}function y0(e,i){i===0&&(i=Sr()),e=Nr(e,i),e!==null&&(ve(e,i),Si(e))}function tb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),y0(e,a)}function eb(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),y0(e,a)}function nb(e,i){return Cs(e,i)}var sh=null,ml=null,rm=!1,ah=!1,sm=!1,ra=0;function Si(e){e!==ml&&e.next===null&&(ml===null?sh=ml=e:ml=ml.next=e),ah=!0,rm||(rm=!0,rb(ib))}function eu(e,i){if(!sm&&ah){sm=!0;do for(var a=!1,o=sh;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-on(42|e)+1)-1,d&=h&~(_&~E),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,A0(o,d))}else d=jt,d=xn(o,o===re?d:0),!(d&3)||Er(o,d)||(a=!0,A0(o,d));o=o.next}while(a);sm=!1}}function ib(){ah=rm=!1;var e=0;ra!==0&&(fb()&&(e=ra),ra=0);for(var i=pn(),a=null,o=sh;o!==null;){var h=o.next,d=v0(o,i);d===0?(o.next=null,a===null?sh=h:a.next=h,h===null&&(ml=a)):(a=o,(e!==0||d&3)&&(ah=!0)),o=h}eu(e)}function v0(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-on(d),E=1<<_,C=h[_];C===-1?(!(E&a)||E&o)&&(h[_]=Va(E,i)):C<=i&&(e.expiredLanes|=E),d&=~E}if(i=re,a=jt,a=xn(e,e===i?a:0),o=e.callbackNode,a===0||e===i&&se===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Oa(o),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Er(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Oa(o),lc(a)){case 2:case 8:a=Le;break;case 32:a=Ui;break;case 268435456:a=oo;break;default:a=Ui}return o=_0.bind(null,e),a=Cs(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Oa(o),e.callbackPriority=2,e.callbackNode=null,2}function _0(e,i){var a=e.callbackNode;if(dl()&&e.callbackNode!==a)return null;var o=jt;return o=xn(e,e===re?o:0),o===0?null:(a0(e,o,i),v0(e,pn()),e.callbackNode!=null&&e.callbackNode===a?_0.bind(null,e):null)}function A0(e,i){if(dl())return null;a0(e,i,!0)}function rb(e){mb(function(){ue&6?Cs(xe,e):e()})}function am(){return ra===0&&(ra=ho()),ra}function E0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:hi(""+e)}function S0(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function sb(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=E0((h[Ie]||null).action),_=o.submitter;_&&(i=(i=_[Ie]||null)?E0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var E=new ka("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ra!==0){var C=_?S0(h,_):new FormData(h);pd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=_?S0(h,_):new FormData(h),pd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var lm=0;lm<my.length;lm++){var om=my[lm],ab=om.toLowerCase(),lb=om[0].toUpperCase()+om.slice(1);Zn(ab,"on"+lb)}Zn(uy,"onAnimationEnd"),Zn(cy,"onAnimationIteration"),Zn(hy,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(bT,"onTransitionRun"),Zn(wT,"onTransitionStart"),Zn(RT,"onTransitionCancel"),Zn(fy,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),En("onBeforeInput",["compositionend","keypress","textInput","paste"]),En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nu));function T0(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var E=o[_],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=P;try{d(h)}catch(W){Gc(W)}h.currentTarget=null,d=C}else for(_=0;_<o.length;_++){if(E=o[_],C=E.instance,P=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=P;try{d(h)}catch(W){Gc(W)}h.currentTarget=null,d=C}}}}function Bt(e,i){var a=i[xs];a===void 0&&(a=i[xs]=new Set);var o=e+"__bubble";a.has(o)||(b0(i,e,2,!1),a.add(o))}function um(e,i,a){var o=0;i&&(o|=4),b0(a,e,o,i)}var lh="_reactListening"+Math.random().toString(36).slice(2);function cm(e){if(!e[lh]){e[lh]=!0,mo.forEach(function(a){a!=="selectionchange"&&(ob.has(a)||um(a,!1,e),um(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[lh]||(i[lh]=!0,um("selectionchange",!1,i))}}function b0(e,i,a,o){switch(K0(i)){case 2:var h=Nb;break;case 8:h=Ub;break;default:h=Tm}a=h.bind(null,i,a,e),h=void 0,!Mn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function hm(e,i,a,o,h){var d=o;if(!(i&1)&&!(i&2)&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var E=o.stateNode.containerInfo;if(E===h||E.nodeType===8&&E.parentNode===h)break;if(_===4)for(_=o.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;_=_.return}for(;E!==null;){if(_=Wn(E),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){o=d=_;continue t}E=E.parentNode}}o=o.return}fc(function(){var P=d,W=La(a),nt=[];t:{var Q=dy.get(e);if(Q!==void 0){var X=ka,gt=e;switch(e){case"keypress":if(di(a)===0)break t;case"keydown":case"keyup":X=Qa;break;case"focusin":gt="focus",X=ja;break;case"focusout":gt="blur",X=ja;break;case"beforeblur":case"afterblur":X=ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Ac;break;case uy:case cy:case hy:X=qa;break;case fy:X=Sc;break;case"scroll":case"scrollend":X=dc;break;case"wheel":X=Ga;break;case"copy":case"cut":case"paste":X=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ro;break;case"toggle":case"beforetoggle":X=bc}var Ct=(i&4)!==0,ge=!Ct&&(e==="scroll"||e==="scrollend"),z=Ct?Q!==null?Q+"Capture":null:Q;Ct=[];for(var U=P,q;U!==null;){var J=U;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||z===null||(J=Ns(U,z),J!=null&&Ct.push(iu(U,J,q))),ge)break;U=U.return}0<Ct.length&&(Q=new X(Q,gt,null,a,W),nt.push({event:Q,listeners:Ct}))}}if(!(i&7)){t:{if(Q=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",Q&&a!==Vn&&(gt=a.relatedTarget||a.fromElement)&&(Wn(gt)||gt[Pi]))break t;if((X||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,X?(gt=a.relatedTarget||a.toElement,X=P,gt=gt?Wn(gt):null,gt!==null&&(ge=At(gt),Ct=gt.tag,gt!==ge||Ct!==5&&Ct!==27&&Ct!==6)&&(gt=null)):(X=null,gt=P),X!==gt)){if(Ct=Nn,J="onMouseLeave",z="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(Ct=Ro,J="onPointerLeave",z="onPointerEnter",U="pointer"),ge=X==null?Q:Cr(X),q=gt==null?Q:Cr(gt),Q=new Ct(J,U+"leave",X,a,W),Q.target=ge,Q.relatedTarget=q,J=null,Wn(W)===P&&(Ct=new Ct(z,U+"enter",gt,a,W),Ct.target=q,Ct.relatedTarget=ge,J=Ct),ge=J,X&&gt)e:{for(Ct=X,z=gt,U=0,q=Ct;q;q=pl(q))U++;for(q=0,J=z;J;J=pl(J))q++;for(;0<U-q;)Ct=pl(Ct),U--;for(;0<q-U;)z=pl(z),q--;for(;U--;){if(Ct===z||z!==null&&Ct===z.alternate)break e;Ct=pl(Ct),z=pl(z)}Ct=null}else Ct=null;X!==null&&w0(nt,Q,X,Ct,!1),gt!==null&&ge!==null&&w0(nt,ge,gt,Ct,!0)}}t:{if(Q=P?Cr(P):window,X=Q.nodeName&&Q.nodeName.toLowerCase(),X==="select"||X==="input"&&Q.type==="file")var mt=Jg;else if(Ve(Q))if($g)mt=AT;else{mt=vT;var Nt=yT}else X=Q.nodeName,!X||X.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?P&&_o(P.elementType)&&(mt=Jg):mt=_T;if(mt&&(mt=mt(e,P))){Fi(nt,mt,a,W);break t}Nt&&Nt(e,Q,P),e==="focusout"&&P&&Q.type==="number"&&P.memoizedProps.value!=null&&Ba(Q,"number",Q.value)}switch(Nt=P?Cr(P):window,e){case"focusin":(Ve(Nt)||Nt.contentEditable==="true")&&(Ka=Nt,jf=P,xo=null);break;case"focusout":xo=jf=Ka=null;break;case"mousedown":qf=!0;break;case"contextmenu":case"mouseup":case"dragend":qf=!1,ly(nt,a,W);break;case"selectionchange":if(TT)break;case"keydown":case"keyup":ly(nt,a,W)}var _t;if(gi)t:{switch(e){case"compositionstart":var Tt="onCompositionStart";break t;case"compositionend":Tt="onCompositionEnd";break t;case"compositionupdate":Tt="onCompositionUpdate";break t}Tt=void 0}else zt?K(e,a)&&(Tt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Tt="onCompositionStart");Tt&&(v&&a.locale!=="ko"&&(zt||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&zt&&(_t=Eo()):(fi=W,Mr="value"in fi?fi.value:fi.textContent,zt=!0)),Nt=oh(P,Tt),0<Nt.length&&(Tt=new bo(Tt,e,null,a,W),nt.push({event:Tt,listeners:Nt}),_t?Tt.data=_t:(_t=st(a),_t!==null&&(Tt.data=_t)))),(_t=p?Oe(e,a):Ht(e,a))&&(Tt=oh(P,"onBeforeInput"),0<Tt.length&&(Nt=new bo("onBeforeInput","beforeinput",null,a,W),nt.push({event:Nt,listeners:Tt}),Nt.data=_t)),sb(nt,e,P,a,W)}T0(nt,i)})}function iu(e,i,a){return{instance:e,listener:i,currentTarget:a}}function oh(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ns(e,a),h!=null&&o.unshift(iu(e,h,d)),h=Ns(e,i),h!=null&&o.push(iu(e,h,d))),e=e.return}return o}function pl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function w0(e,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var E=a,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Ns(a,d),P!=null&&_.unshift(iu(a,P,C))):h||(P=Ns(a,d),P!=null&&_.push(iu(a,P,C)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var ub=/\r\n?/g,cb=/\u0000|\uFFFD/g;function R0(e){return(typeof e=="string"?e:""+e).replace(ub,`
`).replace(cb,"")}function C0(e,i){return i=R0(i),R0(e)===i}function uh(){}function ne(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||On(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&On(e,""+o);break;case"className":Ir(e,"class",o);break;case"tabIndex":Ir(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(e,a,o);break;case"style":hc(e,o,d);break;case"data":if(i!=="object"){Ir(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=hi(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ne(e,i,"name",h.name,h,null),ne(e,i,"formEncType",h.formEncType,h,null),ne(e,i,"formMethod",h.formMethod,h,null),ne(e,i,"formTarget",h.formTarget,h,null)):(ne(e,i,"encType",h.encType,h,null),ne(e,i,"method",h.method,h,null),ne(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=hi(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=uh);break;case"onScroll":o!=null&&Bt("scroll",e);break;case"onScrollEnd":o!=null&&Bt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=hi(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Bt("beforetoggle",e),Bt("toggle",e),xr(e,"popover",o);break;case"xlinkActuate":In(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":In(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":In(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":In(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":In(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":In(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":In(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":In(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":In(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":xr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Uf.get(a)||a,xr(e,a,o))}}function fm(e,i,a,o,h,d){switch(a){case"style":hc(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?On(e,o):(typeof o=="number"||typeof o=="bigint")&&On(e,""+o);break;case"onScroll":o!=null&&Bt("scroll",e);break;case"onScrollEnd":o!=null&&Bt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=uh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ie]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):xr(e,a,o)}}}function Xe(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",e),Bt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(e,i,d,_,a,null)}}h&&ne(e,i,"srcSet",a.srcSet,a,null),o&&ne(e,i,"src",a.src,a,null);return;case"input":Bt("invalid",e);var E=d=_=h=null,C=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var W=a[o];if(W!=null)switch(o){case"name":h=W;break;case"type":_=W;break;case"checked":C=W;break;case"defaultChecked":P=W;break;case"value":d=W;break;case"defaultValue":E=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:ne(e,i,o,W,a,null)}}Vs(e,d,E,C,P,_,h,!1),Os(e);return;case"select":Bt("invalid",e),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":o=E;default:ne(e,i,h,E,a,null)}i=d,a=_,e.multiple=!!o,i!=null?Gt(e,!!o,i,!1):a!=null&&Gt(e,!!o,a,!0);return;case"textarea":Bt("invalid",e),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(E=a[_],E!=null))switch(_){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:ne(e,i,_,E,a,null)}Vr(e,o,h,d),Os(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(o=a[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ne(e,i,C,o,a,null)}return;case"dialog":Bt("cancel",e),Bt("close",e);break;case"iframe":case"object":Bt("load",e);break;case"video":case"audio":for(o=0;o<nu.length;o++)Bt(nu[o],e);break;case"image":Bt("error",e),Bt("load",e);break;case"details":Bt("toggle",e);break;case"embed":case"source":case"link":Bt("error",e),Bt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ne(e,i,P,o,a,null)}return;default:if(_o(i)){for(W in a)a.hasOwnProperty(W)&&(o=a[W],o!==void 0&&fm(e,i,W,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&ne(e,i,E,o,a,null))}function hb(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,E=null,C=null,P=null,W=null;for(X in a){var nt=a[X];if(a.hasOwnProperty(X)&&nt!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":C=nt;default:o.hasOwnProperty(X)||ne(e,i,X,null,o,nt)}}for(var Q in o){var X=o[Q];if(nt=a[Q],o.hasOwnProperty(Q)&&(X!=null||nt!=null))switch(Q){case"type":d=X;break;case"name":h=X;break;case"checked":P=X;break;case"defaultChecked":W=X;break;case"value":_=X;break;case"defaultValue":E=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:X!==nt&&ne(e,i,Q,X,o,nt)}}Or(e,_,E,C,P,W,d,h);return;case"select":X=_=E=Q=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":X=C;default:o.hasOwnProperty(d)||ne(e,i,d,null,o,C)}for(h in o)if(d=o[h],C=a[h],o.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":Q=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==C&&ne(e,i,h,d,o,C)}i=E,a=_,o=X,Q!=null?Gt(e,!!a,Q,!1):!!o!=!!a&&(i!=null?Gt(e,!!a,i,!0):Gt(e,!!a,a?[]:"",!1));return;case"textarea":X=Q=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,i,E,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":Q=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&ne(e,i,_,h,o,d)}Ms(e,Q,X);return;case"option":for(var gt in a)if(Q=a[gt],a.hasOwnProperty(gt)&&Q!=null&&!o.hasOwnProperty(gt))switch(gt){case"selected":e.selected=!1;break;default:ne(e,i,gt,null,o,Q)}for(C in o)if(Q=o[C],X=a[C],o.hasOwnProperty(C)&&Q!==X&&(Q!=null||X!=null))switch(C){case"selected":e.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:ne(e,i,C,Q,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in a)Q=a[Ct],a.hasOwnProperty(Ct)&&Q!=null&&!o.hasOwnProperty(Ct)&&ne(e,i,Ct,null,o,Q);for(P in o)if(Q=o[P],X=a[P],o.hasOwnProperty(P)&&Q!==X&&(Q!=null||X!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:ne(e,i,P,Q,o,X)}return;default:if(_o(i)){for(var ge in a)Q=a[ge],a.hasOwnProperty(ge)&&Q!==void 0&&!o.hasOwnProperty(ge)&&fm(e,i,ge,void 0,o,Q);for(W in o)Q=o[W],X=a[W],!o.hasOwnProperty(W)||Q===X||Q===void 0&&X===void 0||fm(e,i,W,Q,o,X);return}}for(var z in a)Q=a[z],a.hasOwnProperty(z)&&Q!=null&&!o.hasOwnProperty(z)&&ne(e,i,z,null,o,Q);for(nt in o)Q=o[nt],X=a[nt],!o.hasOwnProperty(nt)||Q===X||Q==null&&X==null||ne(e,i,nt,Q,o,X)}var dm=null,mm=null;function ch(e){return e.nodeType===9?e:e.ownerDocument}function D0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x0(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function pm(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function fb(){var e=window.event;return e&&e.type==="popstate"?e===gm?!1:(gm=e,!0):(gm=null,!1)}var I0=typeof setTimeout=="function"?setTimeout:void 0,db=typeof clearTimeout=="function"?clearTimeout:void 0,O0=typeof Promise=="function"?Promise:void 0,mb=typeof queueMicrotask=="function"?queueMicrotask:typeof O0<"u"?function(e){return O0.resolve(null).then(e).catch(pb)}:I0;function pb(e){setTimeout(function(){throw e})}function ym(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(o===0){e.removeChild(h),hu(i);return}o--}else a!=="$"&&a!=="$?"&&a!=="$!"||o++;a=h}while(a);hu(i)}function vm(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function gb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Rr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=ti(e.nextSibling),e===null)break}return null}function yb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ti(e.nextSibling),e===null))return null;return e}function ti(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}function V0(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function M0(e,i,a){switch(i=ch(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var Fn=new Map,N0=new Set;function hh(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var sr=ct.d;ct.d={f:vb,r:_b,D:Ab,C:Eb,L:Sb,m:Tb,X:wb,S:bb,M:Rb};function vb(){var e=sr.f(),i=ih();return e||i}function _b(e){var i=Bi(e);i!==null&&i.tag===5&&i.type==="form"?lv(i):sr.r(e)}var gl=typeof document>"u"?null:document;function U0(e,i,a){var o=gl;if(o&&typeof i=="string"&&i){var h=de(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),N0.has(h)||(N0.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Xe(i,"link",e),le(i),o.head.appendChild(i)))}}function Ab(e){sr.D(e),U0("dns-prefetch",e,null)}function Eb(e,i){sr.C(e,i),U0("preconnect",e,i)}function Sb(e,i,a){sr.L(e,i,a);var o=gl;if(o&&e&&i){var h='link[rel="preload"][as="'+de(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+de(a.imageSizes)+'"]')):h+='[href="'+de(e)+'"]';var d=h;switch(i){case"style":d=yl(e);break;case"script":d=vl(e)}Fn.has(d)||(e=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Fn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(ru(d))||i==="script"&&o.querySelector(su(d))||(i=o.createElement("link"),Xe(i,"link",e),le(i),o.head.appendChild(i)))}}function Tb(e,i){sr.m(e,i);var a=gl;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+de(o)+'"][href="'+de(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=vl(e)}if(!Fn.has(d)&&(e=x({rel:"modulepreload",href:e},i),Fn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(d)))return}o=a.createElement("link"),Xe(o,"link",e),le(o),a.head.appendChild(o)}}}function bb(e,i,a){sr.S(e,i,a);var o=gl;if(o&&e){var h=Dr(o).hoistableStyles,d=yl(e);i=i||"default";var _=h.get(d);if(!_){var E={loading:0,preload:null};if(_=o.querySelector(ru(d)))E.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Fn.get(d))&&_m(e,a);var C=_=o.createElement("link");le(C),Xe(C,"link",e),C._p=new Promise(function(P,W){C.onload=P,C.onerror=W}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fh(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:E},h.set(d,_)}}}function wb(e,i){sr.X(e,i);var a=gl;if(a&&e){var o=Dr(a).hoistableScripts,h=vl(e),d=o.get(h);d||(d=a.querySelector(su(h)),d||(e=x({src:e,async:!0},i),(i=Fn.get(h))&&Am(e,i),d=a.createElement("script"),le(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Rb(e,i){sr.M(e,i);var a=gl;if(a&&e){var o=Dr(a).hoistableScripts,h=vl(e),d=o.get(h);d||(d=a.querySelector(su(h)),d||(e=x({src:e,async:!0,type:"module"},i),(i=Fn.get(h))&&Am(e,i),d=a.createElement("script"),le(d),Xe(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function P0(e,i,a,o){var h=(h=Dn.current)?hh(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yl(a.href),a=Dr(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=yl(a.href);var d=Dr(h).hoistableStyles,_=d.get(e);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=h.querySelector(ru(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Fn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Fn.set(e,a),d||Cb(h,e,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vl(a),a=Dr(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function yl(e){return'href="'+de(e)+'"'}function ru(e){return'link[rel="stylesheet"]['+e+"]"}function B0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Cb(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Xe(i,"link",a),le(i),e.head.appendChild(i))}function vl(e){return'[src="'+de(e)+'"]'}function su(e){return"script[async]"+e}function L0(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+de(a.href)+'"]');if(o)return i.instance=o,le(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),le(o),Xe(o,"style",h),fh(o,a.precedence,e),i.instance=o;case"stylesheet":h=yl(a.href);var d=e.querySelector(ru(h));if(d)return i.state.loading|=4,i.instance=d,le(d),d;o=B0(a),(h=Fn.get(h))&&_m(o,h),d=(e.ownerDocument||e).createElement("link"),le(d);var _=d;return _._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Xe(d,"link",o),i.state.loading|=4,fh(d,a.precedence,e),i.instance=d;case"script":return d=vl(a.src),(h=e.querySelector(su(d)))?(i.instance=h,le(h),h):(o=a,(h=Fn.get(d))&&(o=x({},a),Am(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),le(h),Xe(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&!(i.state.loading&4)&&(o=i.instance,i.state.loading|=4,fh(o,a.precedence,e));return i.instance}function fh(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var E=o[_];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function _m(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Am(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var dh=null;function k0(e,i,a){if(dh===null){var o=new Map,h=dh=new Map;h.set(a,o)}else h=dh,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Rr]||d[ke]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var E=o.get(_);E?E.push(d):o.set(_,[d])}}return o}function z0(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Db(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var au=null;function xb(){}function Ib(e,i,a){if(au===null)throw Error(s(475));var o=au;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(i.state.loading&4)){if(i.instance===null){var h=yl(a.href),d=e.querySelector(ru(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=mh.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,le(d);return}d=e.ownerDocument||e,a=B0(a),(h=Fn.get(h))&&_m(a,h),d=d.createElement("link"),le(d);var _=d;_._p=new Promise(function(E,C){_.onload=E,_.onerror=C}),Xe(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&!(i.state.loading&3)&&(o.count++,i=mh.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function Ob(){if(au===null)throw Error(s(475));var e=au;return e.stylesheets&&e.count===0&&Em(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&Em(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function mh(){if(this.count--,this.count===0){if(this.stylesheets)Em(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ph=null;function Em(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ph=new Map,i.forEach(Vb,e),ph=null,mh.call(e))}function Vb(e,i){if(!(i.state.loading&4)){var a=ph.get(e);if(a)var o=a.get(null);else{a=new Map,ph.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=mh.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var lu={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ot,_currentValue2:Ot,_threadCount:0};function Mb(e,i,a,o,h,d,_,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function j0(e,i,a,o,h,d,_,E,C,P,W,nt){return e=new Mb(e,i,a,_,E,C,P,nt),i=1,d===!0&&(i|=24),d=jn(3,null,null,i),e.current=d,d.stateNode=e,i=$f(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Md(d),e}function q0(e){return e?(e=Wa,e):Wa}function F0(e,i,a,o,h,d){h=q0(h),o.context===null?o.context=h:o.pendingContext=h,o=Hr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=jr(e,o,i),a!==null&&(fn(a,e,i),Fo(a,e,i))}function Q0(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Sm(e,i){Q0(e,i),(e=e.alternate)&&Q0(e,i)}function G0(e){if(e.tag===13){var i=Nr(e,67108864);i!==null&&fn(i,e,67108864),Sm(e,67108864)}}var gh=!0;function Nb(e,i,a,o){var h=T.T;T.T=null;var d=ct.p;try{ct.p=2,Tm(e,i,a,o)}finally{ct.p=d,T.T=h}}function Ub(e,i,a,o){var h=T.T;T.T=null;var d=ct.p;try{ct.p=8,Tm(e,i,a,o)}finally{ct.p=d,T.T=h}}function Tm(e,i,a,o){if(gh){var h=bm(o);if(h===null)hm(e,i,o,yh,a),Y0(e,o);else if(Bb(h,e,i,a,o))o.stopPropagation();else if(Y0(e,o),i&4&&-1<Pb.indexOf(e)){for(;h!==null;){var d=Bi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Xn(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var C=1<<31-on(_);E.entanglements[1]|=C,_&=~C}Si(d),!(ue&6)&&(th=pn()+500,eu(0))}}break;case 13:E=Nr(d,2),E!==null&&fn(E,d,2),ih(),Sm(d,2)}if(d=bm(o),d===null&&hm(e,i,o,yh,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else hm(e,i,o,null,a)}}function bm(e){return e=La(e),wm(e)}var yh=null;function wm(e){if(yh=null,e=Wn(e),e!==null){var i=At(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=Wt(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return yh=e,null}function K0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nc()){case xe:return 2;case Le:return 8;case Ui:case ic:return 32;case oo:return 268435456;default:return 32}default:return 32}}var Rm=!1,Xr=null,Wr=null,Zr=null,ou=new Map,uu=new Map,Jr=[],Pb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Y0(e,i){switch(e){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ou.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(i.pointerId)}}function cu(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Bi(i),i!==null&&G0(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function Bb(e,i,a,o,h){switch(i){case"focusin":return Xr=cu(Xr,e,i,a,o,h),!0;case"dragenter":return Wr=cu(Wr,e,i,a,o,h),!0;case"mouseover":return Zr=cu(Zr,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return ou.set(d,cu(ou.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,uu.set(d,cu(uu.get(d)||null,e,i,a,o,h)),!0}return!1}function X0(e){var i=Wn(e.target);if(i!==null){var a=At(i);if(a!==null){if(i=a.tag,i===13){if(i=Wt(a),i!==null){e.blockedOn=i,wr(e.priority,function(){if(a.tag===13){var o=Cn(),h=Nr(a,o);h!==null&&fn(h,a,o),Sm(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vh(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=bm(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Vn=o,a.target.dispatchEvent(o),Vn=null}else return i=Bi(a),i!==null&&G0(i),e.blockedOn=a,!1;i.shift()}return!0}function W0(e,i,a){vh(e)&&a.delete(i)}function Lb(){Rm=!1,Xr!==null&&vh(Xr)&&(Xr=null),Wr!==null&&vh(Wr)&&(Wr=null),Zr!==null&&vh(Zr)&&(Zr=null),ou.forEach(W0),uu.forEach(W0)}function _h(e,i){e.blockedOn===i&&(e.blockedOn=null,Rm||(Rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Lb)))}var Ah=null;function Z0(e){Ah!==e&&(Ah=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ah===e&&(Ah=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(wm(o||a)===null)continue;break}var d=Bi(a);d!==null&&(e.splice(i,3),i-=3,pd(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function hu(e){function i(C){return _h(C,e)}Xr!==null&&_h(Xr,e),Wr!==null&&_h(Wr,e),Zr!==null&&_h(Zr,e),ou.forEach(i),uu.forEach(i);for(var a=0;a<Jr.length;a++){var o=Jr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Jr.length&&(a=Jr[0],a.blockedOn===null);)X0(a),a.blockedOn===null&&Jr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Ie]||null;if(typeof d=="function")_||Z0(a);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ie]||null)E=_.formAction;else if(wm(h)!==null)continue}else E=_.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),Z0(a)}}}function Cm(e){this._internalRoot=e}Eh.prototype.render=Cm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Cn();F0(a,o,e,i,null,null)},Eh.prototype.unmount=Cm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;e.tag===0&&dl(),F0(e.current,2,null,e,null,null),ih(),i[Pi]=null}};function Eh(e){this._internalRoot=e}Eh.prototype.unstable_scheduleHydration=function(e){if(e){var i=oc();e={blockedOn:null,target:e,priority:i};for(var a=0;a<Jr.length&&i!==0&&i<Jr[a].priority;a++);Jr.splice(a,0,e),a===0&&X0(e)}};var J0=t.version;if(J0!=="19.0.0")throw Error(s(527,J0,"19.0.0"));ct.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=rt(i),e=e!==null?yt(e):null,e=e===null?null:e.stateNode,e};var kb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:T,findFiberByHostInstance:Wn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{_r=Sh.inject(kb),$e=Sh}catch{}}return du.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=pv,d=gv,_=yv,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=j0(e,1,!1,null,null,a,o,h,d,_,E,null),e[Pi]=i.current,cm(e.nodeType===8?e.parentNode:e),new Cm(i)},du.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=pv,_=gv,E=yv,C=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=j0(e,1,!0,i,a??null,o,h,d,_,E,C,P),i.context=q0(null),a=i.current,o=Cn(),h=Hr(o),h.callback=null,jr(a,h,o),i.current.lanes=o,ve(i,o),Si(i),e[Pi]=i.current,cm(e),new Eh(i)},du.version="19.0.0",du}var u_;function Zb(){if(u_)return Om.exports;u_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Om.exports=Wb(),Om.exports}var Jb=Zb(),mu={},c_;function $b(){if(c_)return mu;c_=1,Object.defineProperty(mu,"__esModule",{value:!0}),mu.parse=f,mu.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,O){const L=new u,F=w.length;if(F<2)return L;const B=(O==null?void 0:O.decode)||A;let Y=0;do{const it=w.indexOf("=",Y);if(it===-1)break;const Z=w.indexOf(";",Y),dt=Z===-1?F:Z;if(it>dt){Y=w.lastIndexOf(";",it-1)+1;continue}const ot=m(w,Y,it),St=g(w,it,ot),V=w.slice(ot,St);if(L[V]===void 0){let R=m(w,it+1,dt),T=g(w,dt,R);const x=B(w.slice(R,T));L[V]=x}Y=dt+1}while(Y<F);return L}function m(w,O,L){do{const F=w.charCodeAt(O);if(F!==32&&F!==9)return O}while(++O<L);return L}function g(w,O,L){for(;O>L;){const F=w.charCodeAt(--O);if(F!==32&&F!==9)return O+1}return L}function y(w,O,L){const F=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(w))throw new TypeError(`argument name is invalid: ${w}`);const B=F(O);if(!t.test(B))throw new TypeError(`argument val is invalid: ${O}`);let Y=w+"="+B;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function A(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return l.call(w)==="[object Date]"}return mu}$b();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var h_="popstate";function tw(r={}){function t(l,u){let{pathname:f="/",search:m="",hash:g=""}=Ta(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),_p("",{pathname:f,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let g=l.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:Vu(u))}function s(l,u){si(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return nw(t,n,s,r)}function ce(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function si(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ew(){return Math.random().toString(36).substring(2,10)}function f_(r,t){return{usr:r.state,key:r.key,idx:t}}function _p(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Ta(t):t,state:n,key:t&&t.key||s||ew()}}function Vu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ta(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function nw(r,t,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",g=null,y=A();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function A(){return(f.state||{idx:null}).idx}function b(){m="POP";let B=A(),Y=B==null?null:B-y;y=B,g&&g({action:m,location:F.location,delta:Y})}function w(B,Y){m="PUSH";let it=_p(F.location,B,Y);n&&n(it,B),y=A()+1;let Z=f_(it,y),dt=F.createHref(it);try{f.pushState(Z,"",dt)}catch(ot){if(ot instanceof DOMException&&ot.name==="DataCloneError")throw ot;l.location.assign(dt)}u&&g&&g({action:m,location:F.location,delta:1})}function O(B,Y){m="REPLACE";let it=_p(F.location,B,Y);n&&n(it,B),y=A();let Z=f_(it,y),dt=F.createHref(it);f.replaceState(Z,"",dt),u&&g&&g({action:m,location:F.location,delta:0})}function L(B){let Y=l.location.origin!=="null"?l.location.origin:l.location.href,it=typeof B=="string"?B:Vu(B);return it=it.replace(/ $/,"%20"),ce(Y,`No window.location.(origin|href) available to create URL for href: ${it}`),new URL(it,Y)}let F={get action(){return m},get location(){return r(l,f)},listen(B){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(h_,b),g=B,()=>{l.removeEventListener(h_,b),g=null}},createHref(B){return t(l,B)},createURL:L,encodeLocation(B){let Y=L(B);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:w,replace:O,go(B){return f.go(B)}};return F}function YA(r,t,n="/"){return iw(r,t,n,!1)}function iw(r,t,n,s){let l=typeof t=="string"?Ta(t):t,u=_s(l.pathname||"/",n);if(u==null)return null;let f=XA(r);rw(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=pw(u);m=dw(f[g],y,s)}return m}function XA(r,t=[],n=[],s=""){let l=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(ce(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=cr([s,g.relativePath]),A=n.concat(g);u.children&&u.children.length>0&&(ce(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),XA(u.children,t,A,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:hw(y,u.index),routesMeta:A})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))l(u,f);else for(let g of WA(u.path))l(u,f,g)}),t}function WA(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=WA(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),l&&m.push(...f),m.map(g=>r.startsWith("/")&&g===""?"/":g)}function rw(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:fw(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sw=/^:[\w-]+$/,aw=3,lw=2,ow=1,uw=10,cw=-2,d_=r=>r==="*";function hw(r,t){let n=r.split("/"),s=n.length;return n.some(d_)&&(s+=cw),t&&(s+=lw),n.filter(l=>!d_(l)).reduce((l,u)=>l+(sw.test(u)?aw:u===""?ow:uw),s)}function fw(r,t){return r.length===t.length&&r.slice(0,-1).every((s,l)=>s===t[l])?r[r.length-1]-t[t.length-1]:0}function dw(r,t,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,A=u==="/"?t:t.slice(u.length)||"/",b=Gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},A),w=g.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Gh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},A)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:cr([u,b.pathname]),pathnameBase:_w(cr([u,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function Gh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=mw(r.path,r.caseSensitive,r.end),l=t.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((y,{paramName:A,isOptional:b},w)=>{if(A==="*"){let L=m[w]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const O=m[w];return b&&!O?y[A]=void 0:y[A]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function mw(r,t=!1,n=!0){si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function pw(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function _s(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function gw(r,t="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?Ta(r):r;return{pathname:n?n.startsWith("/")?n:yw(n,t):t,search:Aw(s),hash:Ew(l)}}function yw(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function Um(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vw(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ZA(r){let t=vw(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function JA(r,t,n,s=!1){let l;typeof r=="string"?l=Ta(r):(l={...r},ce(!l.pathname||!l.pathname.includes("?"),Um("?","pathname","search",l)),ce(!l.pathname||!l.pathname.includes("#"),Um("#","pathname","hash",l)),ce(!l.search||!l.search.includes("#"),Um("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let b=t.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),b-=1;l.pathname=w.join("/")}m=b>=0?t[b]:"/"}let g=gw(l,m),y=f&&f!=="/"&&f.endsWith("/"),A=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||A)&&(g.pathname+="/"),g}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),_w=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Ew=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Sw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var $A=["POST","PUT","PATCH","DELETE"];new Set($A);var Tw=["GET",...$A];new Set(Tw);var Jl=G.createContext(null);Jl.displayName="DataRouter";var mf=G.createContext(null);mf.displayName="DataRouterState";var tE=G.createContext({isTransitioning:!1});tE.displayName="ViewTransition";var bw=G.createContext(new Map);bw.displayName="Fetchers";var ww=G.createContext(null);ww.displayName="Await";var Vi=G.createContext(null);Vi.displayName="Navigation";var Xu=G.createContext(null);Xu.displayName="Location";var gr=G.createContext({outlet:null,matches:[],isDataRoute:!1});gr.displayName="Route";var ig=G.createContext(null);ig.displayName="RouteError";function Rw(r,{relative:t}={}){ce(Wu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Vi),{hash:l,pathname:u,search:f}=Zu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:l})}function Wu(){return G.useContext(Xu)!=null}function ba(){return ce(Wu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Xu).location}var eE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function nE(r){G.useContext(Vi).static||G.useLayoutEffect(r)}function Cw(){let{isDataRoute:r}=G.useContext(gr);return r?zw():Dw()}function Dw(){ce(Wu(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(Jl),{basename:t,navigator:n}=G.useContext(Vi),{matches:s}=G.useContext(gr),{pathname:l}=ba(),u=JSON.stringify(ZA(s)),f=G.useRef(!1);return nE(()=>{f.current=!0}),G.useCallback((g,y={})=>{if(si(f.current,eE),!f.current)return;if(typeof g=="number"){n.go(g);return}let A=JA(g,JSON.parse(u),l,y.relative==="path");r==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:cr([t,A.pathname])),(y.replace?n.replace:n.push)(A,y.state,y)},[t,n,u,l,r])}G.createContext(null);function Zu(r,{relative:t}={}){let{matches:n}=G.useContext(gr),{pathname:s}=ba(),l=JSON.stringify(ZA(n));return G.useMemo(()=>JA(r,JSON.parse(l),s,t==="path"),[r,l,s,t])}function xw(r,t){return iE(r,t)}function iE(r,t,n,s){var it;ce(Wu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=G.useContext(Vi),{matches:f}=G.useContext(gr),m=f[f.length-1],g=m?m.params:{},y=m?m.pathname:"/",A=m?m.pathnameBase:"/",b=m&&m.route;{let Z=b&&b.path||"";rE(y,!b||Z.endsWith("*")||Z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Z}"> to <Route path="${Z==="/"?"*":`${Z}/*`}">.`)}let w=ba(),O;if(t){let Z=typeof t=="string"?Ta(t):t;ce(A==="/"||((it=Z.pathname)==null?void 0:it.startsWith(A)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${A}" but pathname "${Z.pathname}" was given in the \`location\` prop.`),O=Z}else O=w;let L=O.pathname||"/",F=L;if(A!=="/"){let Z=A.replace(/^\//,"").split("/");F="/"+L.replace(/^\//,"").split("/").slice(Z.length).join("/")}let B=!u&&n&&n.matches&&n.matches.length>0?n.matches:YA(r,{pathname:F});si(b||B!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),si(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Nw(B&&B.map(Z=>Object.assign({},Z,{params:Object.assign({},g,Z.params),pathname:cr([A,l.encodeLocation?l.encodeLocation(Z.pathname).pathname:Z.pathname]),pathnameBase:Z.pathnameBase==="/"?A:cr([A,l.encodeLocation?l.encodeLocation(Z.pathnameBase).pathname:Z.pathnameBase])})),f,n,s);return t&&Y?G.createElement(Xu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Y):Y}function Iw(){let r=kw(),t=Sw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},t),n?G.createElement("pre",{style:l},n):null,f)}var Ow=G.createElement(Iw,null),Vw=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?G.createElement(gr.Provider,{value:this.props.routeContext},G.createElement(ig.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mw({routeContext:r,match:t,children:n}){let s=G.useContext(Jl);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(gr.Provider,{value:r},n)}function Nw(r,t=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);ce(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:A,errors:b}=n,w=y.route.loader&&!A.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||w){f=!0,m>=0?l=l.slice(0,m+1):l=[l[0]];break}}}return l.reduceRight((g,y,A)=>{let b,w=!1,O=null,L=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,O=y.route.errorElement||Ow,f&&(m<0&&A===0?(rE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,L=null):m===A&&(w=!0,L=y.route.hydrateFallbackElement||null)));let F=t.concat(l.slice(0,A+1)),B=()=>{let Y;return b?Y=O:w?Y=L:y.route.Component?Y=G.createElement(y.route.Component,null):y.route.element?Y=y.route.element:Y=g,G.createElement(Mw,{match:y,routeContext:{outlet:g,matches:F,isDataRoute:n!=null},children:Y})};return n&&(y.route.ErrorBoundary||y.route.errorElement||A===0)?G.createElement(Vw,{location:n.location,revalidation:n.revalidation,component:O,error:b,children:B(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):B()},null)}function rg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Uw(r){let t=G.useContext(Jl);return ce(t,rg(r)),t}function Pw(r){let t=G.useContext(mf);return ce(t,rg(r)),t}function Bw(r){let t=G.useContext(gr);return ce(t,rg(r)),t}function sg(r){let t=Bw(r),n=t.matches[t.matches.length-1];return ce(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Lw(){return sg("useRouteId")}function kw(){var s;let r=G.useContext(ig),t=Pw("useRouteError"),n=sg("useRouteError");return r!==void 0?r:(s=t.errors)==null?void 0:s[n]}function zw(){let{router:r}=Uw("useNavigate"),t=sg("useNavigate"),n=G.useRef(!1);return nE(()=>{n.current=!0}),G.useCallback(async(l,u={})=>{si(n.current,eE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...u}))},[r,t])}var m_={};function rE(r,t,n){!t&&!m_[r]&&(m_[r]=!0,si(!1,n))}G.memo(Hw);function Hw({routes:r,future:t,state:n}){return iE(r,void 0,n,t)}function Au(r){ce(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jw({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){ce(!Wu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=Ta(n));let{pathname:g="/",search:y="",hash:A="",state:b=null,key:w="default"}=n,O=G.useMemo(()=>{let L=_s(g,f);return L==null?null:{location:{pathname:L,search:y,hash:A,state:b,key:w},navigationType:s}},[f,g,y,A,b,w,s]);return si(O!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${A}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:G.createElement(Vi.Provider,{value:m},G.createElement(Xu.Provider,{children:t,value:O}))}function qw({children:r,location:t}){return xw(Ap(r),t)}function Ap(r,t=[]){let n=[];return G.Children.forEach(r,(s,l)=>{if(!G.isValidElement(s))return;let u=[...t,l];if(s.type===G.Fragment){n.push.apply(n,Ap(s.props.children,u));return}ce(s.type===Au,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ce(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ap(s.props.children,u)),n.push(f)}),n}var Uh="get",Ph="application/x-www-form-urlencoded";function pf(r){return r!=null&&typeof r.tagName=="string"}function Fw(r){return pf(r)&&r.tagName.toLowerCase()==="button"}function Qw(r){return pf(r)&&r.tagName.toLowerCase()==="form"}function Gw(r){return pf(r)&&r.tagName.toLowerCase()==="input"}function Kw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Yw(r,t){return r.button===0&&(!t||t==="_self")&&!Kw(r)}var bh=null;function Xw(){if(bh===null)try{new FormData(document.createElement("form"),0),bh=!1}catch{bh=!0}return bh}var Ww=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pm(r){return r!=null&&!Ww.has(r)?(si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ph}"`),null):r}function Zw(r,t){let n,s,l,u,f;if(Qw(r)){let m=r.getAttribute("action");s=m?_s(m,t):null,n=r.getAttribute("method")||Uh,l=Pm(r.getAttribute("enctype"))||Ph,u=new FormData(r)}else if(Fw(r)||Gw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||m.getAttribute("action");if(s=g?_s(g,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Uh,l=Pm(r.getAttribute("formenctype"))||Pm(m.getAttribute("enctype"))||Ph,u=new FormData(m,r),!Xw()){let{name:y,type:A,value:b}=r;if(A==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,b)}}else{if(pf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Uh,s=null,l=Ph,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}function ag(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}async function Jw(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $w(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function tR(r,t,n){let s=await Promise.all(r.map(async l=>{let u=t.routes[l.route.id];if(u){let f=await Jw(u,n);return f.links?f.links():[]}return[]}));return rR(s.flat(1).filter($w).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function p_(r,t,n,s,l,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>{var A;return n[y].pathname!==g.pathname||((A=n[y].route.path)==null?void 0:A.endsWith("*"))&&n[y].params["*"]!==g.params["*"]};return u==="assets"?t.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?t.filter((g,y)=>{var b;let A=s.routes[g.route.id];if(!A||!A.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function eR(r,t,{includeHydrateFallback:n}={}){return nR(r.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function nR(r){return[...new Set(r)]}function iR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function rR(r,t){let n=new Set;return new Set(t),r.reduce((s,l)=>{let u=JSON.stringify(iR(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function sR(r){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function aR(){let r=G.useContext(Jl);return ag(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function lR(){let r=G.useContext(mf);return ag(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var lg=G.createContext(void 0);lg.displayName="FrameworkContext";function sE(){let r=G.useContext(lg);return ag(r,"You must render this element inside a <HydratedRouter> element"),r}function oR(r,t){let n=G.useContext(lg),[s,l]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:A,onTouchStart:b}=t,w=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=Y=>{Y.forEach(it=>{f(it.isIntersecting)})},B=new IntersectionObserver(F,{threshold:.5});return w.current&&B.observe(w.current),()=>{B.disconnect()}}},[r]),G.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let O=()=>{l(!0)},L=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:pu(m,O),onBlur:pu(g,L),onMouseEnter:pu(y,O),onMouseLeave:pu(A,L),onTouchStart:pu(b,O)}]:[!1,w,{}]}function pu(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function uR({page:r,...t}){let{router:n}=aR(),s=G.useMemo(()=>YA(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(hR,{page:r,matches:s,...t}):null}function cR(r){let{manifest:t,routeModules:n}=sE(),[s,l]=G.useState([]);return G.useEffect(()=>{let u=!1;return tR(r,t,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,t,n]),s}function hR({page:r,matches:t,...n}){let s=ba(),{manifest:l,routeModules:u}=sE(),{loaderData:f,matches:m}=lR(),g=G.useMemo(()=>p_(r,t,m,l,s,"data"),[r,t,m,l,s]),y=G.useMemo(()=>p_(r,t,m,l,s,"assets"),[r,t,m,l,s]),A=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let O=new Set,L=!1;if(t.forEach(B=>{var it;let Y=l.routes[B.route.id];!Y||!Y.hasLoader||(!g.some(Z=>Z.route.id===B.route.id)&&B.route.id in f&&((it=u[B.route.id])!=null&&it.shouldRevalidate)||Y.hasClientLoader?L=!0:O.add(B.route.id))}),O.size===0)return[];let F=sR(r);return L&&O.size>0&&F.searchParams.set("_routes",t.filter(B=>O.has(B.route.id)).map(B=>B.route.id).join(",")),[F.pathname+F.search]},[f,s,l,g,t,r,u]),b=G.useMemo(()=>eR(y,l),[y,l]),w=cR(y);return G.createElement(G.Fragment,null,A.map(O=>G.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),b.map(O=>G.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),w.map(({key:O,link:L})=>G.createElement("link",{key:O,...L})))}function fR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var aE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aE&&(window.__reactRouterVersion="7.2.0")}catch{}function dR({basename:r,children:t,window:n}){let s=G.useRef();s.current==null&&(s.current=tw({window:n,v5Compat:!0}));let l=s.current,[u,f]=G.useState({action:l.action,location:l.location}),m=G.useCallback(g=>{G.startTransition(()=>f(g))},[f]);return G.useLayoutEffect(()=>l.listen(m),[l,m]),G.createElement(jw,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:l})}var lE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,og=G.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:A,viewTransition:b,...w},O){let{basename:L}=G.useContext(Vi),F=typeof y=="string"&&lE.test(y),B,Y=!1;if(typeof y=="string"&&F&&(B=y,aE))try{let T=new URL(window.location.href),x=y.startsWith("//")?new URL(T.protocol+y):new URL(y),N=_s(x.pathname,L);x.origin===T.origin&&N!=null?y=N+x.search+x.hash:Y=!0}catch{si(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let it=Rw(y,{relative:l}),[Z,dt,ot]=oR(s,w),St=yR(y,{replace:f,state:m,target:g,preventScrollReset:A,relative:l,viewTransition:b});function V(T){t&&t(T),T.defaultPrevented||St(T)}let R=G.createElement("a",{...w,...ot,href:B||it,onClick:Y||u?t:V,ref:fR(O,dt),target:g,"data-discover":!F&&n==="render"?"true":void 0});return Z&&!F?G.createElement(G.Fragment,null,R,G.createElement(uR,{page:it})):R});og.displayName="Link";var mR=G.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:g,...y},A){let b=Zu(f,{relative:y.relative}),w=ba(),O=G.useContext(mf),{navigator:L,basename:F}=G.useContext(Vi),B=O!=null&&SR(b)&&m===!0,Y=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,it=w.pathname,Z=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(it=it.toLowerCase(),Z=Z?Z.toLowerCase():null,Y=Y.toLowerCase()),Z&&F&&(Z=_s(Z,F)||Z);const dt=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ot=it===Y||!l&&it.startsWith(Y)&&it.charAt(dt)==="/",St=Z!=null&&(Z===Y||!l&&Z.startsWith(Y)&&Z.charAt(Y.length)==="/"),V={isActive:ot,isPending:St,isTransitioning:B},R=ot?t:void 0,T;typeof s=="function"?T=s(V):T=[s,ot?"active":null,St?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(V):u;return G.createElement(og,{...y,"aria-current":R,className:T,ref:A,style:x,to:f,viewTransition:m},typeof g=="function"?g(V):g)});mR.displayName="NavLink";var pR=G.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:l,state:u,method:f=Uh,action:m,onSubmit:g,relative:y,preventScrollReset:A,viewTransition:b,...w},O)=>{let L=AR(),F=ER(m,{relative:y}),B=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&lE.test(m),it=Z=>{if(g&&g(Z),Z.defaultPrevented)return;Z.preventDefault();let dt=Z.nativeEvent.submitter,ot=(dt==null?void 0:dt.getAttribute("formmethod"))||f;L(dt||Z.currentTarget,{fetcherKey:t,method:ot,navigate:n,replace:l,state:u,relative:y,preventScrollReset:A,viewTransition:b})};return G.createElement("form",{ref:O,method:B,action:F,onSubmit:s?g:it,...w,"data-discover":!Y&&r==="render"?"true":void 0})});pR.displayName="Form";function gR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function oE(r){let t=G.useContext(Jl);return ce(t,gR(r)),t}function yR(r,{target:t,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=Cw(),g=ba(),y=Zu(r,{relative:u});return G.useCallback(A=>{if(Yw(A,t)){A.preventDefault();let b=n!==void 0?n:Vu(g)===Vu(y);m(r,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[g,m,y,n,s,t,r,l,u,f])}var vR=0,_R=()=>`__${String(++vR)}__`;function AR(){let{router:r}=oE("useSubmit"),{basename:t}=G.useContext(Vi),n=Lw();return G.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=Zw(s,t);if(l.navigate===!1){let A=l.fetcherKey||_R();await r.fetch(A,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:g,body:y,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,n])}function ER(r,{relative:t}={}){let{basename:n}=G.useContext(Vi),s=G.useContext(gr);ce(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...Zu(r||".",{relative:t})},f=ba();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(A=>A==="")){m.delete("index"),g.filter(b=>b).forEach(b=>m.append("index",b));let A=m.toString();u.search=A?`?${A}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),Vu(u)}function SR(r,t={}){let n=G.useContext(tE);ce(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=oE("useViewTransitionState"),l=Zu(r,{relative:t.relative});if(!n.isTransitioning)return!1;let u=_s(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=_s(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Gh(l.pathname,f)!=null||Gh(l.pathname,u)!=null}new TextEncoder;const TR=5e3,Ep=9.8/(1e3/60),Xt={width:256,height:224},aa=8,_l={HD:3,"2K":4,"4K":5},g_=.05,bR="/bust-a-move/assets/bg-lvl1-arena-CnWpDwuO.png",wR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAD3XpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZZrkuQoDIT/c4o9ApIQEsfhGbE32ONvgl39mO6ZrokoEzYujIUyP8AV5n//rvAPDtLsIal5LjlHHKmkwhU3Hq+jnCvFdK7nSI87+twe3l5iNAlquX5avWqqaNf3Fx7dqX1uD34/Yb8D3Q8eAWWPzLgZH5NEO1/tlO5AZV43ubh9TLXxVfe740nlPqk/0rqrvqV9aEgGl4ZiIGGeQhLP1a8MZJ8qFbWcq6EfScI9SwmnyncwGPJJ3qOO8aNBn0x+3IVf3Y/5e/O53j3kFy/zg1r+/gHp9+Yfiz8MLG8Z8ecHs8T0Rc59rjV8rXmpqynD0XzPqGM2PcKgY4Plcl7LKIZTcW+nFBSPNXYgH7HHhtKpEIPKCpRoUKVF89SdOlJMPBlMmLmznDYHo8JdLk4otNikyBAHrM4zAGUSfsuFzrjljNfJMfIgdGVCMMIrvy3hTw//poS19jQlOobm4xXy4j2vkcYmt6/otVfrurnpMfhRbvzxw8TCVAUzPTY7BNbYrhBN6X1uyeEs6KeoL8YUbNwBYBHGViRDAgIxkyhlisZsRPDRAagic5bEDQRIlQeS5CSSORg777HxjtHpy8qZdzP2JoBQyWJgU6QCVkqK+WPJMYeqiiZVzWrqQYvWLDllzTlb3ptcNbFkatnM3IpVF0+unt3cvXgtXAR7oJZcrHgppVYOFQNVxKroX9HSuElLTVtu1ryVVjumT09de+7WvZdeBw8Z2CZGHjZ8lFEnhYmdYqapM0+bPsusC3NtyUpLV162fJVV36jdVL+Uv6BGNzU+pHY/e6OG1mD2CEF7O9HNDMQ4EYjbJoAJzZtZdEqJN7nNLBbGolBGkrrZhEGbGBCmSayL3ti9k3uKW1B/ihv/RC5sdK8gF4DuK7dvqI39neuH2LUKt6dRsPoKzdkTzE7YpJR6brG2AsFEcLDhM2Vppeo+axorZ55ZUp+jT+ktdZjQaI+GYFrZQ0XnDt0aV5OKHgQBkJqpGT6Cjt/ebeD9ZLTqkBl9cGwV9hWoUCxG90Gh+v5cYTetM8UOcQ2DKiWM1GBjw8Ij7ymXWXrPZc1uzVZLhgRyauacHfupwGxJ2XtXrPGpMMPSlHKFwsYgMgbUzVLJq/jIpMYVgFgnmXR8LGaBGyOk0ibC7NHKaKUbeDqsyLJtj8gw7aCeftAefhT/pPbwo/gv2vGX5xv14Qn5T6kPT8h/Sn14BfqtPrwC/dYeXoF+aw+vQL+1h1eg3+rDK9Bv9eEV6Lf68Ar0W334DfqZ7eSM/2vYHfEvPfwP3Vf/5ZbyExEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1O1IhUHC4p0yFCdLIiKCC5ahSJUCLVCqw4ml35Bk4YkxcVRcC04+LFYdXBx1tXBVRAEP0DcBSdFFynxf2mhRYwHx/14d+9x9w4QaiWmWR1jgKbbZjIeE9OZVTHwCj+6MIAZhGVmGXOSlIDn+LqHj693UZ7lfe7P0atmLQb4ROJZZpg28Qbx1KZtcN4nDrGCrBKfE4+adEHiR64rDX7jnHdZ4JkhM5WcJw4Ri/k2VtqYFUyNeJI4omo65QvpBquctzhrpQpr3pO/MJjVV5a5TjOMOBaxBAkiFFRQRAk2orTqpFhI0n7Mwz/k+iVyKeQqgpFjAWVokF0/+B/87tbKTYw3koIxoPPFcT6GgcAuUK86zvex49RPAP8zcKW3/OUaMP1JerWlRY6Avm3g4rqlKXvA5Q4w+GTIpuxKfppCLge8n9E3ZYD+W6BnrdFbcx+nD0CKukrcAAeHwEiestc93t3d3tu/Z5r9/QCf63K5S1bc0wAAAAlwSFlzAAAK8AAACvABQqw0mAAAAAd0SU1FB+kDBxMdG0yBGloAAAFcSURBVFjD7ZihjsMwDIazU0HgoKHhQcPAwcHBwYN7hMHBwcE9wmBh4WBgYGGgYWDgAZ+iXTdVu/R00q02qOwk1v+54K+ahV1tERERzc8jpWQmx3K5rJNOKcUYjTHKr/yz5W8Qcbf/qJa/nFsAAICKXmZebVy19LX1MUblV/458y9Ofd/7OMVCQgi+85JbsJlz2bJgjTGDlVKe2uMU6XeH+93heD4ov/LPlr8RJ5gyABEZY3zn3doBADP7zluwREREzMzMIYTM+faA0FdL33qe8iv/bPnfxs+tNk40RhJmJiK3diEEYS3OdL8i5YD+GZW6UH7lf23+ZnyA3seUEgCMJGUGsSJ5yidekq3ZXFtfPIOIBt7zpEpFKL/yvzZ/Y34pBj4BAN3lmlKSSzZEDCFUv8c/COVX/v/I38hvdM555FDZvU2EeKSx0D8s74d/qDJIvrX4L/dSfuWfLf8nWVYkVHzU+YgAAAAASUVORK5CYII=",RR="/bust-a-move/assets/bg-lvl2-arena-BMHMfxQg.png",CR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAADwHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZZrkusoDIX/s4pZApIQguXwrJodzPLngO10+nYmcVeNKQPhKb4jFLvxz9/T/YWH1JILyGKO0eMJOWQuqCR/PHnn5MPO9xOuGn1vd49JjCZBKcdPK0dJBe36NeEaTvV7u0tnD6dzobPjWlDWzoxKfzYS7Xy0UzgXyuOoxJzs2dTKR9nOgduU86V2mXUWbR3tqSEYKHXFRsI8hMTvPB0WyHpVCkpBvnr9ylEXIYeC5ToSgHw73lV6/wzoG+Sr5v6k7+Nr+FzOEfIHy3ipFl93kL6GvxE/bSwPi/h7xxQffhznfOfsac5xnK6ECKLx9KgNm65lMLACuexpEcnwKuq2U0ZKvvgGybtvviI1ysQgPh0F6lRo0thlowYTAw82lMyNZbclMc7cZOkUVqLJJlm6JIjVeDhIF4QfttDeN+/9GiXs3AlDmbAYYcp/Jveu8zfJzbnclGgDjZsV7OLl1zBjKbdyjFq3dZ666QZ8pVN+/+RYcFVophtzwgGLr8cSVenLt2TrLBinKA+NyVk/FwAi7K0whgQK+EiiFMkbsxGBY4JABZazBK5QgFS5w0gOIpGdceK1N+YY7bGsHHk1IzZBCJUoBm2yFIgVgsJ/LCT4UFHRoKpRTZPTrCVKDFFjjBZXkCsmFkwtmlmybCVJCklTTJZSyqlkzoIYqDlmyynnXAq7go0K1ioYX9BSuUoNVWusVlPNtTS4TwtNW2zWUsutdO7SESZ67NZTz70McgORYoShIw4baeRRJnxtygxTZ5w208yzPFQ7Vf2RfqEanarxVmqNs4dqaHVm1xK0wokuzaAYB4LithSAQ/PSzCcKgZdySzOfEcZEGUbq0sZ1WopBwjCIddJDuy/lbunmNN3SjT8p55Z0/4dyDtL91O2Fan39z7Wt2HELF1MvuH04eo/VjVa5d8sgzQQW0afSPa/IBxkslKZhUujD8qA8YCuXmjG4l5KWcXPhm7j9owYlHdSUSq5V+sT/Sg1gb1FK9ZExZ6ndK9bJpeL4CHA4YUkaBYEgUI3BjbAkzrONBFjBNwQ5RNpQysSG1ILFIJZwptgpDMk0ELa7DUikBqDWC+wGIyAkhHzuqUZYnISytgmsca2cE8W6IXxg4G5DOBjAi/D98AKAu0fgMwB3j8BnAO4egc8A3D0CnwG4ewQ+A3D3CHwG4H51D94AcPcvwXsA7v4leA/A3b8E7wG4+5fgPQB3/xK8B+DuXwKcaBms+ISbiJj4cnf/AlzP/yI0VJAVAAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnoGiZNGAAAACXBIWXMAAArwAAAK8AFCrDSYAAAAB3RJTUUH6QMKDh8YASrBnAAAAalJREFUWMPtmKGPgzAUxh8JgklkJRK5OZCVzIE8OYub3ORN4u5fQII7JJI65qgbsueYG/LEW5pmsB2X3Kn2ieYlfe/7fg1JeakVRUBp1PcclsU43hxntbBYCAEAhJA/Fx/H2zBchRhd1/Abfn35rTzfBcEaFgdj5+X1p9O746z2+/1/iJdlVRRVmhp+w68vvx0Ea8bOyw8ghGBsafEwXAlZLdf/lTjemobf8OvMb2Nb33PP89X1WRvnLcBmqvWiHQcJWaYmS8RnXdSxxPAbfm35bdwIQ9o0tbpiadv2U6GuqzBJ0x0efrZdDuvSGLcAQK15cJHiMmZd1A9g+A2/tvzW5fJRlhXnre9v1BV1XRcnAZhNhuGuPm0HgDiOJESWZZ7nyy2ZSJdnFphMXQghTVO3bZ/nht/w68tvowHKqSsGpREAFEU1mxTF/bY4HI6MnQnZBsG6LIHzltJtlmVSJwxpXX9iGQDE8bEsK9XlmQUmU8iHMPyGX09+K893+FufvlN33dePN1CSzDzBCyGS5E2VDUNaFPn0PV26vL6Bpi5ywklTw2/49eX/BqWXrxUMbe4nAAAAAElFTkSuQmCC",DR="/bust-a-move/assets/bg-lvl3-arena-BcyvGgfa.png",xR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAFVHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVZZduQoEPznFHMEMiEXjpNs780N5vgTqFR22e3uds8b4ZIwYkkiIgOl9c/fO/2Fi6TlVMVcm2rGVVttHKh4flztulOu1/266rNGH9vT2yBGU8GzPP61eDwp0C7vA57dqX9sT36/Yb8nul88JyxnZUZlvgaJdn60U70nautR0eb2Gmrnx3PcHa9Q7h+NZ1j3Y5ytvTRUA0pTsFBhXoVKvu7+iKCcn5TAs+B+3uZzR12Kp+sF35MBkA/bez5zfgXoA8jPWvqMftavwee4e5RPWOqTNf36BcnX4F8Qvyxc3iLijy9wyQ/buX97T997PXYXVYGo3oq6wKbnNOjYAXm5himK4Seo21UaiufIA5TPPHJHGdSIgfhOVGlS0KZ1PQcNhFh5seHJPLhcbV6MG49yeKqn0GYrrczi4HLwSqCyFn6Lha5127XeIMfKk9CVCZMRhvy0pF+9/JOS9j4yJboA1QsrxMVHWQjjMHfu6HWydd+8yQXws9z05xdhQapgUC6YHRuM3B9TdKF3bZWL54J+gucjhSjZvCcARFhbEAwVMJCVipBSNmYjAo4OggKRc6ncwQCJ8ESQXEtRTsbOZ22MMbr6srDyaYY3gQgpWgzctBIgq1aBfqw6NBRSpIqIioknaRJatKqoqukxubBi1cTUzNyahRevLq5u7t48GrcCD5SmzZq31iI4BRYKzBXoH2jp3EuvXbp2695bjwH5jDpk6LDho42YPMuETUydNn22GYvSglOsumTpsuWrrdjQ2i67btm6bftuO95Yu1n9ofwBa3SzxhdTp5+9sYbWZPacgo6dyOEMjHElMG6HAQiaD2fZqVY+zB3OcmMkhTCClMNNmnQYA4V1EcumN+7emfsWb0n8W7zx75hLh7r/g7kE6n7k7QvW5jnnxsXYIwsPprkg+/ratloiWVgaRjNqyzz80ANI4TBgwequgcU1Zu91n41qKT2wcPZ5Km2vtcNpp4B1CmbjqL68ZASo4ks2t74AquLkNKBW1BHUsrL6mFVoLOTiSbLcpseSlJdQXdVx8MMJDYIBDQh9cptio4OVijAmosDmwe1c4ieMsymdO2yVPJemyLp4xALfHsSh3KDHwW1PoLkxLeHLAsm/8F/gkyOm7jwKlIbTGMqCUYTlntrIhBEcvbboulCfc5GPtQBzhmegsmz3viLb6huyFAae5GLQ6jDeOJ73sdqOU6FgE9SrzgxL39hEMIbnFq11oL+GQJ74C0MkXFdGgNAKBw6W1eqK1JccJdVCa17ZSmG6sRA4womge5ZNrrtILkbHenCMSG4C9wM3ShWAtbUTZvUACtSM1p7MfUKGruSNM77EAvbt+EiQgYMRI5pIQIfdtC1AngfUXyHSRIgAtQJsNxaFCgcGA14H4h3a19JshO7WCDxnwg4gBKihtAGlwo8x2muadUx3hl56q8geKYiEGCcr9grKQD4yNEygrIl/mXwraECCQZFQWAEPe83UIe/to1iDPpFY3MMbtlsDmVnpSBRwQdVDbrpG95MTn1Ii/eeceKTE0RgQl5HqgE2BumJjOFjGpwRPyABaQBrYPJFi+MDcqqMSxCID3wjAceB7ssGnsFeYv0dULnCoiI2Ugo1kJAp46GNomx3rHB6QEDo7LGEonWTLc8DHZq2TKgsMJvH5VhAgFtYXlHARpoLJdvXYEkfmcFAnrQxPQ1YsAk34dLSAN7YiOmdY6h2AUZtHjbnqqYyzvhmW3dNwkl46y78xhvQLZ/gjY0gfnOHVF75rC2U0dDhg71oHdrPhu/8Cgk0J43K/aRsAAAGDaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX1OlUqoOdhDpkKE6WRAVcdQqFKFCqBVadTC59AuaGJIUF0fBteDgx2LVwcVZVwdXQRD8AHEXnBRdpMT/JYUWMR4c9+PdvcfdO0BoVJlmdY0Bmm6bmVRSzOVXxNArggijDzEEZGYZs5KUhu/4ukeAr3cJnuV/7s/RqxYsBgRE4hlmmDbxOvHUpm1w3ieOsrKsEp8Tj5p0QeJHrisev3EuuSzwzKiZzcwRR4nFUgcrHczKpkY8SRxXNZ3yhZzHKuctzlq1xlr35C+MFPTlJa7TjCGFBSxCgggFNVRQhY0ErTopFjK0n/TxD7l+iVwKuSpg5JjHBjTIrh/8D353axUnxr2kSBLofnGcj2EgtAs0647zfew4zRMg+Axc6W3/RgOY/iS93tbiR0D/NnBx3daUPeByBxh8MmRTdqUgTaFYBN7P6JvywMAtEF71emvt4/QByFJX6Rvg4BAYKVH2ms+7ezp7+/dMq78fAt5yegaJk0YAAAAJcEhZcwAACvAAAArwAUKsNJgAAAAHdElNRQfpAwoOOgNjvNiXAAABZUlEQVRYw+2YoZLDIBCGaSeiEolErkRWRvIIyEoeobIy8mRlZB4hspJHWIlEIisrmGEYcpP26Im7Zn+1AcL/bWbyD8lOgZCSKQXs5wohsLclhGizDiF6zxhjxE/8m+XvpGTX67nN+3K5aq2991LKamocp2rkdDLViE/PjzFj+gb3abqNoyN+4t8y/y74L+d8c37M8/xdPMS+PxrTWzsIwbXW4zjFeAA4LBdrrdusj0ep9TDPZ+In/s3yd2USNAgAEHFJj4jWujKNAA6I96oHAHjHvUoy4if+rfHv16eN6RPfSgEAS3oAUAqUAiFEKgAg9VDSv+7SJuIn/s/mf/ICO+dDiOtFRsn0IURE5JznfTjnt5tLCZR6KNt+0aVBxE/8n82/Z7+kfO7PfrmHRJ9P/Jzfyxz6IyJ+4v+P/J1zPsYnEZUXlEU6u1f3WjuUl4iYvuCXf+fKG6utVooy0nJ6ET/xb5b/AY2kmKlim7NhAAAAAElFTkSuQmCC",IR="/bust-a-move/assets/bg-lvl4-arena-BWA9GMX1.png",OR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAEOHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVZZshwpDPznFHMEJKGF47BGzA3m+JNUV7/Ffm4v4SKqoAVIIlMSndZ//+70Dx4qUVJRD6tmGU+ppXLDIPLjqdeXcrm+11OeI/osT2+bGCJBL4+f3h49Ncj1fcNzOfXP8hT3DMet6J54KpRjmTGYH52EnB9yKreiuh4Dq+EfXe386Me98HLlfmk83bq7cY72QVAcKE2FIWFeQpKvbzw8kPOqNPSC75mFv2hHQukS2a0MgHw63rPP+SNAn0B+jtK36Gf7Gnxu9wr5Bkt7smZfT5B+Df4F8QfD8uYRf56omst3x7nfvWfsvR6na8WAqN0RdYFNTzVY2AG5XNsMzfEqxn61iha55QHKZx65ow2qxMB9Jyo0qdGmdfWDBlwsvNjRMw+WSxbiXHkcfqScRptdqkwJcDl4JVBZhN98octuvewNCliehKVMUEbY8sOWXk3+Tkt7nzAlugC1Cyv4xSeu4cZh7nyx6mTrvnnTC+Bnu+nPHwILoQrO9II5cMCW+0NFV3qPLbl4Fqw7DD84puTzVgCIYFvhDMK+UDYSJaPszE4EHAMENXjOUriDAVLlCSe5iBgn5+BjG3ucrrWsbHzEqE0gQsXEwU2VBrJKUcSPo5LV0lS0qKqpaySt2kysmJqZ2ylyzcWLq5u7h1dvIVFCw8IjokarXAU1UKtVr1FrbY1Tg6EGXQ3rGySdu/TStVv3Hr32NhA+owwdNnzEqKNNnjJRJqZNnzHrbIvSQqVYZemy5StWXW0j1rbssnXb9h277vbG2s3qd+03WKObNb6YOuv8jTVIk/tTBZ1yooczMMaFwLgfBhDQfDjLQaXwYe5wlisjKZThpB5u0qTDGCgsi1g3vXH3ztwv8ZY0fok3/hlz6VD3N5hLoO573r5gbZ57blyMPbLwYJoF2dcAVETCcavOxrU5oBylxS6EO8pEohlNZzPaoksnti2441sbB1xaY45gn4arp6exUK+mV8kHJfg3cqsj1gIl1oB+HrG596KgI4BSVVohMvIwp6JU2oKfK/UqKJQVx1mBagFtstssJKuXZnPhqjPro55CyGs6am9ZxZ3qcYv6PEGGs6X447M5lL4bTC8sXpZeG4I+9UzhmkbFpX9A8oJb5Nz5QntayxV2EYobodHhTzn3RXXrHXels/QYExDluSJrq55GObdAW5BOaYwg14K/NGOD3zoUMH6NIpTIUfo0mF5ZPJZ+Ygj6uEcekhpUDFmAqbfse1aKvTrSGla5dq+T9XhjCIPRu84glUpzmB2IbJfMs/SVGI4sZBUYqkjgTkiYmc2DYiwGfvoDFKGmTqi9TaaXNtux9drU0acjW/pRoLzF/ovQP3EtAIyQAulnOTDkaxSPkgWlT4Op/6VkS9+GSc5/km5L0rriHC4Kag7++6b/AUo1zYaCDW1xAAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnoGiZNGAAAACXBIWXMAAArwAAAK8AFCrDSYAAAAB3RJTUUH6QMKDwERrXUs0AAAAOtJREFUWMPt2CEOgzAUBuDHUoGsrEQikZPIyR1hR9gROAISiUROTiInKyuRlZVIRFnTtMCyhLr/qfKg36v605C1TVuVNZ1d2nxew1vP0/32gA8ffiI/Gwcp1bh29UREQhTB2j76/aCMMW7NObcbhci7vmuePXz48BP5l3iPo53uT3V9/y33KpgHHz78dD6Ls2EvBmwpJb+pIPe+sWM2Dw0fPvwTfRaPCfLj5+GCFDm6uMOHD/9Un8XiHuHvDxLluODDh5/IZ1KNZVn9+xMsoDevBFoTEcGHDz+dn9XXSuQFJSg9r1Phw4efyF8AC3oKKxxjvjoAAAAASUVORK5CYII=",VR="/bust-a-move/assets/bg-lvl5-arena-D5S5I287.png",MR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAAICAIAAAAHjrFIAAAEU3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarZdpkuM2DIX/8xQ5AgESC4/DtSo3yPHzKEtue6Z72k5HLIsyuIHvAyE7zH/+XuEvXGTRQxZzLaoRVy65cMWDx9tVjjvFfNyPK19P9GwP90EMU0Kdbl+t3mqqsMvHgKs7tWd78LOF/ZzobLgmTHtlxsN4dBJ2vtkpnxOVeXvQ4vboauNb3c+Ohyvnh/rl1ln1vbUHQzaoNAQLJeaZKMXj7jcP0v5IqqgT7rsV/qLsZw1HA52TQZCn7V11jI8CPYl8PYVf1Y/6ufhczx7pFy31oqafN5B8Lv4h8cPC6e4RPzeYHlCft3N+1hq+1rztrmaFonpG1CH2pdDu2CB5OoYpisU9raPepaB4rLED+Yg9NpROhRi6r0CZBlVaNI+6U4eLmScbaubO6bB5Mi7cN5iUd6HFlkoaycGy8wxAmRPffaFj3XKs18mx8iB0ZcJkhCFflvCnxndKWGuHKdEhqB5awS/ecQ03Nrl9R699WtfJTQ6Br3Lijw+BhVAFQTlkdmywxnabogl9xFY6OCf0E9S3I0TBxjkBJMLaAmcQ9pmiUhJSisZsRNDRAajCc06ZGwiQCA84yTkl5WDsvNfGGKOjLwsrbzNyE0BI0mRgU1IFrJwF8WPZEUNVkmQRUTHxIEWqJs0qqmq6k1y1ZNnE1MzcilVPnl1c3dy9eC1cEnKgFC1WvJRSK4eKhSrmquhfYWncUstNmjZr3kqrHeHTc5eu3br30uvgkQbSxNBhw0cZdVKYyBQzT5k6bfossy7E2korL1m6bPkqq96pnVR/K29Qo5MaH6R2P7tTgzWYXVPQTieymYEYZwJx2wQQ0LyZRaeceZPbzGJhHAphOCmbTRi0iQFhnsSy6M7ug9xL3IL4S9z4O3Jho/s/yAWg+53bJ9TGfs/1g9jtFG5NY8Lpa5akz1DJljbKpVofS+GFyeiOzFSLSBqbIHWjhW/mcEPaaqkPgnfVsWRxvBN1BcwGPmPNmle0lWhnILzHa7fSxajKrANSIWUpt0KkUxAbXeeU3Gnnv0nZKDh1yXWowAHXWpH0Zq4MOCU3hMWcGbQqjrArUpwrHwsxtw17FfjfvMSGHxHVyXPkpJvfaqapg2jrPpfSYBiqWB6GnMDeB0e4DeFK6YiTaD5nwg6DVfaK94GptjIyrzkUZPMqbfamfTbsJ6ciXAEVcs/ke2StKwJ0g8JWKrfgQ2jKQj6SOKY2RzC0NTJ+E6ypqdJeKMba26UWVEF8OEGubGi4qRU+5LrUQjBNEO8ZWGd3RiQXKoinVjjPWlwmuWKMe1oup2CBVD8U+4Fg4UmxHwgWnhT7gWDhSbE3BKu/CBaeFPuBYOHrEHtPsPB1iL0nWPg6xN4TLHwdYu8JFl48k98KFl48k98KFl48k98KFl48k98KFv5LErsE68VGW3mstf+LLGxS8mU5v8KR/TNt4TXzLzTdR2UDxtQ7AAABg2lDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnoGiZNGAAAACXBIWXMAAArwAAAK8AFCrDSYAAAAB3RJTUUH6QMKDxACehJOHgAAAYNJREFUWMPtmaFuxDAMhn3VQKFhYWBgYODg4GBgYeFgH6Gw8OBg4R5hMLAw0I9gWHjAUhTd6U69a6VNqgOsJnH8f6nUxGlOUPt+HLz38HxJKc3zbIyRKiLmLmvtrXN+ZmYiMsZs0Y0xAgDFeS/+chb3+JlZqsqv/P+B/234PltrU0pl6Hsjl2UpfZi567ryXRjvHtiraD/xd4suAMQYlV/5j8xflfTe+3IXncZzaSUKEbVtG0JgZkScpsk5J2Mf28bZ8NUBgNiS/mVd773yK/+R+au8rUurpAT5iy8XACIiohCCuIUQACDnDzKN9XYvXeVX/iPzV7fbtwy4CiF6ebvPjXVdlzTr7V66yq/8R+avckc+jktCvyxLPw5E1I8DM/fjgIiIGGMUt5SStTavBHJGX2/30lV+5T8y/8l99pJYE1EObYzJX3/+sSZj6roWN4mCiGsO8bfncvfxvosuIiq/8h+W/9T4tmkaSaxfKFuukVJKW3TzirUX/7PXAMqv/H/OfwFJaF9wlZOTrQAAAABJRU5ErkJggg==";function vt(r){return new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.src=r})}const NR=await vt(bR),UR=await vt(wR),PR=await vt(RR),BR=await vt(CR),LR=await vt(DR),kR=await vt(xR),zR=await vt(IR),HR=await vt(OR),jR=await vt(VR),qR=await vt(MR),Bm=[{arena:NR,floor:UR},{arena:PR,floor:BR},{arena:LR,floor:kR},{arena:zR,floor:HR},{arena:jR,floor:qR}];var lr,bi,ns,qu,xl,is,Il,Fu;class FR{constructor(t,n){pt(this,lr);pt(this,bi);pt(this,ns);pt(this,qu);pt(this,xl);pt(this,is);pt(this,Il);pt(this,Fu);k(this,"color");k(this,"shrinkRate",0);k(this,"arenaSprite",null);k(this,"floorSprite",null);at(this,lr,2*t.orbRadius*10),at(this,bi,2*t.orbRadius*13),at(this,is,Xt.height/2-D(this,bi)/2),at(this,xl,Xt.height/2+D(this,bi)/2),at(this,ns,Xt.width/2-D(this,lr)/2),at(this,qu,D(this,ns)+D(this,lr)),at(this,Il,D(this,xl)-2*t.orbRadius*2),at(this,Fu,D(this,xl)-2),this.color=n}get width(){return D(this,lr)}get height(){return D(this,bi)}get leftBound(){return D(this,ns)}get rightBound(){return D(this,qu)}get line(){return D(this,Il)}get topBound(){return D(this,is)}get arenaFloor(){return D(this,Fu)}resetArena(t){at(this,bi,2*t.orbRadius*13),at(this,is,Xt.height/2-D(this,bi)/2)}pickLevel(t){const n=(t-1)%Bm.length;this.arenaSprite=Bm[n].arena,this.floorSprite=Bm[n].floor}draw(t){this.arenaSprite&&this.floorSprite&&(t.drawImage(this.arenaSprite,0,0,this.arenaSprite.width,this.arenaSprite.height,D(this,ns)-aa,D(this,is)-aa,D(this,lr)+2*aa,D(this,bi)+aa),t.fillStyle="white",t.fillRect(D(this,ns)-aa,D(this,Il),D(this,lr)+2*aa,.5),t.drawImage(this.floorSprite,0,0,this.floorSprite.width,this.floorSprite.height,this.leftBound-this.floorSprite.width/4,this.arenaFloor,this.floorSprite.width,this.floorSprite.height),t.fillStyle="#242424",t.fillRect(0-innerWidth,this.arenaFloor+this.floorSprite.height,2*innerWidth,innerHeight))}update(t){this.draw(t),at(this,is,D(this,is)+this.shrinkRate)}}lr=new WeakMap,bi=new WeakMap,ns=new WeakMap,qu=new WeakMap,xl=new WeakMap,is=new WeakMap,Il=new WeakMap,Fu=new WeakMap;const QR="/bust-a-move/assets/bust-DKT7NOi4.mp3",GR="/bust-a-move/assets/collide-AUzdGPgz.mp3",KR="/bust-a-move/assets/go-BIGNKS37.mp3",YR="/bust-a-move/assets/points-multi-U5M6IET4.mp3",XR="/bust-a-move/assets/ready-DgBZNrM1.mp3",WR="/bust-a-move/assets/score-multi-uq-y7oag.mp3",ZR="/bust-a-move/assets/score-B-djFCFN.mp3",JR="/bust-a-move/assets/shoot-N6AznkMs.mp3";class $R{constructor(){k(this,"maxCount",30);k(this,"pool",[]);k(this,"Sounds");for(let t=0;t<this.maxCount;t++)this.pool.push(new Audio);this.Sounds={pop:{name:QR,timeStamp:.2},go:{name:KR},collide:{name:GR,timeStamp:.25},multiplier:{name:YR,timeStamp:.4},ready:{name:XR},scoreMulti:{name:WR},score:{name:ZR,timeStamp:.25},shoot:{name:JR,timeStamp:.1}}}playSound(t){let n;for(let s=0;s<this.maxCount;s++)this.pool[s].ended&&(n=this.pool[s]);n||(n=new Audio),n.src=this.Sounds[t].name,this.Sounds[t].timeStamp&&(n.currentTime=this.Sounds[t].timeStamp),n.play()}}const t1="/bust-a-move/assets/cannon-barrel-D1WgTuNI.png",Bh=new Image;Bh.src=t1;let e1=class{constructor(t){k(this,"width");k(this,"height");k(this,"x");k(this,"y");k(this,"deg",0);k(this,"degDelta",0);this.width=Bh.width,this.height=Bh.height,this.x=Xt.width/2-this.width/2,this.y=t.arena.arenaFloor-this.height+5}handleKeyDown(t,n){if(t===n.left)this.degDelta=-2;else if(t===n.right)this.degDelta=2;else return}handleKeyUp(){this.degDelta=0}draw(t){if(t){t.save();const n=this.deg*Math.PI/180;t.translate(this.x+this.width/2,this.y+this.height/2),t.rotate(n),t.drawImage(Bh,-this.width/2,-this.height/2,this.width,this.height),t.restore()}}update(t){(this.deg+this.degDelta>=80||this.deg+this.degDelta<=-80)&&(this.degDelta=0),this.deg+=this.degDelta,this.draw(t)}};const n1="/bust-a-move/assets/cannon-base-sheet-DcUVUU_S.png",la=new Image;la.src=n1;class i1{constructor(t){k(this,"width");k(this,"height");k(this,"spriteWidth",la.width/12);k(this,"shiftX",0);k(this,"x");k(this,"y");k(this,"sx",0);k(this,"sy",0);k(this,"frame",0);this.width=la.width,this.height=la.height,this.x=Xt.width/2-this.spriteWidth/2,this.y=t.arena.arenaFloor-this.height}handleKeyDown(t,n){if(t===n.left)this.shiftX=-this.spriteWidth;else if(t===n.right)this.shiftX=this.spriteWidth;else return}handleKeyUp(){this.shiftX=0}draw(t){t.drawImage(la,this.sx,this.sy,this.spriteWidth,this.height,this.x,this.y,this.spriteWidth,this.height)}update(t){this.frame%5===0&&(this.sx+=this.shiftX,this.sx>=la.width?this.sx=0:this.sx<=0&&(this.sx=la.width-this.spriteWidth)),this.frame++,this.draw(t)}}const r1="/bust-a-move/assets/blue-firing-cannon-C7wjD0_z.png",s1="/bust-a-move/assets/cannon-launcher-DqqW1A-O.png",a1="/bust-a-move/assets/blue-idle-OrtXGiH8.png",l1="/bust-a-move/assets/blue-ko-Csp78JAD.png",Lm=await vt(r1),km=await vt(a1),gu=await vt(s1),zm=await vt(l1);class o1{constructor(t){k(this,"spriteSheet",km);k(this,"spriteWidth");k(this,"spriteHeight");k(this,"spriteSourceWidth",this.spriteSheet.width);k(this,"spriteShiftX",0);k(this,"spriteX");k(this,"spriteY");k(this,"spriteSX",0);k(this,"spriteSY",0);k(this,"launcherWidth");k(this,"launcherHeight");k(this,"launcherSourceWidth",gu.width/4);k(this,"launcherShiftX",0);k(this,"launcherX");k(this,"launcherY");k(this,"launcherSX",0);k(this,"launcherSY",0);k(this,"frame",0);this.spriteWidth=this.spriteSheet.width,this.spriteHeight=this.spriteSheet.height,this.spriteX=Xt.width/2-this.spriteSourceWidth-2,this.spriteY=t.arena.arenaFloor-this.spriteHeight,this.launcherWidth=gu.width,this.launcherHeight=gu.height,this.launcherX=Xt.width/2-this.launcherSourceWidth/2,this.launcherY=t.arena.arenaFloor-this.launcherHeight-2}draw(t){t.drawImage(gu,this.launcherSX,this.launcherSY,this.launcherSourceWidth,this.launcherHeight,this.launcherX,this.launcherY,this.launcherSourceWidth,this.launcherHeight),t.drawImage(this.spriteSheet,this.spriteSX,this.spriteSY,this.spriteSourceWidth,this.spriteHeight,this.spriteX,this.spriteY,this.spriteSourceWidth,this.spriteHeight)}handleKeyDown(t,n){t===n.fire&&(this.spriteSheet=Lm,this.spriteShiftX=this.spriteSourceWidth,this.launcherShiftX=this.launcherSourceWidth,this.frame=0)}idle(){this.spriteSheet=km,this.spriteSX=0,this.spriteShiftX=0}knocked(){this.spriteSheet=zm,this.spriteShiftX=this.spriteSourceWidth}update(t){this.frame++,this.draw(t),this.frame%3===0&&(this.spriteSheet===Lm?(this.spriteSX+=this.spriteShiftX,this.launcherSX+=this.launcherShiftX,this.spriteSX>=Lm.width&&(this.spriteSheet=km,this.spriteSX=0,this.spriteShiftX=0),this.launcherSX>=gu.width&&(this.launcherSX=0,this.launcherShiftX=0)):this.spriteSheet===zm&&(this.spriteSX+=this.spriteShiftX,this.spriteSX>=zm.width&&(this.spriteSX=0)))}}const u1="/bust-a-move/assets/green-turning-cannon-DQ6ceQxp.png",c1="/bust-a-move/assets/cannon-wheel-B-oqhjiD.png",h1="/bust-a-move/assets/green-idle-CGi3C42g.png",f1="/bust-a-move/assets/green-ko-D67_zdJl.png",wh=await vt(u1),Hm=await vt(h1),yu=await vt(c1),jm=await vt(f1);class d1{constructor(t){k(this,"spriteSheet",Hm);k(this,"spriteWidth");k(this,"spriteHeight");k(this,"spriteSourceWidth",this.spriteSheet.width);k(this,"spriteShiftX",0);k(this,"spriteX");k(this,"spriteY");k(this,"spriteSX",0);k(this,"spriteSY",0);k(this,"wheelWidth");k(this,"wheelHeight");k(this,"wheelSourceWidth",yu.width/8);k(this,"wheelShiftX",0);k(this,"wheelX");k(this,"wheelY");k(this,"wheelSX",0);k(this,"wheelSY",0);k(this,"frame",0);this.spriteWidth=this.spriteSheet.width,this.spriteHeight=this.spriteSheet.height,this.spriteX=Xt.width/2+this.spriteSourceWidth/2,this.spriteY=t.arena.arenaFloor-this.spriteHeight,this.wheelWidth=yu.width,this.wheelHeight=yu.height,this.wheelX=Xt.width/2+this.spriteSourceWidth/2,this.wheelY=t.arena.arenaFloor-this.wheelHeight}draw(t){t.drawImage(yu,this.wheelSX,this.wheelSY,this.wheelSourceWidth,this.wheelHeight,this.wheelX,this.wheelY,this.wheelSourceWidth,this.wheelHeight),t.drawImage(this.spriteSheet,this.spriteSX,this.spriteSY,this.spriteSourceWidth,this.spriteHeight,this.spriteX,this.spriteY,this.spriteSourceWidth,this.spriteHeight)}handleKeyDown(t,n){t!==n.left&&t!==n.right||(this.spriteSheet=wh,t===n.left?(this.spriteShiftX=-this.spriteSourceWidth,this.wheelShiftX=-this.wheelSourceWidth):(this.spriteShiftX=this.spriteSourceWidth,this.wheelShiftX=this.wheelSourceWidth))}handleKeyUp(){this.spriteSheet=Hm,this.spriteShiftX=0,this.wheelShiftX=0,this.spriteSX=0,this.wheelSX=0}idle(){this.spriteSheet=Hm,this.spriteSX=0,this.spriteShiftX=0}knocked(){this.spriteSheet=jm,this.spriteShiftX=this.spriteSourceWidth}update(t){this.frame++,this.draw(t),this.frame%3===0&&(this.spriteSheet===wh?(this.spriteSX+=this.spriteShiftX,this.wheelSX+=this.wheelShiftX,this.spriteSX>=wh.width?(this.spriteSX=0,this.wheelSX=0):this.spriteSX<0&&(this.spriteSX=wh.width-this.spriteSourceWidth,this.wheelSX=yu.width-this.wheelSourceWidth)):this.spriteSheet===jm&&(this.spriteSX+=this.spriteShiftX,this.spriteSX>=jm.width&&(this.spriteSX=0)))}}class m1{constructor(){k(this,"msPrev",performance.now());k(this,"fps",30);k(this,"msPerFrame",1e3/this.fps)}renderFrame(){const t=performance.now(),n=t-this.msPrev;if(n<this.msPerFrame)return!1;const s=Math.round(n%this.msPerFrame);return this.msPrev=t-s,!0}}const p1="/bust-a-move/assets/orbBag-ale0rwhn.png",Eu=new Image;Eu.src=p1;class y_{constructor(t,n){k(this,"width");k(this,"height");k(this,"sx");k(this,"sy",0);k(this,"x");k(this,"y");k(this,"spriteWidth",Eu.width/2);this.width=Eu.width,this.height=Eu.height,t==="back"?this.sx=0:this.sx=this.spriteWidth,this.x=n.cannon.x-5*n.orbRadius-this.spriteWidth/2,this.y=n.arena.arenaFloor-this.height}draw(t){t.drawImage(Eu,this.sx,this.sy,this.spriteWidth,this.height,this.x,this.y,this.spriteWidth,this.height)}}class g1{constructor(){k(this,"graph",new Map);k(this,"bustedThisRound",0)}addOrb(t){this.graph.set(t,new Set)}deleteOrb(t){this.graph.delete(t)}deleteGraph(){this.graph.clear()}addEdge(t,n){var s,l;(s=this.graph.get(t))==null||s.add(n),(l=this.graph.get(n))==null||l.add(t)}getNeighbors(t){return this.graph.get(t)}hasEdge(t,n){var s;return(s=this.graph.get(t))==null?void 0:s.has(n)}}function ug(r,t){return Math.round(Math.random()*t+r)}const y1="/bust-a-move/assets/orb-green-critter-Cs2EbAzi.png",v1="/bust-a-move/assets/orb-blue-critter-BGCx07O0.png",_1="/bust-a-move/assets/orb-red-critter-CPHgDvXd.png",A1="/bust-a-move/assets/orb-purple-critter-B8yngifK.png",E1="/bust-a-move/assets/orb-yellow-critter-BoU1ndJb.png",S1="/bust-a-move/assets/orb-white-critter-puOhbMNI.png",qm=await vt(y1),Fm=await vt(v1),vu=await vt(_1),Qm=await vt(A1),Gm=await vt(E1),T1=await vt(S1),Km={green:{sprite:qm,width:qm.width/4,height:qm.height},blue:{sprite:Fm,width:Fm.width/4,height:Fm.height},red:{sprite:vu,width:vu.width/4,height:vu.height},purple:{sprite:Qm,width:Qm.width/4,height:Qm.height},yellow:{sprite:Gm,width:Gm.width/4,height:Gm.height},white:{sprite:T1,width:vu.width/4,height:vu.height}};class b1{constructor(){k(this,"x",0);k(this,"y",0);k(this,"dx",0);k(this,"dy",0);k(this,"sx",0);k(this,"sy",0);k(this,"spriteWidth",0);k(this,"spriteHeight",0);k(this,"color",null);k(this,"sprite",null);k(this,"frame",0);k(this,"free",!0)}assignProps(t,n,s){this.x=t,this.y=n,this.dx=ug(-2,2),this.dy=-4,this.color=s,this.sprite=Km[this.color].sprite,this.spriteWidth=Km[this.color].width,this.spriteHeight=Km[this.color].height,this.frame=1,this.free=!1}resetDefault(){this.x=0,this.y=0,this.dx=0,this.dy=0,this.sx=0,this.sy=0,this.color=null,this.sprite=null,this.spriteWidth=0,this.spriteHeight=0,this.frame=0,this.free=!0}draw(t){t&&this.sprite&&t.drawImage(this.sprite,this.sx,this.sy,this.spriteWidth,this.spriteHeight,this.x,this.y,this.spriteWidth,this.spriteHeight)}update(t,n){if(this.y>=n.arena.arenaFloor){n.critters.delete(this),this.resetDefault();return}this.draw(t),this.dy+=Ep,this.y+=this.dy,this.x+=this.dx,this.frame%3===0&&(this.sx+=this.spriteWidth,this.sprite&&this.sx>=this.sprite.width&&(this.sx=0)),this.frame++}}const w1="/bust-a-move/assets/orb-green-bust-Du0f-xKb.png",R1="/bust-a-move/assets/orb-blue-bust-DMJMzAYM.png",C1="/bust-a-move/assets/orb-red-bust-Co87sNpq.png",D1="/bust-a-move/assets/orb-purple-bust-Cv4ig4NC.png",x1="/bust-a-move/assets/orb-yellow-bust-CbjiKrxp.png",I1="/bust-a-move/assets/orb-white-bust-DVFcchZ0.png",Ym=await vt(w1),Xm=await vt(R1),Wm=await vt(C1),Zm=await vt(D1),Jm=await vt(x1),$m=await vt(I1),Rh={green:{explosion:Ym,width:Ym.width/7,height:Ym.height},blue:{explosion:Xm,width:Xm.width/7,height:Xm.height},red:{explosion:Wm,width:Wm.width/7,height:Wm.height},purple:{explosion:Zm,width:Zm.width/7,height:Zm.height},yellow:{explosion:Jm,width:Jm.width/7,height:Jm.height},white:{explosion:$m,width:$m.width/7,height:$m.height}};class O1{constructor(){k(this,"frame",0);k(this,"x",0);k(this,"y",0);k(this,"sx",0);k(this,"sy",0);k(this,"shiftX",0);k(this,"sprite",null);k(this,"spriteWidth",0);k(this,"spriteHeight",0);k(this,"color",null);k(this,"free",!0)}assignProps(t,n,s){this.x=t,this.y=n,this.color=s,this.sprite=Rh[this.color].explosion,this.shiftX=Rh[this.color].width,this.spriteWidth=Rh[this.color].width,this.spriteHeight=Rh[this.color].height,this.frame=1,this.free=!1}resetDefault(){this.x=0,this.y=0,this.sx=0,this.sy=0,this.color=null,this.sprite=null,this.shiftX=0,this.spriteWidth=0,this.spriteHeight=0,this.frame=0,this.free=!0}draw(t){t&&this.sprite&&t.drawImage(this.sprite,this.sx,this.sy,this.spriteWidth,this.spriteHeight,this.x,this.y,this.spriteWidth,this.spriteHeight)}update(t,n){if(this.sprite&&this.sx>=this.sprite.width){n.explosions.delete(this),this.resetDefault();return}this.frame%3===0&&(this.sx+=this.shiftX),this.draw(t),this.frame++}}const V1="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAEHHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHja7VZbkusoDP3XKmYJIPEQy+FZNTuY5c8B43Q6SSednv6auqZsMEjiSEfIpv7P34P+wsUsTM5HDSkEg8sllzhjoOa40npa49Zzv5hz8GmeLguMKUEvx2vMWz5j3n8onHvY8nmedK+wbkOn5W1Q5s6MQbsGiXk+5q3bhlI/BiFpvIZa+OjrFlxQ9q1pYZnGjiW80/WEi4hS89hImLtYMeuph4zM20tGL+vpIIfVNfaEzsrpKwLyyb1LAM11gD4F+RzRbfQvo5vgc97zchPLsGOEwcMF6x8Hf4X4amO5IOLPC8om3rmz7zGajtEP77ILiGjYGWXojM7UgWBByGWpBbSI22McV0toarKpoLyZagpatckyWBlknW0222H76qutgOi4c0TPXFnWnErkxFUmT242OzhKkgbWWCp3ApVO+ILFrn3T2q9axc7NQpQtjFmofNno2eI7jcaoM0TW6CVWwMUzRQFjMjefkAIhdmze/Arw2Tb95ip/kKpg0K8wKxzMphwmircfuSWLZ4GcR38cIUuxbQMIEfb2AGMFDJiAhLfBmsgcrUUcFQRlIGecjQIGrPfcAJKdSGCKjMzB3tCJdsmy58BzGrUJRHgJEsFNkgyynPPIn+gUOZS9eOe9Dz56JZ98DhJc8CGEGGaRy1Giiz6GGKPGFLOKOvUaNKpq0pw4CWqgTyHFpCmlnJkyNsqwlSGfMVO4SHHFl1Bi0ZJKrkif6qqvocaqNdXcuElDmWihxaYttdwtdVSK7rrvoceuPfU8kGtDhht+hBGHjjTyhbXN6l17gzW7WePF1JSLF9YwSzGeJuwsJ35yBsbYWTAeJwNIaJ6cGbXO8WRucmYS41B4Bkg/uaFmJ2Og0HXLftgLdx/MfYs38vot3vgVczSp+w3mCNTd8/aAtTa/c3UxdpzCGVMjOH2QyayE2xg8/mv/x9AfQ/8/Q9JtpTUuI3Sp7bVCly2PKtX41xBNJCcQmkgEWOZKHj2wdO964+PdOpx9aWkvN3ajRTNs2vooeQOVUkumNdGydDXQ2Os5upHzWx7Smx4cDrTTAacyUIoBmZ5ivjNZOWwTJaL25Q+btI2+VnnC2OzptR9Pibio060dEHAdf3wRDrU8pOPPY72YBzGgH3py5wi9YuRLzRvodIMdX59+vJs6UpF2LuML3eff7XbNnK7lVsG5Diq6Fatzw+kp+VU/NO5Yt6JD3IjhsEjYyoza3Fea+HweikFHBqfzyzwVe6mjVOkytqEq0kMd/lx3ik1/kE30w1NxxwE9JuHm+Ne0geUGTOYRfvqVJLqtkD9NoomfHhybH51feqsOPTm/9IHkNulv6uULv+kXYn3n2q0r363ZS4+eKH4XmeAPM9G/Ut1XT+g4d64AAAGDaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDQBzFX9OKIhUFK4g4ZKhOFkRFHLUKRagQaoVWHUwu/YImDUmKi6PgWnDwY7Hq4OKsq4OrIAh+gLgLToouUuL/kkKLGA+O+/Hu3uPuHSDUy0yzQuOApttmKhEXM9lVsfMVQYQwgD5AZpYxJ0lJ+I6vewT4ehfjWf7n/hw9as5iQEAknmWGaRNvEE9v2gbnfeIIK8oq8TnxmEkXJH7kuuLxG+eCywLPjJjp1DxxhFgstLHSxqxoasRTxFFV0ylfyHisct7irJWrrHlP/sJwTl9Z5jrNYSSwiCVIEKGgihLKsBGjVSfFQor24z7+IdcvkUshVwmMHAuoQIPs+sH/4He3Vn5ywksKx4GOF8f5GAE6d4FGzXG+jx2ncQIEn4ErveWv1IGZT9JrLS16BPRuAxfXLU3ZAy53gMEnQzZlVwrSFPJ54P2MvikL9N8C3Wteb819nD4AaeoqeQMcHAKjBcpe93l3V3tv/55p9vcD5NNyboIAIfQAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAHdElNRQfpAwQXBRBM9Fy5AAAAkklEQVQ4y+2TsQ7CMAxEnyuk+jMZ+0mMHfnE63QMUUWcCpDowEIkD2clji/PCducWRMn178AXHoRsR2Q2HO8rWCbhlJmxQhLMqJpVGLfv0fscxCxGSVCJPm8IQWquu+qvsGdehhgbUWFmlYWq1PxetVLq7nkDzEebH3Vwe0DxhFlwaguN6CM8TuPw2TP0efGwXoA+PV3g9Nwbe8AAAAASUVORK5CYII=",M1=await vt(V1);class N1{constructor(){k(this,"x",0);k(this,"y",0);k(this,"dy",-1);k(this,"originy",0);k(this,"sprite",null);k(this,"free",!0)}assignProps(t,n){this.sprite=M1,this.x=t-this.sprite.width/2,this.y=n-this.sprite.height/2,this.originy=n,this.free=!1}resetDefault(){this.x=0,this.y=0,this.sprite=null,this.originy=0,this.free=!0}draw(t){t&&this.sprite&&t.drawImage(this.sprite,this.x,this.y,this.sprite.width,this.sprite.height)}update(t,n){this.y<=this.originy-50&&(n.tenPointSprites.delete(this),this.resetDefault()),this.draw(t),this.y+=this.dy}}class U1{constructor(){k(this,"critters",[]);k(this,"explosions",[]);k(this,"tens",[]);k(this,"maxCount",100);for(let t=0;t<this.maxCount;t++){const n=new b1;this.critters.push(n)}for(let t=0;t<this.maxCount;t++){const n=new O1;this.explosions.push(n)}for(let t=0;t<this.maxCount;t++){const n=new N1;this.tens.push(n)}}getFreeObject(t){for(let n=0;n<this.maxCount;n++)if(this[t][n].free)return this[t][n]}}function P1(r){if(!(r.orbs.bustedThisRound<3)){r.sfx&&(r.audioPool.playSound("pop"),r.audioPool.playSound("score"));for(const[t]of r.orbs.graph){if(t.busted){r.score+=10,r.roundScore+=10,r.orbs.deleteOrb(t);const s=r.pool.getFreeObject("explosions");s.assignProps(t.x-2*t.r,t.y-2*t.r,t.color),r.explosions.add(s);const l=r.pool.getFreeObject("critters");l.assignProps(t.x,t.y,t.color),r.critters.add(l),setTimeout(()=>{const u=r.pool.getFreeObject("tens");u.assignProps(t.x,t.y),r.tenPointSprites.add(u)},300);continue}const n=r.orbs.getNeighbors(t);n==null||n.forEach(s=>{s.busted&&n.delete(s)})}}}const B1="/bust-a-move/assets/numbers-sheet-green-p3mS1RE6.png",L1="/bust-a-move/assets/numbers-sheet-blue-DrW5TLXv.png",k1="/bust-a-move/assets/numbers-sheet-red-Caj7rY3N.png",z1="/bust-a-move/assets/numbers-sheet-yellow-CdQQzUrl.png",tp=await vt(B1),H1=await vt(L1),j1=await vt(k1),q1=await vt(z1),sa={green:tp,blue:H1,red:j1,yellow:q1,digitWidth:tp.width/10,digitHieght:tp.height};class F1{constructor(t){k(this,"x");k(this,"y");k(this,"dy",0);k(this,"scoreDigits");k(this,"sprite",sa.green);k(this,"numberSheets",[sa.green,sa.blue,sa.red,sa.yellow]);k(this,"width");k(this,"digitWidth",sa.digitWidth);k(this,"digitHeight",sa.digitHieght);k(this,"frame",1);this.scoreDigits=t.split("").map(n=>Number(n)),this.width=this.digitWidth*this.scoreDigits.length,this.x=Xt.width/2-this.width/4,this.y=this.digitHeight}draw(t){if(t){const n=this.scoreDigits.length;for(let s=n-1;s>=0;s--)t.drawImage(this.sprite,this.scoreDigits[s]*this.digitWidth,0,this.digitWidth,this.digitHeight,this.x+this.digitWidth*s/2,this.y,this.digitWidth,this.digitHeight)}}update(t,n){this.draw(t),this.frame++,this.y+=this.dy,this.sprite=this.numberSheets[this.frame%this.numberSheets.length],this.frame>=60&&(this.dy=-5),this.y<0-this.digitHeight&&(n.dropPoints=null)}}function Q1(r){const t=new Map;let n=0;for(const[s]of r.orbs.graph){const l=r.orbs.getNeighbors(s);if((l==null?void 0:l.size)===0&&!s.anchoredToArena){s.drop(),n++;continue}else if(s.anchoredToArena){t.set(s,!0);continue}else{s.recursiveVisitedFlag=!0;const u=uE(t,s,r.orbs)||!1;t.set(s,u)}}for(const[s]of t)!t.get(s)&&!s.anchoredToArena&&(n++,s.drop()),s.recursiveVisitedFlag=!1;if(n){r.sfx&&(r.audioPool.playSound("scoreMulti"),r.audioPool.playSound("multiplier"));let s=20;for(let l=1;l<n;l++)s*=2;r.dropPoints=new F1(s.toString()),r.score+=s,r.roundScore+=s}}function uE(r,t,n){const s=n.getNeighbors(t)??new Set;for(const l of s){if(r.has(l))return r.get(l);if(l.y>t.y||l.recursiveVisitedFlag)continue;if(l.y<=t.y&&!l.recursiveVisitedFlag){l.recursiveVisitedFlag=!0;const u=uE(r,l,n);return r.set(l,u),u}else return!1}}const G1="/bust-a-move/assets/bg-lvl1-B-1VX9GM.png",K1="/bust-a-move/assets/bg-lvl2-BC2JwVNq.png",Y1="/bust-a-move/assets/bg-lvl3-ZmOq5y_0.png",X1="/bust-a-move/assets/bg-lvl4-BxpPo3zp.png",W1="/bust-a-move/assets/bg-lvl5-AQJtlIHb.png",Z1=await vt(G1),J1=await vt(K1),$1=await vt(Y1),tC=await vt(X1),eC=await vt(W1),v_=[Z1,J1,$1,tC,eC];function nC(r){if(r.ctx){const t=(r.level-1)%v_.length,n=r.ctx.createPattern(v_[t],"repeat");r.ctx.fillStyle=n,r.ctx.fillRect(0-r.transformOrigin.x,0-r.transformOrigin.y,r.width,r.height)}}const iC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAAAQCAYAAADqIbaUAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AYht8mSkUrDnYQcQhYnSyIijhqFYpQIdQKrTqYXPoHTRqSFhdHwbXg4M9i1cHFWVcHV0EQ/AFxF5wUXaTE75JCixjvOO7hve99ufsOEOolptsd44BuVKxkPCalM6tS8BUiemgOQ1SYbc7JcgK+4+seAb7fRXmWf92fo1fL2gwISMSzzLQqxBvE05sVk/M+cZgVFI34nHjMogsSP3Jd9fiNc95lgWeGrVRynjhMLOXbWG1jVrB04iniiKYblC+kPdY4b3HWS1XWvCd/YShrrCxzndYQ4ljEEmRIUFFFESVUEKXdIMVGks5jPv5B1y+TSyVXEYwcCyhDh+L6wf/gd2/t3OSElxSKAZ0vjvMxAgR3gUbNcb6PHadxAojPwJXR8pfrwMwn6bWWFjkC+raBi+uWpu4BlzvAwJOpWIoribSEXA54P6NvygD9t0D3mte35jlOH4AU9SpxAxwcAqN5yl73eXdXe9/+rWn27wcUUXKB9zXAFwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+kDCwsoFsji6SEAAALZSURBVGje5VrdjuwgCMbJSeojetlH6975iMwVezH98QcUre00e9w02UwR5RM+kNQQEYTDmHf8AzOIJgOKkeqqzdPKl+Q0+z9jU8+Q9lRa8ylYtOrI9klE8HEyJAAkWIAAC88CBIC0zZOeTFdlnla+JKfa/wmbWp8ipuuaKhuxgAVeh0WzDgZH6N6M0lkQUXWQG1iIeMwpgMrJpe+itU/Y0+1cS+ehcDYmcpv+zM6BWIQO3KQj2OdrpzIHgIAHtXkAsPh5PMOFaMv0ueqzYKPfNGOfk6xhzJsA7a430s3oKL2/chjzJlhsbK+EpwOARcZyt8HxGEcyV2Dhmb3UfCO254gEyQvDaNBEvSjfMydIJSIjPCxFsrYweJZwqcmo3g/AonudVeZfC7MAMKzERW/AMjzzIamLaveJHc0+iSZjDBI4m0fhjLcU+Rt71XDio76Cyyqz/f90LAAgSJEKqoyo1jdQrD+5S9cWBOx8tMezHg7RZLZnaI505+cQTQYsyjLpGhZ1jnEhFlGJlTqYFG17Lp3xyLsWAebcoL32CPXNmEeMpua4cjj4E4M70FuwWM8vrDUjxvZKBjM/hiJvZzy/a8Ougf00vz1wDAsUn5cYWQlyNyYhC3IXjYB8XjVFuP5x76pNOH/SMWbMdcw4/tAeOogmI9krHehXsfB5qn6NisawuC95urrNkTrZGecKr9X2SNkbzfd2vM8eWtYWumOMwCLUUc9M8jWzes3VtDIa54vtB6b59/Q2RRNWtcZ1Y4P40k5+QxvjJdLwYo/CvnITFFsTNrkYQB+LNd1uXEfx6y5iilJhfEfKHoGFRoeXz/UlCqXpzTWmUs84x01p4Fsd/Kx28jKeezB6ZQ3VeeEZgQV3rlydKLYpdiGp9a8x2Oe1Uwgay5S+81LgG/bxpaK/hqn1Vmz3qBxW45gjsNCu6YG91Zqez3W4ju8Vn5f8z5/rtNrdsu6d5/oL+Ko7tX7E1O8AAAAASUVORK5CYII=",ep=await vt(iC);function rC(r){var t;(t=r.ctx)==null||t.drawImage(ep,Xt.width/2-ep.width/2,Xt.height/2-ep.height)}const sC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALsAAAAQCAYAAABOSw5HAAABg2lDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpVKqDnYQ6ZChOlkQFXHUKhShQqgVWnUwufQLmhiSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSZZnWNAZpum5lUUszlV8TQK4IIow8xBGRmGbOSlIbv+LpHgK93CZ7lf+7P0asWLAYEROIZZpg28Trx1KZtcN4njrKyrBKfE4+adEHiR64rHr9xLrks8Myomc3MEUeJxVIHKx3MyqZGPEkcVzWd8oWcxyrnLc5atcZa9+QvjBT05SWu04whhQUsQoIIBTVUUIWNBK06KRYytJ/08Q+5folcCrkqYOSYxwY0yK4f/A9+d2sVJ8a9pEgS6H5xnI9hILQLNOuO833sOM0TIPgMXOlt/0YDmP4kvd7W4kdA/zZwcd3WlD3gcgcYfDJkU3alIE2hWATez+ib8sDALRBe9Xpr7eP0AchSV+kb4OAQGClR9prPu3s6e/v3TKu/HwLecnr6c840AAAACXBIWXMAAAsSAAALEgHS3X78AAAAB3RJTUUH6QMLAQwg+ycYyAAAAyxJREFUaN7tWstu7CAMdaIrlU9kmU/Lkk90V+5iZnID2Njm0XakIrGIYow5Pti8NiKCbfskcBSij02TkXS22nJtSnlNZpWOESxmFItNki0WTEb77sGm1OuV7+gfCU4gQGM9gQCQiAi4CoAk6ny25dqzbYq+NJllOiQcFCxm1CaeBr9YMFH79/DDw5NzQL6j/w0ACTA8aA8IAAABgj5tAvIR8wwAUWmbAODAOppiqG249aPJiP9v/Xl1mPBgsJgWzS14Nmyx4Kra4MVDweU+LgRk/STZMcLT/eqkHEh6CELA7P9VzpClFdYxko5Yt8/sMwxCk8n+x34dJkAxdKd6tUTIiKb6BcdwnYKHY1wWP2VjH+HplSLKNKClfk4GgRCx+d/V3ikj/i+WUKqOBWm7a/lyjuFhlfnuZUzTT9pSZoCn+8x0W81UrZx9EbErukSbDqKPDQ6sI8orekgRJK6J6taSRf+JhcWDw6SsynJE5MrCLOkmuwhqnOPMGWlS1HF26n467lVZ5/9UScXyIk0MEJrvMPyvT2wznIz2SzaPFI6n/9pRF+kiCbeZeLcSH26fRbIl0dxB0seGGgkO/cjPnXV7sD2MG+77uF6BI4aKe6YJ4+Dpbpq5kQGeSVNLwRwl5srlxhuUX+ObOEmmg6d7F3EWHbUtKwfOz0S/YNJckbJYTiw7GbIGlJ42aYE9BU93TRgC2pxsNLY6RnsHwj8J9Krda/+FR5MXrrFvTGW1kum+IX1NQE4Hd17PRWX3RtXB01103m1TVikqDOnetB3flyGsNrJ4lJuxOCmyTYyW7mVKOSYhO4j8aLVfkGFm8HS/RwcX8NzMS3L0qAxNRue2dPSQLNmj5U9OXHFyMngsOWkZxSPyUT2ztTyuBIVjgzzNngtkDRrX+dKVs3a9fbUVroXvV8L2kFY/JxiRGbVhyZp8wnMB/452AA+LjoID4lgdOjSe7uxGQYpSCZpHj1c0Ei5eQgrNC4crFSVjhOZIlgyRPDm/pf4Xb9Y1PM0HB6PZb3TzyX0XHBAv81obWidPN+6Jr/WpqPe5rtZGa2vR9ffEtx/PGXhYdfRwbFTHF2WPJXloT2j2AAAAAElFTkSuQmCC",cE="/bust-a-move/assets/msg-numbers-DdtLTyHF.png",aC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADMAAAAQCAYAAAC7mUeyAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpVIrDnYQcchQnSyIijhqFYpQIdQKrTqYvPQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APiLjgpukiJ9yWFFjFeeLyP8+45vHcfIDQqTLO6xgFNt810MiFmc6ti6BVB9CKMACIys4w5SUrBt77uqY/qLs6z/Pv+rD41bzEgIBLPMsO0iTeIpzdtg/M+cZSVZJX4nHjMpAsSP3Jd8fiNc9FlgWdGzUx6njhKLBY7WOlgVjI14inimKrplC9kPVY5b3HWKjXWuid/YSSvryxzndYwkljEEiSIUFBDGRXYiNOuk2IhTecJH/+Q65fIpZCrDEaOBVShQXb94H/we7ZWYXLCS4okgO4Xx/kYAUK7QLPuON/HjtM8AYLPwJXe9lcbwMwn6fW2FjsC+reBi+u2puwBlzvA4JMhm7IrBWkJhQLwfkbflAMGboHwmje31jlOH4AMzSp1AxwcAqNFyl73eXdP59z+7WnN7wfTSHJnag8HBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+kDCwoYHhi9PdcAAAFtSURBVEjHrVdLssQgCGxSryoccZZzNJcekax4i5kYJeJvQoqNSkf5NEqqCqJDMSGqO9mxWYwnsKztH9GhCAy8Bv8eASLRHGga4yEsItH8UASIQhgAIBAAAIP7SCwXCB0K4WQ/jNHAGbaPAN4fjC0N2E3Ez4/AUswnCVxNB/5+s3JG5HaQyj5ypxURVFV8ooNSIaqq13yAu8ad72kwGAIVkfY+Gms2PCCqO+Etlwe9aOZeZknpYSNby4CUBRH3yK1GpvBKtsZqD3PYphJJq6e9H5ncI192KfI54nFR3Qks/oIXAOFLDT1T6jMyWbQs1R5RFLTF7Njc+swIRWeY8zUTxze1wmgFQ47UoWSs6uaqk5+9vG8yT6/Ggs92zZpKjNih3RV1CSP4uPnhPQf0DrOdhVU0oifEEoZtcK0yyG0sEbXSNL/OrBTrcPF3cJfvdzcCiJUi/1Xi4JhtvHGdiMh7AvzKVt41voc785SwWP9Jtq2OKlbMiQAAAABJRU5ErkJggg==",np=await vt(sC),__=await vt(aC),Su=await vt(cE),Al=Su.width/10;function lC(r){var n,s,l;const t=r.roundScore.toString().split("").map(u=>Number(u));(n=r.ctx)==null||n.drawImage(np,Xt.width/2-np.width/2,Xt.height/2-np.height);for(let u=0,f=t.length;u<f;u++)(s=r.ctx)==null||s.drawImage(Su,t[u]*Al,0,Al,Su.height,Xt.width/2-Al*(f-u)-Al,Xt.height/2+Su.height,Al,Su.height);(l=r.ctx)==null||l.drawImage(__,Xt.width/2+Al,Xt.height/2+__.height)}const oC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAQCAYAAABnYDOFAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TpVIrDnYQcchQnSyIijhqFYpQIdQKrTqYvPQPmjQkKS6OgmvBwZ/FqoOLs64OroIg+APiLjgpukiJ9yWFFjFeeLyP8+45vHcfIDQqTLO6xgFNt810MiFmc6ti6BVB9CKMACIys4w5SUrBt77uqY/qLs6z/Pv+rD41bzEgIBLPMsO0iTeIpzdtg/M+cZSVZJX4nHjMpAsSP3Jd8fiNc9FlgWdGzUx6njhKLBY7WOlgVjI14inimKrplC9kPVY5b3HWKjXWuid/YSSvryxzndYwkljEEiSIUFBDGRXYiNOuk2IhTecJH/+Q65fIpZCrDEaOBVShQXb94H/we7ZWYXLCS4okgO4Xx/kYAUK7QLPuON/HjtM8AYLPwJXe9lcbwMwn6fW2FjsC+reBi+u2puwBlzvA4JMhm7IrBWkJhQLwfkbflAMGboHwmje31jlOH4AMzSp1AxwcAqNFyl73eXdP59z+7WnN7wfTSHJnag8HBQAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEgAACxIB0t1+/AAAAAd0SU1FB+kDCwoxAdHzr8kAAAHMSURBVFjD1VjLksQgCGxTWzV+osd8Wo58IntiD3lMoqDoJlUzVHkCWoINEoOIIIRfQYeIvELLxsKs+Wo+uX3L5imMzlywYIGAnWuBACwiAm0BLCbm5qv5qz7ZXi2bxzCsPBi5CAALOK7pBQMAImL7iCLrDFgikBq+BGDmkh0cyxhO+7RsTP1pv14MVz6yXEzHpjkArcaIfNEfssRLmagJtTBS6X+J0XGoLZuLPo1juAjG2bcclM/p3SoZzYYhzFzVd/l32pj6rPU0MXraodJCJtwgO0sZ7DtZg+1e6drDYKuFIfIKmLlsV3vFWZV7wu9O6rnX1IIe+dDhhHkxlkHsrR/vq0h6Jj91FrEcwSRcmUj4Pklrym8Rsok0VQPguK6kMGAub/94V8B3C/2zojplGgpQGac+Wma+v7LSSFLPzdkD5gz60pPpSxK7Xaj7cvRm/7hk6YdHptYenTbD+kdGqlS51S1WsTIOkX3CxemSk+01jBG2k6+0m/kwJoQ3Ux3/9y2meU758DX+matMajDscbY7Y3gzler/5WddbaQ6ZjhjQI4UV52BL/IK5nDtvTAJ/RVBA2wmO4agPf1ZN7vXbvTpr/fpTcP6hKe/P8Xx6i0VxuTdAAAAAElFTkSuQmCC",Ch=await vt(oC),Tu=await vt(cE),_u=Tu.width/10;function uC(r){var s,l;const t=r.level.toString().split("").map(u=>Number(u)),n=t.length;(s=r.ctx)==null||s.drawImage(Ch,Xt.width/2-(Ch.width+_u*n)/2,Xt.height/2-Ch.height/2);for(let u=0;u<n;u++)(l=r.ctx)==null||l.drawImage(Tu,t[u]*_u,0,_u,Tu.height,Xt.width/2+_u*u+Ch.width/2,Xt.height/2-Tu.height/2,_u,Tu.height)}function cC(r,t){const n=r.color,s=t.getNeighbors(r);hE(n,s,t)}function hE(r,t,n){t&&t.forEach(s=>{if(r===s.color&&!s.busted){s.busted=!0,n.bustedThisRound+=1;const l=n.getNeighbors(s);hE(r,l,n)}})}function hC(r,t){let n=0,s=0;n=Math.atan2(r.x-t.x,r.y-t.y),s=n*180/Math.PI+270,s>=270&&s<330?s=300:s>=210&&s<270?s=240:s>=330&&s<450?s=360:s>=90&&s<210&&(s=180),n=(s-270)*Math.PI/180,r.y=t.y+(r.r+t.r)*Math.cos(n),r.x=t.x+(r.r+t.r)*Math.sin(n)}function fE(r,t){return Math.sqrt((t.x-r.x)**2+(t.y-r.y)**2)}function fC(r,t){for(const[n]of t.graph)if(r!==n&&fE(r,n)<=n.r+r.r){r.dx=0,r.dy=0,hC(r,n);break}}function dC(r){for(const[t]of r.orbs.graph)if(t!==r.firedOrb&&r.arena.line-t.y<t.r&&!t.orphaned)return!0;return!1}function dE(r,t){for(const[n]of t.graph)n!==r&&Math.floor(fE(r,n))<=r.r+n.r&&t.addEdge(r,n)}const mC="/bust-a-move/assets/orb-green-idle-BaLvXH_S.png",pC="/bust-a-move/assets/orb-green-shine-DJVtE-1f.png",gC="/bust-a-move/assets/orb-blue-idle-WEBqKFza.png",yC="/bust-a-move/assets/orb-blue-shine-ZptsSmGI.png",vC="/bust-a-move/assets/orb-red-idle-CeXsUxqc.png",_C="/bust-a-move/assets/orb-red-shine-BrfRtJiW.png",AC="/bust-a-move/assets/orb-purple-idle-CoYv-NyA.png",EC="/bust-a-move/assets/orb-purple-shine-B67_BqoW.png",SC="/bust-a-move/assets/orb-yellow-idle-COFXJ7-e.png",TC="/bust-a-move/assets/orb-yellow-shine-ys9jz3hy.png",bC="/bust-a-move/assets/orb-white-idle-SBGHk0NR.png",wC="/bust-a-move/assets/orb-white-shine-DxnMmzFd.png",ip=await vt(mC),RC=await vt(pC),rp=await vt(gC),CC=await vt(yC),sp=await vt(vC),DC=await vt(_C),ap=await vt(AC),xC=await vt(EC),lp=await vt(SC),IC=await vt(TC),op=await vt(bC),OC=await vt(wC),ts={green:{idle:ip,shine:RC,width:ip.width/3-1,height:ip.height},blue:{idle:rp,shine:CC,width:rp.width/3-1,height:rp.height},red:{idle:sp,shine:DC,width:sp.width/3-1,height:sp.height},purple:{idle:ap,shine:xC,width:ap.width/3-1,height:ap.height},yellow:{idle:lp,shine:IC,width:lp.width/3-1,height:lp.height},white:{idle:op,shine:OC,width:op.width/3-1,height:op.height}},A_=Array.from(Object.keys(ts));class Lh{constructor(t,n,s,l,u,f){k(this,"x");k(this,"y");k(this,"dx");k(this,"dy");k(this,"r");k(this,"color","");k(this,"sprite",null);k(this,"frame",1);k(this,"sx",0);k(this,"sy",0);k(this,"spriteDrawX");k(this,"spriteDrawY");k(this,"shiftX",0);k(this,"spriteWidth",0);k(this,"spriteHeight",0);k(this,"spriteDrawWidth");k(this,"spriteDrawHeight");k(this,"busted",!1);k(this,"anchoredToArena",!1);k(this,"recursiveVisitedFlag",!1);k(this,"randomIdleInterval",ug(200,300));k(this,"orphaned",!1);k(this,"free",!0);this.x=t,this.y=n,this.r=s,this.dx=l,this.dy=u,this.color=A_[Math.floor(Math.random()*Math.min(f,A_.length))],this.sprite=ts[this.color].idle,this.spriteWidth=ts[this.color].width,this.spriteHeight=ts[this.color].height,this.spriteDrawX=this.x-this.r,this.spriteDrawY=this.y-this.r,this.spriteDrawWidth=2*this.r,this.spriteDrawHeight=2*this.r}draw(t){t&&this.sprite&&(t.strokeStyle="transparent",t.beginPath(),t.arc(this.x,this.y,this.r,0,2*Math.PI),t.stroke(),t.drawImage(this.sprite,this.sx,this.sy,this.spriteWidth,this.spriteHeight,this.spriteDrawX,this.spriteDrawY,this.spriteDrawWidth,this.spriteDrawHeight))}shine(){this.sprite=ts[this.color].shine,this.shiftX=this.spriteWidth+1}idle(){this.shiftX=this.spriteWidth+1}drop(){this.orphaned=!0,this.dy=Ep}update(t,n){if(this.y+this.dy>n.arena.arenaFloor){n.orbs.deleteOrb(this);return}(this.x+this.dx<n.arena.leftBound+this.r||this.x+this.dx>n.arena.rightBound-this.r)&&(this.dx=-this.dx),this.y+this.dy<=n.arena.topBound+this.r&&(this.dx=0,this.dy=0,this.y=n.arena.topBound+this.r,this.x=n.arena.leftBound+Math.floor((this.x+this.r/2-n.arena.leftBound)/(2*this.r))*(2*this.r),this.anchoredToArena=!0),this.x+=this.dx,this.y+=this.dy,this.spriteDrawX=this.x-this.r,this.spriteDrawY=this.y-this.r,this.frame%this.randomIdleInterval===0&&this.idle(),this.frame%3===0&&(this.sx+=this.shiftX,(this.sprite===ts[this.color].shine&&this.sx>=this.sprite.width||this.sprite===ts[this.color].idle&&this.sx>=this.sprite.width)&&(this.sx=0,this.shiftX=0,this.sprite=ts[this.color].idle)),this.orphaned&&(this.dy+=Ep),this.frame++,this.draw(t)}}function VC(r){r.loadedOrb&&r.nextOrb&&(r.sfx&&r.audioPool.playSound("shoot"),r.firedOrb=r.loadedOrb,r.loadedOrb=r.nextOrb,r.loadedOrb.dx=5,r.firedOrb.dx=5*Math.cos((-90+r.cannon.deg)*Math.PI/180),r.firedOrb.dy=5*Math.sin((-90+r.cannon.deg)*Math.PI/180),r.orbs.addOrb(r.firedOrb),r.nextOrb=new Lh(r.cannon.x-5*r.orbRadius,r.arena.arenaFloor-r.orbRadius,r.orbRadius,0,0,r.colorRange))}function MC(r){r.loadedOrb=new Lh(r.cannon.x+r.cannon.width/2,r.cannon.y+r.cannon.height/2,r.orbRadius,0,0,r.colorRange),r.nextOrb=new Lh(r.cannon.x-5*r.orbRadius,r.arena.arenaFloor-r.orbRadius,r.orbRadius,0,0,r.colorRange);const t=new Map,n=10+10*((r.level-1)%5);for(let s=0;s<n;s++){const l=new Lh(0,r.arena.topBound+r.orbRadius,r.orbRadius,0,0,r.colorRange);l.anchoredToArena=!0,NC(l,t,r)}for(const s of t.values())r.orbs.addOrb(s),dE(s,r.orbs)}function NC(r,t,n){for(r.x=2*n.orbRadius+n.arena.leftBound+2*n.orbRadius*ug(0,8);t.has(`${r.x}, ${r.y}`);){r.anchoredToArena=!1;let s;const l=t.get(`${r.x}, ${r.y}`);n.arena.rightBound-r.x<=2*r.r?s=-30:r.x-n.arena.leftBound<=2*r.r?s=30:s=Math.random()>=.5?30:-30;const u=s*Math.PI/180;r.y=l.y+Math.cos(u)*(r.r+l.r),r.x=l.x+Math.sin(u)*(r.r+l.r)}t.set(`${r.x}, ${r.y}`,r)}function UC(r){r.bustedThisRound=0;for(const[t]of r.graph)t.busted=!1}function PC(r){for(const[t]of r.orbs.graph)t.y+=r.arenaShrinkRate}function BC(r){r.nextOrb&&r.loadedOrb&&(r.nextOrb.update(r.ctx,r),r.loadedOrb.update(r.ctx,r),r.loadedOrb.x>=r.cannon.x+r.cannon.width/2&&(r.loadedOrb.x=r.cannon.x+r.cannon.width/2,r.loadedOrb.dx=0,r.loadedOrb.y=r.cannon.y+r.cannon.height/2))}class LC{constructor(t,n){k(this,"arena");k(this,"arenaShrinkRate",0);k(this,"audioPool");k(this,"ctx",null);k(this,"cannon");k(this,"cannonBase");k(this,"cannonLoaderSprite");k(this,"cannonOperatorSprite");k(this,"colorRange");k(this,"controls",{left:"a",right:"d",fire:" "});k(this,"critters",new Set);k(this,"dropPoints",null);k(this,"explosions",new Set);k(this,"firedOrb",null);k(this,"fpsController",new m1);k(this,"frame",0);k(this,"gameOverFlag",!1);k(this,"height");k(this,"level");k(this,"loadedOrb",null);k(this,"msNow",this.fpsController.msPrev);k(this,"music",!0);k(this,"nextOrb",null);k(this,"orbs",new g1);k(this,"orbBagBack");k(this,"orbBagFront");k(this,"orbRadius",aa);k(this,"paused",!1);k(this,"pool");k(this,"roundComplete",!1);k(this,"roundScore",0);k(this,"roundStart",!1);k(this,"sfx",!0);k(this,"transformOrigin");k(this,"transformScaler");k(this,"score",0);k(this,"tenPointSprites",new Set);k(this,"width");k(this,"keyDownEvent",t=>{this.cannon.handleKeyDown(t.key,this.controls),this.cannonBase.handleKeyDown(t.key,this.controls),this.cannonOperatorSprite.handleKeyDown(t.key,this.controls),this.cannonLoaderSprite.handleKeyDown(t.key,this.controls),t.key===this.controls.fire&&!this.firedOrb&&VC(this)});k(this,"keyUpEvent",()=>{this.cannon.handleKeyUp(),this.cannonBase.handleKeyUp(),this.cannonOperatorSprite.handleKeyUp()});k(this,"animationLoop",()=>{var t;if(this.ctx){if(this.frame=requestAnimationFrame(this.animationLoop),this.msNow=this.fpsController.msPrev,!this.fpsController.renderFrame())return;this.ctx.clearRect(0,0,this.width,this.height),this.ctx.setTransform(this.transformScaler,0,0,this.transformScaler,this.transformOrigin.x,this.transformOrigin.y),nC(this),this.arena.update(this.ctx),PC(this),this.orbBagBack.draw(this.ctx),this.cannonBase.update(this.ctx),this.cannon.update(this.ctx),this.firedOrb&&(fC(this.firedOrb,this.orbs),this.firedOrb.dx===0&&this.firedOrb.dy===0&&(this.sfx&&this.audioPool.playSound("collide"),this.firedOrb.shine(),dE(this.firedOrb,this.orbs),cC(this.firedOrb,this.orbs),P1(this),Q1(this),UC(this.orbs),this.firedOrb=null)),this.cannonLoaderSprite.update(this.ctx),BC(this);for(const[n]of this.orbs.graph)n.update(this.ctx,this);this.explosions.forEach(n=>n.update(this.ctx,this)),this.tenPointSprites.forEach(n=>n.update(this.ctx,this)),this.critters.forEach(n=>n.update(this.ctx,this)),this.orbBagFront.draw(this.ctx),this.cannonOperatorSprite.update(this.ctx),(t=this.dropPoints)==null||t.update(this.ctx,this),this.orbs.graph.size===0&&this.explosions.size===0&&!this.roundComplete&&this.nextLevel(),this.roundComplete&&lC(this),this.roundStart&&uC(this),this.gameOverFlag&&rC(this),dC(this)&&this.gameOver(),this.ctx.resetTransform()}});this.width=t,this.height=n,this.transformScaler=Math.min(t/Xt.width,n/Xt.height),this.transformOrigin={x:(t-Xt.width*this.transformScaler)/2,y:(n-Xt.height*this.transformScaler)/2},this.level=1,this.colorRange=1,this.audioPool=new $R,this.pool=new U1,this.arena=new FR(this,"#000000"),this.cannon=new e1(this),this.cannonBase=new i1(this),this.cannonOperatorSprite=new d1(this),this.cannonLoaderSprite=new o1(this),this.orbBagBack=new y_("back",this),this.orbBagFront=new y_("front",this)}setContext(t){this.ctx=t}setOptions(t){this.sfx=t.sfx,this.music=t.music,this.controls.left=t.left,this.controls.right=t.right,this.controls.fire=t.fire}start(){(this.level-1)%5===0&&this.colorRange++,MC(this),this.arena.pickLevel(this.level),this.sfx&&this.audioPool.playSound("ready"),this.roundComplete=!1,this.roundScore=0,this.roundStart=!0,setTimeout(()=>{this.sfx&&this.audioPool.playSound("go"),this.arenaShrinkRate=g_,this.arena.shrinkRate=g_,window.addEventListener("keydown",this.keyDownEvent),window.addEventListener("keyup",this.keyUpEvent),this.roundStart=!1},3500)}nextLevel(){this.roundComplete=!0,this.arenaShrinkRate=0,this.arena.shrinkRate=0,window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent),this.loadedOrb=null,this.nextOrb=null,setTimeout(()=>{this.arena.resetArena(this),this.level+=1,this.start()},TR)}gameOver(){this.gameOverFlag=!0,this.arenaShrinkRate=0,this.arena.shrinkRate=0,this.cannonOperatorSprite.knocked(),this.cannonLoaderSprite.knocked(),window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent)}restart(){this.gameOverFlag=!1,this.score=0,this.level=1,this.colorRange=1,this.orbs.deleteGraph(),this.loadedOrb=null,this.nextOrb=null,this.cannonOperatorSprite.idle(),this.cannonLoaderSprite.idle(),this.arena.resetArena(this),this.start()}stop(){window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent),this.orbs.deleteGraph(),cancelAnimationFrame(this.frame)}togglePause(){this.paused?(requestAnimationFrame(this.animationLoop),window.addEventListener("keydown",this.keyDownEvent),window.addEventListener("keyup",this.keyUpEvent)):(cancelAnimationFrame(this.frame),window.removeEventListener("keydown",this.keyDownEvent),window.removeEventListener("keyup",this.keyUpEvent)),this.paused=!this.paused}}function kC(){const[r,t]=G.useState({width:innerWidth,height:innerHeight});return G.useEffect(()=>{window.addEventListener("resize",()=>{t({width:innerWidth,height:innerHeight})})},[]),r}function zC(r){const[t,n]=G.useState(()=>r<2e3?_l.HD:r>=2e3&&r<3e3?_l["2K"]:_l["4K"]);return G.useEffect(()=>{r<2e3?n(_l.HD):r>=2e3&&r<3e3?n(_l["2K"]):n(_l["4K"])},[r]),t}function va({to:r,text:t}){return et.jsx(og,{to:r,className:"px-4 py-2 text-center bg-black border-s-white border-2 rounded-2xl hover:cursor-pointer active:scale-95 focus:bg-blue-500",children:t})}const gf=G.createContext({sfx:!0,music:!0,mobileUI:!0,left:"a",right:"d",fire:" "});function up({dispatchKeyBoardDown:r,dispatchKeyBoardUp:t,value:n,custClass:s}){return et.jsx("button",{value:n,onTouchStart:l=>r(l),onTouchEnd:l=>t(l),className:`p-8 rounded-full text-center w-max bg-black border-s-white border-2 
        hover:cursor-pointer active:scale-95 focus:bg-blue-500 opacity-60
         ${s||""}`})}function HC(){const r=G.useContext(gf),t=s=>{const l=new KeyboardEvent("keydown",{key:s.currentTarget.value});window.dispatchEvent(l)},n=s=>{const l=new KeyboardEvent("keyup",{key:s.currentTarget.value});window.dispatchEvent(l)};return et.jsx(et.Fragment,{children:r.mobileUI&&et.jsxs("div",{className:"flex justify-between items-center px-3 2xl:hidden",children:[et.jsxs("div",{className:"flex flex-col w-28 gap-2",children:[et.jsx(up,{dispatchKeyBoardDown:t,dispatchKeyBoardUp:n,value:r.left}),et.jsx(up,{dispatchKeyBoardDown:t,dispatchKeyBoardUp:n,value:r.right,custClass:"ml-auto"})]}),et.jsx(up,{dispatchKeyBoardDown:t,dispatchKeyBoardUp:n,value:r.fire,custClass:"h-max"})]})})}function Kh({children:r,cb:t}){return et.jsx("button",{className:"px-4 py-2 text-center bg-black border-s-white border-2 rounded-2xl hover:cursor-pointer active:scale-95 focus:bg-blue-500",onClick:t,children:r})}function jC({game:r}){const t=n=>{const s=n.toString().length;let l=""+n;for(let u=0;u<11-s;u++)l="0"+l;return l};return et.jsxs("section",{className:"h-full relative z-10 flex flex-col justify-between p-2 2xl:p-8",children:[et.jsxs("div",{className:"flex justify-between items-center",children:[et.jsxs("div",{className:"font-bold space-y-4 2xl:text-2xl p-4 bg-black border-s-white border-2 rounded-2xl ",children:[et.jsx("p",{children:t(r.score)}),et.jsxs("p",{children:["ROUND-",r.level]})]}),et.jsxs("div",{className:"flex flex-col gap-2 h-max lg:flex-row",children:[et.jsx(Kh,{cb:n=>{r==null||r.togglePause(),n==null||n.currentTarget.blur()},children:"PAUSE"}),et.jsx(va,{to:"/",text:"HOME"})]})]}),et.jsx(HC,{})]})}var $l=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_a=typeof window>"u"||"Deno"in globalThis;function Gn(){}function qC(r,t){return typeof r=="function"?r(t):r}function Sp(r){return typeof r=="number"&&r>=0&&r!==1/0}function mE(r,t){return Math.max(r+(t||0)-Date.now(),0)}function Rl(r,t){return typeof r=="function"?r(t):r}function ii(r,t){return typeof r=="function"?r(t):r}function E_(r,t){const{type:n="all",exact:s,fetchStatus:l,predicate:u,queryKey:f,stale:m}=r;if(f){if(s){if(t.queryHash!==cg(f,t.options))return!1}else if(!Mu(t.queryKey,f))return!1}if(n!=="all"){const g=t.isActive();if(n==="active"&&!g||n==="inactive"&&g)return!1}return!(typeof m=="boolean"&&t.isStale()!==m||l&&l!==t.state.fetchStatus||u&&!u(t))}function S_(r,t){const{exact:n,status:s,predicate:l,mutationKey:u}=r;if(u){if(!t.options.mutationKey)return!1;if(n){if(Aa(t.options.mutationKey)!==Aa(u))return!1}else if(!Mu(t.options.mutationKey,u))return!1}return!(s&&t.state.status!==s||l&&!l(t))}function cg(r,t){return((t==null?void 0:t.queryKeyHashFn)||Aa)(r)}function Aa(r){return JSON.stringify(r,(t,n)=>Tp(n)?Object.keys(n).sort().reduce((s,l)=>(s[l]=n[l],s),{}):n)}function Mu(r,t){return r===t?!0:typeof r!=typeof t?!1:r&&t&&typeof r=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Mu(r[n],t[n])):!1}function pE(r,t){if(r===t)return r;const n=T_(r)&&T_(t);if(n||Tp(r)&&Tp(t)){const s=n?r:Object.keys(r),l=s.length,u=n?t:Object.keys(t),f=u.length,m=n?[]:{};let g=0;for(let y=0;y<f;y++){const A=n?y:u[y];(!n&&s.includes(A)||n)&&r[A]===void 0&&t[A]===void 0?(m[A]=void 0,g++):(m[A]=pE(r[A],t[A]),m[A]===r[A]&&r[A]!==void 0&&g++)}return l===f&&g===l?r:m}return t}function Yh(r,t){if(!t||Object.keys(r).length!==Object.keys(t).length)return!1;for(const n in r)if(r[n]!==t[n])return!1;return!0}function T_(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function Tp(r){if(!b_(r))return!1;const t=r.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!b_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function b_(r){return Object.prototype.toString.call(r)==="[object Object]"}function FC(r){return new Promise(t=>{setTimeout(t,r)})}function bp(r,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(r,t):n.structuralSharing!==!1?pE(r,t):t}function QC(r,t,n=0){const s=[...r,t];return n&&s.length>n?s.slice(1):s}function GC(r,t,n=0){const s=[t,...r];return n&&s.length>n?s.slice(0,-1):s}var hg=Symbol();function gE(r,t){return!r.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!r.queryFn||r.queryFn===hg?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}var ca,rs,Ol,LA,KC=(LA=class extends $l{constructor(){super();pt(this,ca);pt(this,rs);pt(this,Ol);at(this,Ol,t=>{if(!_a&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,rs)||this.setEventListener(D(this,Ol))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,rs))==null||t.call(this),at(this,rs,void 0))}setEventListener(t){var n;at(this,Ol,t),(n=D(this,rs))==null||n.call(this),at(this,rs,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){D(this,ca)!==t&&(at(this,ca,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,ca)=="boolean"?D(this,ca):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ca=new WeakMap,rs=new WeakMap,Ol=new WeakMap,LA),fg=new KC,Vl,ss,Ml,kA,YC=(kA=class extends $l{constructor(){super();pt(this,Vl,!0);pt(this,ss);pt(this,Ml);at(this,Ml,t=>{if(!_a&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){D(this,ss)||this.setEventListener(D(this,Ml))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,ss))==null||t.call(this),at(this,ss,void 0))}setEventListener(t){var n;at(this,Ml,t),(n=D(this,ss))==null||n.call(this),at(this,ss,t(this.setOnline.bind(this)))}setOnline(t){D(this,Vl)!==t&&(at(this,Vl,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return D(this,Vl)}},Vl=new WeakMap,ss=new WeakMap,Ml=new WeakMap,kA),Xh=new YC;function wp(){let r,t;const n=new Promise((l,u)=>{r=l,t=u});n.status="pending",n.catch(()=>{});function s(l){Object.assign(n,l),delete n.resolve,delete n.reject}return n.resolve=l=>{s({status:"fulfilled",value:l}),r(l)},n.reject=l=>{s({status:"rejected",reason:l}),t(l)},n}function XC(r){return Math.min(1e3*2**r,3e4)}function yE(r){return(r??"online")==="online"?Xh.isOnline():!0}var vE=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function cp(r){return r instanceof vE}function _E(r){let t=!1,n=0,s=!1,l;const u=wp(),f=F=>{var B;s||(w(new vE(F)),(B=r.abort)==null||B.call(r))},m=()=>{t=!0},g=()=>{t=!1},y=()=>fg.isFocused()&&(r.networkMode==="always"||Xh.isOnline())&&r.canRun(),A=()=>yE(r.networkMode)&&r.canRun(),b=F=>{var B;s||(s=!0,(B=r.onSuccess)==null||B.call(r,F),l==null||l(),u.resolve(F))},w=F=>{var B;s||(s=!0,(B=r.onError)==null||B.call(r,F),l==null||l(),u.reject(F))},O=()=>new Promise(F=>{var B;l=Y=>{(s||y())&&F(Y)},(B=r.onPause)==null||B.call(r)}).then(()=>{var F;l=void 0,s||(F=r.onContinue)==null||F.call(r)}),L=()=>{if(s)return;let F;const B=n===0?r.initialPromise:void 0;try{F=B??r.fn()}catch(Y){F=Promise.reject(Y)}Promise.resolve(F).then(b).catch(Y=>{var St;if(s)return;const it=r.retry??(_a?0:3),Z=r.retryDelay??XC,dt=typeof Z=="function"?Z(n,Y):Z,ot=it===!0||typeof it=="number"&&n<it||typeof it=="function"&&it(n,Y);if(t||!ot){w(Y);return}n++,(St=r.onFail)==null||St.call(r,n,Y),FC(dt).then(()=>y()?void 0:O()).then(()=>{t?w(Y):L()})})};return{promise:u,cancel:f,continue:()=>(l==null||l(),u),cancelRetry:m,continueRetry:g,canStart:A,start:()=>(A()?L():O().then(L),u)}}function WC(){let r=[],t=0,n=m=>{m()},s=m=>{m()},l=m=>setTimeout(m,0);const u=m=>{t?r.push(m):l(()=>{n(m)})},f=()=>{const m=r;r=[],m.length&&l(()=>{s(()=>{m.forEach(g=>{n(g)})})})};return{batch:m=>{let g;t++;try{g=m()}finally{t--,t||f()}return g},batchCalls:m=>(...g)=>{u(()=>{m(...g)})},schedule:u,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{s=m},setScheduler:m=>{l=m}}}var Ue=WC(),ha,zA,AE=(zA=class{constructor(){pt(this,ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Sp(this.gcTime)&&at(this,ha,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(_a?1/0:5*60*1e3))}clearGcTimeout(){D(this,ha)&&(clearTimeout(D(this,ha)),at(this,ha,void 0))}},ha=new WeakMap,zA),Nl,Ul,Qn,fa,rn,Qu,da,ei,ar,HA,ZC=(HA=class extends AE{constructor(n){super();pt(this,ei);pt(this,Nl);pt(this,Ul);pt(this,Qn);pt(this,fa);pt(this,rn);pt(this,Qu);pt(this,da);at(this,da,!1),at(this,Qu,n.defaultOptions),this.setOptions(n.options),this.observers=[],at(this,fa,n.client),at(this,Qn,D(this,fa).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,at(this,Nl,JC(this.options)),this.state=n.state??D(this,Nl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=D(this,rn))==null?void 0:n.promise}setOptions(n){this.options={...D(this,Qu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,Qn).remove(this)}setData(n,s){const l=bp(this.state.data,n,this.options);return Vt(this,ei,ar).call(this,{data:l,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),l}setState(n,s){Vt(this,ei,ar).call(this,{type:"setState",state:n,setStateOptions:s})}cancel(n){var l,u;const s=(l=D(this,rn))==null?void 0:l.promise;return(u=D(this,rn))==null||u.cancel(n),s?s.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,Nl))}isActive(){return this.observers.some(n=>ii(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===hg||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!mE(this.state.dataUpdatedAt,n)}onFocus(){var s;const n=this.observers.find(l=>l.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(s=D(this,rn))==null||s.continue()}onOnline(){var s;const n=this.observers.find(l=>l.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(s=D(this,rn))==null||s.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),D(this,Qn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(s=>s!==n),this.observers.length||(D(this,rn)&&(D(this,da)?D(this,rn).cancel({revert:!0}):D(this,rn).cancelRetry()),this.scheduleGc()),D(this,Qn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Vt(this,ei,ar).call(this,{type:"invalidate"})}fetch(n,s){var y,A,b;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(D(this,rn))return D(this,rn).continueRetry(),D(this,rn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const w=this.observers.find(O=>O.options.queryFn);w&&this.setOptions(w.options)}const l=new AbortController,u=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(at(this,da,!0),l.signal)})},f=()=>{const w=gE(this.options,s),O={client:D(this,fa),queryKey:this.queryKey,meta:this.meta};return u(O),at(this,da,!1),this.options.persister?this.options.persister(w,O,this):w(O)},m={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:D(this,fa),state:this.state,fetchFn:f};u(m),(y=this.options.behavior)==null||y.onFetch(m,this),at(this,Ul,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((A=m.fetchOptions)==null?void 0:A.meta))&&Vt(this,ei,ar).call(this,{type:"fetch",meta:(b=m.fetchOptions)==null?void 0:b.meta});const g=w=>{var O,L,F,B;cp(w)&&w.silent||Vt(this,ei,ar).call(this,{type:"error",error:w}),cp(w)||((L=(O=D(this,Qn).config).onError)==null||L.call(O,w,this),(B=(F=D(this,Qn).config).onSettled)==null||B.call(F,this.state.data,w,this)),this.scheduleGc()};return at(this,rn,_E({initialPromise:s==null?void 0:s.initialPromise,fn:m.fetchFn,abort:l.abort.bind(l),onSuccess:w=>{var O,L,F,B;if(w===void 0){g(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(w)}catch(Y){g(Y);return}(L=(O=D(this,Qn).config).onSuccess)==null||L.call(O,w,this),(B=(F=D(this,Qn).config).onSettled)==null||B.call(F,w,this.state.error,this),this.scheduleGc()},onError:g,onFail:(w,O)=>{Vt(this,ei,ar).call(this,{type:"failed",failureCount:w,error:O})},onPause:()=>{Vt(this,ei,ar).call(this,{type:"pause"})},onContinue:()=>{Vt(this,ei,ar).call(this,{type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0})),D(this,rn).start()}},Nl=new WeakMap,Ul=new WeakMap,Qn=new WeakMap,fa=new WeakMap,rn=new WeakMap,Qu=new WeakMap,da=new WeakMap,ei=new WeakSet,ar=function(n){const s=l=>{switch(n.type){case"failed":return{...l,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...l,fetchStatus:"paused"};case"continue":return{...l,fetchStatus:"fetching"};case"fetch":return{...l,...EE(l.data,this.options),fetchMeta:n.meta??null};case"success":return{...l,data:n.data,dataUpdateCount:l.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const u=n.error;return cp(u)&&u.revert&&D(this,Ul)?{...D(this,Ul),fetchStatus:"idle"}:{...l,error:u,errorUpdateCount:l.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:l.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...l,isInvalidated:!0};case"setState":return{...l,...n.state}}};this.state=s(this.state),Ue.batch(()=>{this.observers.forEach(l=>{l.onQueryUpdate()}),D(this,Qn).notify({query:this,type:"updated",action:n})})},HA);function EE(r,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:yE(t.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function JC(r){const t=typeof r.initialData=="function"?r.initialData():r.initialData,n=t!==void 0,s=n?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var wi,jA,$C=(jA=class extends $l{constructor(t={}){super();pt(this,wi);this.config=t,at(this,wi,new Map)}build(t,n,s){const l=n.queryKey,u=n.queryHash??cg(l,n);let f=this.get(u);return f||(f=new ZC({client:t,queryKey:l,queryHash:u,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(l)}),this.add(f)),f}add(t){D(this,wi).has(t.queryHash)||(D(this,wi).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,wi).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,wi).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Ue.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,wi).get(t)}getAll(){return[...D(this,wi).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>E_(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>E_(t,s)):n}notify(t){Ue.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Ue.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Ue.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},wi=new WeakMap,jA),Ri,dn,ma,Ci,es,qA,t2=(qA=class extends AE{constructor(n){super();pt(this,Ci);pt(this,Ri);pt(this,dn);pt(this,ma);this.mutationId=n.mutationId,at(this,dn,n.mutationCache),at(this,Ri,[]),this.state=n.state||SE(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){D(this,Ri).includes(n)||(D(this,Ri).push(n),this.clearGcTimeout(),D(this,dn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){at(this,Ri,D(this,Ri).filter(s=>s!==n)),this.scheduleGc(),D(this,dn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){D(this,Ri).length||(this.state.status==="pending"?this.scheduleGc():D(this,dn).remove(this))}continue(){var n;return((n=D(this,ma))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var u,f,m,g,y,A,b,w,O,L,F,B,Y,it,Z,dt,ot,St,V,R;at(this,ma,_E({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,x)=>{Vt(this,Ci,es).call(this,{type:"failed",failureCount:T,error:x})},onPause:()=>{Vt(this,Ci,es).call(this,{type:"pause"})},onContinue:()=>{Vt(this,Ci,es).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,dn).canRun(this)}));const s=this.state.status==="pending",l=!D(this,ma).canStart();try{if(!s){Vt(this,Ci,es).call(this,{type:"pending",variables:n,isPaused:l}),await((f=(u=D(this,dn).config).onMutate)==null?void 0:f.call(u,n,this));const x=await((g=(m=this.options).onMutate)==null?void 0:g.call(m,n));x!==this.state.context&&Vt(this,Ci,es).call(this,{type:"pending",context:x,variables:n,isPaused:l})}const T=await D(this,ma).start();return await((A=(y=D(this,dn).config).onSuccess)==null?void 0:A.call(y,T,n,this.state.context,this)),await((w=(b=this.options).onSuccess)==null?void 0:w.call(b,T,n,this.state.context)),await((L=(O=D(this,dn).config).onSettled)==null?void 0:L.call(O,T,null,this.state.variables,this.state.context,this)),await((B=(F=this.options).onSettled)==null?void 0:B.call(F,T,null,n,this.state.context)),Vt(this,Ci,es).call(this,{type:"success",data:T}),T}catch(T){try{throw await((it=(Y=D(this,dn).config).onError)==null?void 0:it.call(Y,T,n,this.state.context,this)),await((dt=(Z=this.options).onError)==null?void 0:dt.call(Z,T,n,this.state.context)),await((St=(ot=D(this,dn).config).onSettled)==null?void 0:St.call(ot,void 0,T,this.state.variables,this.state.context,this)),await((R=(V=this.options).onSettled)==null?void 0:R.call(V,void 0,T,n,this.state.context)),T}finally{Vt(this,Ci,es).call(this,{type:"error",error:T})}}finally{D(this,dn).runNext(this)}}},Ri=new WeakMap,dn=new WeakMap,ma=new WeakMap,Ci=new WeakSet,es=function(n){const s=l=>{switch(n.type){case"failed":return{...l,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...l,isPaused:!0};case"continue":return{...l,isPaused:!1};case"pending":return{...l,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...l,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...l,data:void 0,error:n.error,failureCount:l.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=s(this.state),Ue.batch(()=>{D(this,Ri).forEach(l=>{l.onMutationUpdate(n)}),D(this,dn).notify({mutation:this,type:"updated",action:n})})},qA);function SE(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var or,ni,Gu,FA,e2=(FA=class extends $l{constructor(t={}){super();pt(this,or);pt(this,ni);pt(this,Gu);this.config=t,at(this,or,new Set),at(this,ni,new Map),at(this,Gu,0)}build(t,n,s){const l=new t2({mutationCache:this,mutationId:++Th(this,Gu)._,options:t.defaultMutationOptions(n),state:s});return this.add(l),l}add(t){D(this,or).add(t);const n=Dh(t);if(typeof n=="string"){const s=D(this,ni).get(n);s?s.push(t):D(this,ni).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(D(this,or).delete(t)){const n=Dh(t);if(typeof n=="string"){const s=D(this,ni).get(n);if(s)if(s.length>1){const l=s.indexOf(t);l!==-1&&s.splice(l,1)}else s[0]===t&&D(this,ni).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=Dh(t);if(typeof n=="string"){const s=D(this,ni).get(n),l=s==null?void 0:s.find(u=>u.state.status==="pending");return!l||l===t}else return!0}runNext(t){var s;const n=Dh(t);if(typeof n=="string"){const l=(s=D(this,ni).get(n))==null?void 0:s.find(u=>u!==t&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ue.batch(()=>{D(this,or).forEach(t=>{this.notify({type:"removed",mutation:t})}),D(this,or).clear(),D(this,ni).clear()})}getAll(){return Array.from(D(this,or))}find(t){const n={exact:!0,...t};return this.getAll().find(s=>S_(n,s))}findAll(t={}){return this.getAll().filter(n=>S_(t,n))}notify(t){Ue.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Ue.batch(()=>Promise.all(t.map(n=>n.continue().catch(Gn))))}},or=new WeakMap,ni=new WeakMap,Gu=new WeakMap,FA);function Dh(r){var t;return(t=r.options.scope)==null?void 0:t.id}function w_(r){return{onFetch:(t,n)=>{var A,b,w,O,L;const s=t.options,l=(w=(b=(A=t.fetchOptions)==null?void 0:A.meta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=((O=t.state.data)==null?void 0:O.pages)||[],f=((L=t.state.data)==null?void 0:L.pageParams)||[];let m={pages:[],pageParams:[]},g=0;const y=async()=>{let F=!1;const B=Z=>{Object.defineProperty(Z,"signal",{enumerable:!0,get:()=>(t.signal.aborted?F=!0:t.signal.addEventListener("abort",()=>{F=!0}),t.signal)})},Y=gE(t.options,t.fetchOptions),it=async(Z,dt,ot)=>{if(F)return Promise.reject();if(dt==null&&Z.pages.length)return Promise.resolve(Z);const St={client:t.client,queryKey:t.queryKey,pageParam:dt,direction:ot?"backward":"forward",meta:t.options.meta};B(St);const V=await Y(St),{maxPages:R}=t.options,T=ot?GC:QC;return{pages:T(Z.pages,V,R),pageParams:T(Z.pageParams,dt,R)}};if(l&&u.length){const Z=l==="backward",dt=Z?n2:R_,ot={pages:u,pageParams:f},St=dt(s,ot);m=await it(ot,St,Z)}else{const Z=r??u.length;do{const dt=g===0?f[0]??s.initialPageParam:R_(s,m);if(g>0&&dt==null)break;m=await it(m,dt),g++}while(g<Z)}return m};t.options.persister?t.fetchFn=()=>{var F,B;return(B=(F=t.options).persister)==null?void 0:B.call(F,y,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=y}}}function R_(r,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?r.getNextPageParam(t[s],t,n[s],n):void 0}function n2(r,{pages:t,pageParams:n}){var s;return t.length>0?(s=r.getPreviousPageParam)==null?void 0:s.call(r,t[0],t,n[0],n):void 0}var ye,as,ls,Pl,Bl,os,Ll,kl,QA,i2=(QA=class{constructor(r={}){pt(this,ye);pt(this,as);pt(this,ls);pt(this,Pl);pt(this,Bl);pt(this,os);pt(this,Ll);pt(this,kl);at(this,ye,r.queryCache||new $C),at(this,as,r.mutationCache||new e2),at(this,ls,r.defaultOptions||{}),at(this,Pl,new Map),at(this,Bl,new Map),at(this,os,0)}mount(){Th(this,os)._++,D(this,os)===1&&(at(this,Ll,fg.subscribe(async r=>{r&&(await this.resumePausedMutations(),D(this,ye).onFocus())})),at(this,kl,Xh.subscribe(async r=>{r&&(await this.resumePausedMutations(),D(this,ye).onOnline())})))}unmount(){var r,t;Th(this,os)._--,D(this,os)===0&&((r=D(this,Ll))==null||r.call(this),at(this,Ll,void 0),(t=D(this,kl))==null||t.call(this),at(this,kl,void 0))}isFetching(r){return D(this,ye).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return D(this,as).findAll({...r,status:"pending"}).length}getQueryData(r){var n;const t=this.defaultQueryOptions({queryKey:r});return(n=D(this,ye).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(r){const t=this.defaultQueryOptions(r),n=D(this,ye).build(this,t),s=n.state.data;return s===void 0?this.fetchQuery(r):(r.revalidateIfStale&&n.isStaleByTime(Rl(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(r){return D(this,ye).findAll(r).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(r,t,n){const s=this.defaultQueryOptions({queryKey:r}),l=D(this,ye).get(s.queryHash),u=l==null?void 0:l.state.data,f=qC(t,u);if(f!==void 0)return D(this,ye).build(this,s).setData(f,{...n,manual:!0})}setQueriesData(r,t,n){return Ue.batch(()=>D(this,ye).findAll(r).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(r){var n;const t=this.defaultQueryOptions({queryKey:r});return(n=D(this,ye).get(t.queryHash))==null?void 0:n.state}removeQueries(r){const t=D(this,ye);Ue.batch(()=>{t.findAll(r).forEach(n=>{t.remove(n)})})}resetQueries(r,t){const n=D(this,ye);return Ue.batch(()=>(n.findAll(r).forEach(s=>{s.reset()}),this.refetchQueries({type:"active",...r},t)))}cancelQueries(r,t={}){const n={revert:!0,...t},s=Ue.batch(()=>D(this,ye).findAll(r).map(l=>l.cancel(n)));return Promise.all(s).then(Gn).catch(Gn)}invalidateQueries(r,t={}){return Ue.batch(()=>(D(this,ye).findAll(r).forEach(n=>{n.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},t)))}refetchQueries(r,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},s=Ue.batch(()=>D(this,ye).findAll(r).filter(l=>!l.isDisabled()).map(l=>{let u=l.fetch(void 0,n);return n.throwOnError||(u=u.catch(Gn)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(s).then(Gn)}fetchQuery(r){const t=this.defaultQueryOptions(r);t.retry===void 0&&(t.retry=!1);const n=D(this,ye).build(this,t);return n.isStaleByTime(Rl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(Gn).catch(Gn)}fetchInfiniteQuery(r){return r.behavior=w_(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(Gn).catch(Gn)}ensureInfiniteQueryData(r){return r.behavior=w_(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Xh.isOnline()?D(this,as).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,ye)}getMutationCache(){return D(this,as)}getDefaultOptions(){return D(this,ls)}setDefaultOptions(r){at(this,ls,r)}setQueryDefaults(r,t){D(this,Pl).set(Aa(r),{queryKey:r,defaultOptions:t})}getQueryDefaults(r){const t=[...D(this,Pl).values()],n={};return t.forEach(s=>{Mu(r,s.queryKey)&&Object.assign(n,s.defaultOptions)}),n}setMutationDefaults(r,t){D(this,Bl).set(Aa(r),{mutationKey:r,defaultOptions:t})}getMutationDefaults(r){const t=[...D(this,Bl).values()],n={};return t.forEach(s=>{Mu(r,s.mutationKey)&&Object.assign(n,s.defaultOptions)}),n}defaultQueryOptions(r){if(r._defaulted)return r;const t={...D(this,ls).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return t.queryHash||(t.queryHash=cg(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===hg&&(t.enabled=!1),t}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{...D(this,ls).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){D(this,ye).clear(),D(this,as).clear()}},ye=new WeakMap,as=new WeakMap,ls=new WeakMap,Pl=new WeakMap,Bl=new WeakMap,os=new WeakMap,Ll=new WeakMap,kl=new WeakMap,QA),vn,Lt,Ku,mn,pa,zl,us,Di,Yu,Hl,jl,ga,ya,cs,ql,Jt,bu,Rp,Cp,Dp,xp,Ip,Op,Vp,TE,GA,r2=(GA=class extends $l{constructor(t,n){super();pt(this,Jt);pt(this,vn);pt(this,Lt);pt(this,Ku);pt(this,mn);pt(this,pa);pt(this,zl);pt(this,us);pt(this,Di);pt(this,Yu);pt(this,Hl);pt(this,jl);pt(this,ga);pt(this,ya);pt(this,cs);pt(this,ql,new Set);this.options=n,at(this,vn,t),at(this,Di,null),at(this,us,wp()),this.options.experimental_prefetchInRender||D(this,us).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,Lt).addObserver(this),C_(D(this,Lt),this.options)?Vt(this,Jt,bu).call(this):this.updateResult(),Vt(this,Jt,xp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Mp(D(this,Lt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Mp(D(this,Lt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Vt(this,Jt,Ip).call(this),Vt(this,Jt,Op).call(this),D(this,Lt).removeObserver(this)}setOptions(t,n){const s=this.options,l=D(this,Lt);if(this.options=D(this,vn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ii(this.options.enabled,D(this,Lt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Vt(this,Jt,Vp).call(this),D(this,Lt).setOptions(this.options),s._defaulted&&!Yh(this.options,s)&&D(this,vn).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,Lt),observer:this});const u=this.hasListeners();u&&D_(D(this,Lt),l,this.options,s)&&Vt(this,Jt,bu).call(this),this.updateResult(n),u&&(D(this,Lt)!==l||ii(this.options.enabled,D(this,Lt))!==ii(s.enabled,D(this,Lt))||Rl(this.options.staleTime,D(this,Lt))!==Rl(s.staleTime,D(this,Lt)))&&Vt(this,Jt,Rp).call(this);const f=Vt(this,Jt,Cp).call(this);u&&(D(this,Lt)!==l||ii(this.options.enabled,D(this,Lt))!==ii(s.enabled,D(this,Lt))||f!==D(this,cs))&&Vt(this,Jt,Dp).call(this,f)}getOptimisticResult(t){const n=D(this,vn).getQueryCache().build(D(this,vn),t),s=this.createResult(n,t);return a2(this,s)&&(at(this,mn,s),at(this,zl,this.options),at(this,pa,D(this,Lt).state)),s}getCurrentResult(){return D(this,mn)}trackResult(t,n){const s={};return Object.keys(t).forEach(l=>{Object.defineProperty(s,l,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(l),n==null||n(l),t[l])})}),s}trackProp(t){D(this,ql).add(t)}getCurrentQuery(){return D(this,Lt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=D(this,vn).defaultQueryOptions(t),s=D(this,vn).getQueryCache().build(D(this,vn),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return Vt(this,Jt,bu).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,mn)))}createResult(t,n){var R;const s=D(this,Lt),l=this.options,u=D(this,mn),f=D(this,pa),m=D(this,zl),y=t!==s?t.state:D(this,Ku),{state:A}=t;let b={...A},w=!1,O;if(n._optimisticResults){const T=this.hasListeners(),x=!T&&C_(t,n),N=T&&D_(t,s,n,l);(x||N)&&(b={...b,...EE(A.data,t.options)}),n._optimisticResults==="isRestoring"&&(b.fetchStatus="idle")}let{error:L,errorUpdatedAt:F,status:B}=b;if(n.select&&b.data!==void 0)if(u&&b.data===(f==null?void 0:f.data)&&n.select===D(this,Yu))O=D(this,Hl);else try{at(this,Yu,n.select),O=n.select(b.data),O=bp(u==null?void 0:u.data,O,n),at(this,Hl,O),at(this,Di,null)}catch(T){at(this,Di,T)}else O=b.data;if(n.placeholderData!==void 0&&O===void 0&&B==="pending"){let T;if(u!=null&&u.isPlaceholderData&&n.placeholderData===(m==null?void 0:m.placeholderData))T=u.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((R=D(this,jl))==null?void 0:R.state.data,D(this,jl)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),at(this,Di,null)}catch(x){at(this,Di,x)}T!==void 0&&(B="success",O=bp(u==null?void 0:u.data,T,n),w=!0)}D(this,Di)&&(L=D(this,Di),O=D(this,Hl),F=Date.now(),B="error");const Y=b.fetchStatus==="fetching",it=B==="pending",Z=B==="error",dt=it&&Y,ot=O!==void 0,V={status:B,fetchStatus:b.fetchStatus,isPending:it,isSuccess:B==="success",isError:Z,isInitialLoading:dt,isLoading:dt,data:O,dataUpdatedAt:b.dataUpdatedAt,error:L,errorUpdatedAt:F,failureCount:b.fetchFailureCount,failureReason:b.fetchFailureReason,errorUpdateCount:b.errorUpdateCount,isFetched:b.dataUpdateCount>0||b.errorUpdateCount>0,isFetchedAfterMount:b.dataUpdateCount>y.dataUpdateCount||b.errorUpdateCount>y.errorUpdateCount,isFetching:Y,isRefetching:Y&&!it,isLoadingError:Z&&!ot,isPaused:b.fetchStatus==="paused",isPlaceholderData:w,isRefetchError:Z&&ot,isStale:dg(t,n),refetch:this.refetch,promise:D(this,us)};if(this.options.experimental_prefetchInRender){const T=H=>{V.status==="error"?H.reject(V.error):V.data!==void 0&&H.resolve(V.data)},x=()=>{const H=at(this,us,V.promise=wp());T(H)},N=D(this,us);switch(N.status){case"pending":t.queryHash===s.queryHash&&T(N);break;case"fulfilled":(V.status==="error"||V.data!==N.value)&&x();break;case"rejected":(V.status!=="error"||V.error!==N.reason)&&x();break}}return V}updateResult(t){const n=D(this,mn),s=this.createResult(D(this,Lt),this.options);if(at(this,pa,D(this,Lt).state),at(this,zl,this.options),D(this,pa).data!==void 0&&at(this,jl,D(this,Lt)),Yh(s,n))return;at(this,mn,s);const l={},u=()=>{if(!n)return!0;const{notifyOnChangeProps:f}=this.options,m=typeof f=="function"?f():f;if(m==="all"||!m&&!D(this,ql).size)return!0;const g=new Set(m??D(this,ql));return this.options.throwOnError&&g.add("error"),Object.keys(D(this,mn)).some(y=>{const A=y;return D(this,mn)[A]!==n[A]&&g.has(A)})};(t==null?void 0:t.listeners)!==!1&&u()&&(l.listeners=!0),Vt(this,Jt,TE).call(this,{...l,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Vt(this,Jt,xp).call(this)}},vn=new WeakMap,Lt=new WeakMap,Ku=new WeakMap,mn=new WeakMap,pa=new WeakMap,zl=new WeakMap,us=new WeakMap,Di=new WeakMap,Yu=new WeakMap,Hl=new WeakMap,jl=new WeakMap,ga=new WeakMap,ya=new WeakMap,cs=new WeakMap,ql=new WeakMap,Jt=new WeakSet,bu=function(t){Vt(this,Jt,Vp).call(this);let n=D(this,Lt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Gn)),n},Rp=function(){Vt(this,Jt,Ip).call(this);const t=Rl(this.options.staleTime,D(this,Lt));if(_a||D(this,mn).isStale||!Sp(t))return;const s=mE(D(this,mn).dataUpdatedAt,t)+1;at(this,ga,setTimeout(()=>{D(this,mn).isStale||this.updateResult()},s))},Cp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,Lt)):this.options.refetchInterval)??!1},Dp=function(t){Vt(this,Jt,Op).call(this),at(this,cs,t),!(_a||ii(this.options.enabled,D(this,Lt))===!1||!Sp(D(this,cs))||D(this,cs)===0)&&at(this,ya,setInterval(()=>{(this.options.refetchIntervalInBackground||fg.isFocused())&&Vt(this,Jt,bu).call(this)},D(this,cs)))},xp=function(){Vt(this,Jt,Rp).call(this),Vt(this,Jt,Dp).call(this,Vt(this,Jt,Cp).call(this))},Ip=function(){D(this,ga)&&(clearTimeout(D(this,ga)),at(this,ga,void 0))},Op=function(){D(this,ya)&&(clearInterval(D(this,ya)),at(this,ya,void 0))},Vp=function(){const t=D(this,vn).getQueryCache().build(D(this,vn),this.options);if(t===D(this,Lt))return;const n=D(this,Lt);at(this,Lt,t),at(this,Ku,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},TE=function(t){Ue.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(D(this,mn))}),D(this,vn).getQueryCache().notify({query:D(this,Lt),type:"observerResultsUpdated"})})},GA);function s2(r,t){return ii(t.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&t.retryOnMount===!1)}function C_(r,t){return s2(r,t)||r.state.data!==void 0&&Mp(r,t,t.refetchOnMount)}function Mp(r,t,n){if(ii(t.enabled,r)!==!1){const s=typeof n=="function"?n(r):n;return s==="always"||s!==!1&&dg(r,t)}return!1}function D_(r,t,n,s){return(r!==t||ii(s.enabled,r)===!1)&&(!n.suspense||r.state.status!=="error")&&dg(r,n)}function dg(r,t){return ii(t.enabled,r)!==!1&&r.isStaleByTime(Rl(t.staleTime,r))}function a2(r,t){return!Yh(r.getCurrentResult(),t)}var hs,fs,_n,ur,fr,kh,Np,KA,l2=(KA=class extends $l{constructor(n,s){super();pt(this,fr);pt(this,hs);pt(this,fs);pt(this,_n);pt(this,ur);at(this,hs,n),this.setOptions(s),this.bindMethods(),Vt(this,fr,kh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var l;const s=this.options;this.options=D(this,hs).defaultMutationOptions(n),Yh(this.options,s)||D(this,hs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,_n),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Aa(s.mutationKey)!==Aa(this.options.mutationKey)?this.reset():((l=D(this,_n))==null?void 0:l.state.status)==="pending"&&D(this,_n).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,_n))==null||n.removeObserver(this)}onMutationUpdate(n){Vt(this,fr,kh).call(this),Vt(this,fr,Np).call(this,n)}getCurrentResult(){return D(this,fs)}reset(){var n;(n=D(this,_n))==null||n.removeObserver(this),at(this,_n,void 0),Vt(this,fr,kh).call(this),Vt(this,fr,Np).call(this)}mutate(n,s){var l;return at(this,ur,s),(l=D(this,_n))==null||l.removeObserver(this),at(this,_n,D(this,hs).getMutationCache().build(D(this,hs),this.options)),D(this,_n).addObserver(this),D(this,_n).execute(n)}},hs=new WeakMap,fs=new WeakMap,_n=new WeakMap,ur=new WeakMap,fr=new WeakSet,kh=function(){var s;const n=((s=D(this,_n))==null?void 0:s.state)??SE();at(this,fs,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Np=function(n){Ue.batch(()=>{var s,l,u,f,m,g,y,A;if(D(this,ur)&&this.hasListeners()){const b=D(this,fs).variables,w=D(this,fs).context;(n==null?void 0:n.type)==="success"?((l=(s=D(this,ur)).onSuccess)==null||l.call(s,n.data,b,w),(f=(u=D(this,ur)).onSettled)==null||f.call(u,n.data,null,b,w)):(n==null?void 0:n.type)==="error"&&((g=(m=D(this,ur)).onError)==null||g.call(m,n.error,b,w),(A=(y=D(this,ur)).onSettled)==null||A.call(y,void 0,n.error,b,w))}this.listeners.forEach(b=>{b(D(this,fs))})})},KA),bE=G.createContext(void 0),wE=r=>{const t=G.useContext(bE);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},o2=({client:r,children:t})=>(G.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),et.jsx(bE.Provider,{value:r,children:t})),RE=G.createContext(!1),u2=()=>G.useContext(RE);RE.Provider;function c2(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var h2=G.createContext(c2()),f2=()=>G.useContext(h2);function CE(r,t){return typeof r=="function"?r(...t):!!r}function Up(){}var d2=(r,t)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(t.isReset()||(r.retryOnMount=!1))},m2=r=>{G.useEffect(()=>{r.clearReset()},[r])},p2=({result:r,errorResetBoundary:t,throwOnError:n,query:s,suspense:l})=>r.isError&&!t.isReset()&&!r.isFetching&&s&&(l&&r.data===void 0||CE(n,[r.error,s])),g2=r=>{const t=r.staleTime;r.suspense&&(r.staleTime=typeof t=="function"?(...n)=>Math.max(t(...n),1e3):Math.max(t??1e3,1e3),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3)))},y2=(r,t)=>r.isLoading&&r.isFetching&&!t,v2=(r,t)=>(r==null?void 0:r.suspense)&&t.isPending,x_=(r,t,n)=>t.fetchOptimistic(r).catch(()=>{n.clearReset()});function _2(r,t,n){var b,w,O,L,F;const s=wE(),l=u2(),u=f2(),f=s.defaultQueryOptions(r);(w=(b=s.getDefaultOptions().queries)==null?void 0:b._experimental_beforeQuery)==null||w.call(b,f),f._optimisticResults=l?"isRestoring":"optimistic",g2(f),d2(f,u),m2(u);const m=!s.getQueryCache().get(f.queryHash),[g]=G.useState(()=>new t(s,f)),y=g.getOptimisticResult(f),A=!l&&r.subscribed!==!1;if(G.useSyncExternalStore(G.useCallback(B=>{const Y=A?g.subscribe(Ue.batchCalls(B)):Up;return g.updateResult(),Y},[g,A]),()=>g.getCurrentResult(),()=>g.getCurrentResult()),G.useEffect(()=>{g.setOptions(f,{listeners:!1})},[f,g]),v2(f,y))throw x_(f,g,u);if(p2({result:y,errorResetBoundary:u,throwOnError:f.throwOnError,query:s.getQueryCache().get(f.queryHash),suspense:f.suspense}))throw y.error;if((L=(O=s.getDefaultOptions().queries)==null?void 0:O._experimental_afterQuery)==null||L.call(O,f,y),f.experimental_prefetchInRender&&!_a&&y2(y,l)){const B=m?x_(f,g,u):(F=s.getQueryCache().get(f.queryHash))==null?void 0:F.promise;B==null||B.catch(Up).finally(()=>{g.updateResult()})}return f.notifyOnChangeProps?y:g.trackResult(y)}function DE(r,t){return _2(r,r2)}function A2(r,t){const n=wE(),[s]=G.useState(()=>new l2(n,r));G.useEffect(()=>{s.setOptions(r)},[s,r]);const l=G.useSyncExternalStore(G.useCallback(f=>s.subscribe(Ue.batchCalls(f)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),u=G.useCallback((f,m)=>{s.mutate(f,m).catch(Up)},[s]);if(l.error&&CE(s.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:u,mutateAsync:l.mutate}}const E2=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},S2=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],g=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(g>>10)),t[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return t.join("")},IE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,g=l+2<r.length,y=g?r[l+2]:0,A=u>>2,b=(u&3)<<4|m>>4;let w=(m&15)<<2|y>>6,O=y&63;g||(O=64,f||(w=64)),s.push(n[A],n[b],n[w],n[O])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(xE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):S2(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||y==null||b==null)throw new T2;const w=u<<2|m>>4;if(s.push(w),y!==64){const O=m<<4&240|y>>2;if(s.push(O),b!==64){const L=y<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class T2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const b2=function(r){const t=xE(r);return IE.encodeByteArray(t,!0)},Wh=function(r){return b2(r).replace(/\./g,"")},w2=function(r){try{return IE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=()=>R2().__FIREBASE_DEFAULTS__,D2=()=>{if(typeof process>"u"||typeof I_>"u")return;const r=I_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},x2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&w2(r[1]);return t&&JSON.parse(t)},mg=()=>{try{return E2()||C2()||D2()||x2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I2=r=>{var t,n;return(n=(t=mg())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},O2=r=>{const t=I2(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},OE=()=>{var r;return(r=mg())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Wh(JSON.stringify(n)),Wh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function U2(){var r;const t=(r=mg())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function P2(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B2(){try{return typeof indexedDB=="object"}catch{return!1}}function L2(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2="FirebaseError";class to extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=k2,Object.setPrototypeOf(this,to.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,VE.prototype.create)}}class VE{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],f=u?z2(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new to(l,m,s)}}function z2(r,t){return r.replace(H2,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const H2=/\{\$([^}]+)}/g;function Zh(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=t[l];if(O_(u)&&O_(f)){if(!Zh(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function O_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){return r&&r._delegate?r._delegate:r}class Nu{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new V2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(F2(t))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=oa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oa){return this.instances.has(t)}getOptions(t=oa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;u.add(t),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&t(f,l),()=>{u.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q2(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=oa){return this.component?this.component.multipleInstances?t:oa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function q2(r){return r===oa?void 0:r}function F2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ft||(Ft={}));const G2={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},K2=Ft.INFO,Y2={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},X2=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=Y2[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ME{constructor(t){this.name=t,this._logLevel=K2,this._logHandler=X2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?G2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const W2=(r,t)=>t.some(n=>r instanceof n);let V_,M_;function Z2(){return V_||(V_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function J2(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,Pp=new WeakMap,UE=new WeakMap,hp=new WeakMap,pg=new WeakMap;function $2(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ms(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&NE.set(n,r)}).catch(()=>{}),pg.set(t,r),t}function tD(r){if(Pp.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Pp.set(r,t)}let Bp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return Pp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||UE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ms(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function eD(r){Bp=r(Bp)}function nD(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(fp(this),t,...n);return UE.set(s,t.sort?t.sort():[t]),ms(s)}:J2().includes(r)?function(...t){return r.apply(fp(this),t),ms(NE.get(this))}:function(...t){return ms(r.apply(fp(this),t))}}function iD(r){return typeof r=="function"?nD(r):(r instanceof IDBTransaction&&tD(r),W2(r,Z2())?new Proxy(r,Bp):r)}function ms(r){if(r instanceof IDBRequest)return $2(r);if(hp.has(r))return hp.get(r);const t=iD(r);return t!==r&&(hp.set(r,t),pg.set(t,r)),t}const fp=r=>pg.get(r);function rD(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,t),m=ms(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ms(f.result),g.oldVersion,g.newVersion,ms(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),l&&g.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const sD=["get","getKey","getAll","getAllKeys","count"],aD=["put","add","delete","clear"],dp=new Map;function N_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(dp.get(t))return dp.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=aD.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||sD.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,l?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),l&&g.done]))[0]};return dp.set(t,u),u}eD(r=>({...r,get:(t,n,s)=>N_(t,n)||r.get(t,n,s),has:(t,n)=>!!N_(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oD(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oD(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Lp="@firebase/app",U_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new ME("@firebase/app"),uD="@firebase/app-compat",cD="@firebase/analytics-compat",hD="@firebase/analytics",fD="@firebase/app-check-compat",dD="@firebase/app-check",mD="@firebase/auth",pD="@firebase/auth-compat",gD="@firebase/database",yD="@firebase/data-connect",vD="@firebase/database-compat",_D="@firebase/functions",AD="@firebase/functions-compat",ED="@firebase/installations",SD="@firebase/installations-compat",TD="@firebase/messaging",bD="@firebase/messaging-compat",wD="@firebase/performance",RD="@firebase/performance-compat",CD="@firebase/remote-config",DD="@firebase/remote-config-compat",xD="@firebase/storage",ID="@firebase/storage-compat",OD="@firebase/firestore",VD="@firebase/vertexai",MD="@firebase/firestore-compat",ND="firebase",UD="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="[DEFAULT]",PD={[Lp]:"fire-core",[uD]:"fire-core-compat",[hD]:"fire-analytics",[cD]:"fire-analytics-compat",[dD]:"fire-app-check",[fD]:"fire-app-check-compat",[mD]:"fire-auth",[pD]:"fire-auth-compat",[gD]:"fire-rtdb",[yD]:"fire-data-connect",[vD]:"fire-rtdb-compat",[_D]:"fire-fn",[AD]:"fire-fn-compat",[ED]:"fire-iid",[SD]:"fire-iid-compat",[TD]:"fire-fcm",[bD]:"fire-fcm-compat",[wD]:"fire-perf",[RD]:"fire-perf-compat",[CD]:"fire-rc",[DD]:"fire-rc-compat",[xD]:"fire-gcs",[ID]:"fire-gcs-compat",[OD]:"fire-fst",[MD]:"fire-fst-compat",[VD]:"fire-vertex","fire-js":"fire-js",[ND]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new Map,BD=new Map,zp=new Map;function P_(r,t){try{r.container.addComponent(t)}catch(n){dr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function $h(r){const t=r.name;if(zp.has(t))return dr.debug(`There were multiple attempts to register component ${t}.`),!1;zp.set(t,r);for(const n of Jh.values())P_(n,r);for(const n of BD.values())P_(n,r);return!0}function LD(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function kD(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ps=new VE("app","Firebase",zD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Nu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ps.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=UD;function PE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:kp,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw ps.create("bad-app-name",{appName:String(l)});if(n||(n=OE()),!n)throw ps.create("no-options");const u=Jh.get(l);if(u){if(Zh(n,u.options)&&Zh(s,u.config))return u;throw ps.create("duplicate-app",{appName:l})}const f=new Q2(l);for(const g of zp.values())f.addComponent(g);const m=new HD(n,s,f);return Jh.set(l,m),m}function qD(r=kp){const t=Jh.get(r);if(!t&&r===kp&&OE())return PE();if(!t)throw ps.create("no-app",{appName:r});return t}function Cl(r,t,n){var s;let l=(s=PD[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=t.match(/\s|\//);if(u||f){const m=[`Unable to register library "${l}" with version "${t}":`];u&&m.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}$h(new Nu(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="firebase-heartbeat-database",QD=1,Uu="firebase-heartbeat-store";let mp=null;function BE(){return mp||(mp=rD(FD,QD,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ps.create("idb-open",{originalErrorMessage:r.message})})),mp}async function GD(r){try{const n=(await BE()).transaction(Uu),s=await n.objectStore(Uu).get(LE(r));return await n.done,s}catch(t){if(t instanceof to)dr.warn(t.message);else{const n=ps.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});dr.warn(n.message)}}}async function B_(r,t){try{const s=(await BE()).transaction(Uu,"readwrite");await s.objectStore(Uu).put(t,LE(r)),await s.done}catch(n){if(n instanceof to)dr.warn(n.message);else{const s=ps.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function LE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=1024,YD=30;class XD{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZD(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=L_();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>YD){const f=JD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=L_(),{heartbeatsToSend:s,unsentEntries:l}=WD(this._heartbeatsCache.heartbeats),u=Wh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return dr.warn(n),""}}}function L_(){return new Date().toISOString().substring(0,10)}function WD(r,t=KD){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),k_(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),k_(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZD{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B2()?L2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function k_(r){return Wh(JSON.stringify({version:2,heartbeats:r})).length}function JD(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(r){$h(new Nu("platform-logger",t=>new lD(t),"PRIVATE")),$h(new Nu("heartbeat",t=>new XD(t),"PRIVATE")),Cl(Lp,U_,r),Cl(Lp,U_,"esm2017"),Cl("fire-js","")}$D("");var z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gs,kE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,R){function T(){}T.prototype=R.prototype,V.D=R.prototype,V.prototype=new T,V.prototype.constructor=V,V.C=function(x,N,H){for(var I=Array(arguments.length-2),De=2;De<arguments.length;De++)I[De-2]=arguments[De];return R.prototype[N].apply(x,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,R,T){T||(T=0);var x=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)x[N]=R.charCodeAt(T++)|R.charCodeAt(T++)<<8|R.charCodeAt(T++)<<16|R.charCodeAt(T++)<<24;else for(N=0;16>N;++N)x[N]=R[T++]|R[T++]<<8|R[T++]<<16|R[T++]<<24;R=V.g[0],T=V.g[1],N=V.g[2];var H=V.g[3],I=R+(H^T&(N^H))+x[0]+3614090360&4294967295;R=T+(I<<7&4294967295|I>>>25),I=H+(N^R&(T^N))+x[1]+3905402710&4294967295,H=R+(I<<12&4294967295|I>>>20),I=N+(T^H&(R^T))+x[2]+606105819&4294967295,N=H+(I<<17&4294967295|I>>>15),I=T+(R^N&(H^R))+x[3]+3250441966&4294967295,T=N+(I<<22&4294967295|I>>>10),I=R+(H^T&(N^H))+x[4]+4118548399&4294967295,R=T+(I<<7&4294967295|I>>>25),I=H+(N^R&(T^N))+x[5]+1200080426&4294967295,H=R+(I<<12&4294967295|I>>>20),I=N+(T^H&(R^T))+x[6]+2821735955&4294967295,N=H+(I<<17&4294967295|I>>>15),I=T+(R^N&(H^R))+x[7]+4249261313&4294967295,T=N+(I<<22&4294967295|I>>>10),I=R+(H^T&(N^H))+x[8]+1770035416&4294967295,R=T+(I<<7&4294967295|I>>>25),I=H+(N^R&(T^N))+x[9]+2336552879&4294967295,H=R+(I<<12&4294967295|I>>>20),I=N+(T^H&(R^T))+x[10]+4294925233&4294967295,N=H+(I<<17&4294967295|I>>>15),I=T+(R^N&(H^R))+x[11]+2304563134&4294967295,T=N+(I<<22&4294967295|I>>>10),I=R+(H^T&(N^H))+x[12]+1804603682&4294967295,R=T+(I<<7&4294967295|I>>>25),I=H+(N^R&(T^N))+x[13]+4254626195&4294967295,H=R+(I<<12&4294967295|I>>>20),I=N+(T^H&(R^T))+x[14]+2792965006&4294967295,N=H+(I<<17&4294967295|I>>>15),I=T+(R^N&(H^R))+x[15]+1236535329&4294967295,T=N+(I<<22&4294967295|I>>>10),I=R+(N^H&(T^N))+x[1]+4129170786&4294967295,R=T+(I<<5&4294967295|I>>>27),I=H+(T^N&(R^T))+x[6]+3225465664&4294967295,H=R+(I<<9&4294967295|I>>>23),I=N+(R^T&(H^R))+x[11]+643717713&4294967295,N=H+(I<<14&4294967295|I>>>18),I=T+(H^R&(N^H))+x[0]+3921069994&4294967295,T=N+(I<<20&4294967295|I>>>12),I=R+(N^H&(T^N))+x[5]+3593408605&4294967295,R=T+(I<<5&4294967295|I>>>27),I=H+(T^N&(R^T))+x[10]+38016083&4294967295,H=R+(I<<9&4294967295|I>>>23),I=N+(R^T&(H^R))+x[15]+3634488961&4294967295,N=H+(I<<14&4294967295|I>>>18),I=T+(H^R&(N^H))+x[4]+3889429448&4294967295,T=N+(I<<20&4294967295|I>>>12),I=R+(N^H&(T^N))+x[9]+568446438&4294967295,R=T+(I<<5&4294967295|I>>>27),I=H+(T^N&(R^T))+x[14]+3275163606&4294967295,H=R+(I<<9&4294967295|I>>>23),I=N+(R^T&(H^R))+x[3]+4107603335&4294967295,N=H+(I<<14&4294967295|I>>>18),I=T+(H^R&(N^H))+x[8]+1163531501&4294967295,T=N+(I<<20&4294967295|I>>>12),I=R+(N^H&(T^N))+x[13]+2850285829&4294967295,R=T+(I<<5&4294967295|I>>>27),I=H+(T^N&(R^T))+x[2]+4243563512&4294967295,H=R+(I<<9&4294967295|I>>>23),I=N+(R^T&(H^R))+x[7]+1735328473&4294967295,N=H+(I<<14&4294967295|I>>>18),I=T+(H^R&(N^H))+x[12]+2368359562&4294967295,T=N+(I<<20&4294967295|I>>>12),I=R+(T^N^H)+x[5]+4294588738&4294967295,R=T+(I<<4&4294967295|I>>>28),I=H+(R^T^N)+x[8]+2272392833&4294967295,H=R+(I<<11&4294967295|I>>>21),I=N+(H^R^T)+x[11]+1839030562&4294967295,N=H+(I<<16&4294967295|I>>>16),I=T+(N^H^R)+x[14]+4259657740&4294967295,T=N+(I<<23&4294967295|I>>>9),I=R+(T^N^H)+x[1]+2763975236&4294967295,R=T+(I<<4&4294967295|I>>>28),I=H+(R^T^N)+x[4]+1272893353&4294967295,H=R+(I<<11&4294967295|I>>>21),I=N+(H^R^T)+x[7]+4139469664&4294967295,N=H+(I<<16&4294967295|I>>>16),I=T+(N^H^R)+x[10]+3200236656&4294967295,T=N+(I<<23&4294967295|I>>>9),I=R+(T^N^H)+x[13]+681279174&4294967295,R=T+(I<<4&4294967295|I>>>28),I=H+(R^T^N)+x[0]+3936430074&4294967295,H=R+(I<<11&4294967295|I>>>21),I=N+(H^R^T)+x[3]+3572445317&4294967295,N=H+(I<<16&4294967295|I>>>16),I=T+(N^H^R)+x[6]+76029189&4294967295,T=N+(I<<23&4294967295|I>>>9),I=R+(T^N^H)+x[9]+3654602809&4294967295,R=T+(I<<4&4294967295|I>>>28),I=H+(R^T^N)+x[12]+3873151461&4294967295,H=R+(I<<11&4294967295|I>>>21),I=N+(H^R^T)+x[15]+530742520&4294967295,N=H+(I<<16&4294967295|I>>>16),I=T+(N^H^R)+x[2]+3299628645&4294967295,T=N+(I<<23&4294967295|I>>>9),I=R+(N^(T|~H))+x[0]+4096336452&4294967295,R=T+(I<<6&4294967295|I>>>26),I=H+(T^(R|~N))+x[7]+1126891415&4294967295,H=R+(I<<10&4294967295|I>>>22),I=N+(R^(H|~T))+x[14]+2878612391&4294967295,N=H+(I<<15&4294967295|I>>>17),I=T+(H^(N|~R))+x[5]+4237533241&4294967295,T=N+(I<<21&4294967295|I>>>11),I=R+(N^(T|~H))+x[12]+1700485571&4294967295,R=T+(I<<6&4294967295|I>>>26),I=H+(T^(R|~N))+x[3]+2399980690&4294967295,H=R+(I<<10&4294967295|I>>>22),I=N+(R^(H|~T))+x[10]+4293915773&4294967295,N=H+(I<<15&4294967295|I>>>17),I=T+(H^(N|~R))+x[1]+2240044497&4294967295,T=N+(I<<21&4294967295|I>>>11),I=R+(N^(T|~H))+x[8]+1873313359&4294967295,R=T+(I<<6&4294967295|I>>>26),I=H+(T^(R|~N))+x[15]+4264355552&4294967295,H=R+(I<<10&4294967295|I>>>22),I=N+(R^(H|~T))+x[6]+2734768916&4294967295,N=H+(I<<15&4294967295|I>>>17),I=T+(H^(N|~R))+x[13]+1309151649&4294967295,T=N+(I<<21&4294967295|I>>>11),I=R+(N^(T|~H))+x[4]+4149444226&4294967295,R=T+(I<<6&4294967295|I>>>26),I=H+(T^(R|~N))+x[11]+3174756917&4294967295,H=R+(I<<10&4294967295|I>>>22),I=N+(R^(H|~T))+x[2]+718787259&4294967295,N=H+(I<<15&4294967295|I>>>17),I=T+(H^(N|~R))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+H&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var T=R-this.blockSize,x=this.B,N=this.h,H=0;H<R;){if(N==0)for(;H<=T;)l(this,V,H),H+=this.blockSize;if(typeof V=="string"){for(;H<R;)if(x[N++]=V.charCodeAt(H++),N==this.blockSize){l(this,x),N=0;break}}else for(;H<R;)if(x[N++]=V[H++],N==this.blockSize){l(this,x),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var T=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=T&255,T/=256;for(this.u(V),V=Array(16),R=T=0;4>R;++R)for(var x=0;32>x;x+=8)V[T++]=this.g[R]>>>x&255;return V};function u(V,R){var T=m;return Object.prototype.hasOwnProperty.call(T,V)?T[V]:T[V]=R(V)}function f(V,R){this.h=R;for(var T=[],x=!0,N=V.length-1;0<=N;N--){var H=V[N]|0;x&&H==R||(T[N]=H,x=!1)}this.g=T}var m={};function g(V){return-128<=V&&128>V?u(V,function(R){return new f([R|0],0>R?-1:0)}):new f([V|0],0>V?-1:0)}function y(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return B(y(-V));for(var R=[],T=1,x=0;V>=T;x++)R[x]=V/T|0,T*=4294967296;return new f(R,0)}function A(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return B(A(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=y(Math.pow(R,8)),x=b,N=0;N<V.length;N+=8){var H=Math.min(8,V.length-N),I=parseInt(V.substring(N,N+H),R);8>H?(H=y(Math.pow(R,H)),x=x.j(H).add(y(I))):(x=x.j(T),x=x.add(y(I)))}return x}var b=g(0),w=g(1),O=g(16777216);r=f.prototype,r.m=function(){if(F(this))return-B(this).m();for(var V=0,R=1,T=0;T<this.g.length;T++){var x=this.i(T);V+=(0<=x?x:4294967296+x)*R,R*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if(F(this))return"-"+B(this).toString(V);for(var R=y(Math.pow(V,6)),T=this,x="";;){var N=dt(T,R).g;T=Y(T,N.j(R));var H=((0<T.g.length?T.g[0]:T.h)>>>0).toString(V);if(T=N,L(T))return H+x;for(;6>H.length;)H="0"+H;x=H+x}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function F(V){return V.h==-1}r.l=function(V){return V=Y(this,V),F(V)?-1:L(V)?0:1};function B(V){for(var R=V.g.length,T=[],x=0;x<R;x++)T[x]=~V.g[x];return new f(T,~V.h).add(w)}r.abs=function(){return F(this)?B(this):this},r.add=function(V){for(var R=Math.max(this.g.length,V.g.length),T=[],x=0,N=0;N<=R;N++){var H=x+(this.i(N)&65535)+(V.i(N)&65535),I=(H>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);x=I>>>16,H&=65535,I&=65535,T[N]=I<<16|H}return new f(T,T[T.length-1]&-2147483648?-1:0)};function Y(V,R){return V.add(B(R))}r.j=function(V){if(L(this)||L(V))return b;if(F(this))return F(V)?B(this).j(B(V)):B(B(this).j(V));if(F(V))return B(this.j(B(V)));if(0>this.l(O)&&0>V.l(O))return y(this.m()*V.m());for(var R=this.g.length+V.g.length,T=[],x=0;x<2*R;x++)T[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<V.g.length;N++){var H=this.i(x)>>>16,I=this.i(x)&65535,De=V.i(N)>>>16,Ee=V.i(N)&65535;T[2*x+2*N]+=I*Ee,it(T,2*x+2*N),T[2*x+2*N+1]+=H*Ee,it(T,2*x+2*N+1),T[2*x+2*N+1]+=I*De,it(T,2*x+2*N+1),T[2*x+2*N+2]+=H*De,it(T,2*x+2*N+2)}for(x=0;x<R;x++)T[x]=T[2*x+1]<<16|T[2*x];for(x=R;x<2*R;x++)T[x]=0;return new f(T,0)};function it(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function Z(V,R){this.g=V,this.h=R}function dt(V,R){if(L(R))throw Error("division by zero");if(L(V))return new Z(b,b);if(F(V))return R=dt(B(V),R),new Z(B(R.g),B(R.h));if(F(R))return R=dt(V,B(R)),new Z(B(R.g),R.h);if(30<V.g.length){if(F(V)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var T=w,x=R;0>=x.l(V);)T=ot(T),x=ot(x);var N=St(T,1),H=St(x,1);for(x=St(x,2),T=St(T,2);!L(x);){var I=H.add(x);0>=I.l(V)&&(N=N.add(T),H=I),x=St(x,1),T=St(T,1)}return R=Y(V,N.j(R)),new Z(N,R)}for(N=b;0<=V.l(R);){for(T=Math.max(1,Math.floor(V.m()/R.m())),x=Math.ceil(Math.log(T)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),H=y(T),I=H.j(R);F(I)||0<I.l(V);)T-=x,H=y(T),I=H.j(R);L(H)&&(H=w),N=N.add(H),V=Y(V,I)}return new Z(N,V)}r.A=function(V){return dt(this,V).h},r.and=function(V){for(var R=Math.max(this.g.length,V.g.length),T=[],x=0;x<R;x++)T[x]=this.i(x)&V.i(x);return new f(T,this.h&V.h)},r.or=function(V){for(var R=Math.max(this.g.length,V.g.length),T=[],x=0;x<R;x++)T[x]=this.i(x)|V.i(x);return new f(T,this.h|V.h)},r.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),T=[],x=0;x<R;x++)T[x]=this.i(x)^V.i(x);return new f(T,this.h^V.h)};function ot(V){for(var R=V.g.length+1,T=[],x=0;x<R;x++)T[x]=V.i(x)<<1|V.i(x-1)>>>31;return new f(T,V.h)}function St(V,R){var T=R>>5;R%=32;for(var x=V.g.length-T,N=[],H=0;H<x;H++)N[H]=0<R?V.i(H+T)>>>R|V.i(H+T+1)<<32-R:V.i(H+T);return new f(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,kE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=A,gs=f}).apply(typeof z_<"u"?z_:typeof self<"u"?self:typeof window<"u"?window:{});var xh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zE,wu,HE,zh,Hp,jE,qE,FE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof xh=="object"&&xh];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,p){if(p)t:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break t;v=v[j]}c=c[c.length-1],S=v[c],p=p(S),p!=S&&p!=null&&t(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,S=!1,j={next:function(){if(!S&&v<c.length){var K=v++;return{value:p(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}l("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function A(c,p,v){return c.call.apply(c.bind,arguments)}function b(c,p,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,S),c.apply(p,j)}}return function(){return c.apply(p,arguments)}}function w(c,p,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:b,w.apply(null,arguments)}function O(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,j,K){for(var st=Array(arguments.length-2),zt=2;zt<arguments.length;zt++)st[zt-2]=arguments[zt];return p.prototype[j].apply(S,st)}}function F(c){const p=c.length;if(0<p){const v=Array(p);for(let S=0;S<p;S++)v[S]=c[S];return v}return[]}function B(c,p){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const j=c.length||0,K=S.length||0;c.length=j+K;for(let st=0;st<K;st++)c[j+st]=S[st]}else c.push(S)}}class Y{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function it(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function dt(c){return dt[" "](c),c}dt[" "]=function(){};var ot=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function St(c,p,v){for(const S in c)p.call(v,c[S],S,c)}function V(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function R(c){const p={};for(const v in c)p[v]=c[v];return p}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,p){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let K=0;K<T.length;K++)v=T[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function N(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function H(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Wt;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class De{constructor(){this.h=this.g=null}add(p,v){const S=Ee.get();S.set(p,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new Y(()=>new lt,c=>c.reset());class lt{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let bt,At=!1,Wt=new De,M=()=>{const c=m.Promise.resolve(void 0);bt=()=>{c.then(rt)}};var rt=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){H(v)}var p=Ee;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}At=!1};function yt(){this.s=this.s,this.C=this.C}yt.prototype.s=!1,yt.prototype.ma=function(){this.s||(this.s=!0,this.N())},yt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function Ot(c,p){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(ot){t:{try{dt(p.nodeName);var j=!0;break t}catch{}j=!1}j||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ot.aa.h.call(this)}}L(Ot,ut);var xt={2:"touch",3:"pen",4:"mouse"};Ot.prototype.h=function(){Ot.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Se="closure_listenable_"+(1e6*Math.random()|0),Qt=0;function fe(c,p,v,S,j){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!S,this.ha=j,this.key=++Qt,this.da=this.fa=!1}function te(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ln(c){this.src=c,this.g={},this.h=0}ln.prototype.add=function(c,p,v,S,j){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var st=Dn(c,p,S,j);return-1<st?(p=c[st],v||(p.fa=!1)):(p=new fe(p,this.src,K,!!S,j),p.fa=v,c.push(p)),p};function Mi(c,p){var v=p.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,p,void 0),K;(K=0<=j)&&Array.prototype.splice.call(S,j,1),K&&(te(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Dn(c,p,v,S){for(var j=0;j<c.length;++j){var K=c[j];if(!K.da&&K.listener==p&&K.capture==!!v&&K.ha==S)return j}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),vr={};function Ni(c,p,v,S,j){if(Array.isArray(p)){for(var K=0;K<p.length;K++)Ni(c,p[K],v,S,j);return null}return v=nc(v),c&&c[Se]?c.K(p,v,y(S)?!!S.capture:!1,j):ao(c,p,v,!1,S,j)}function ao(c,p,v,S,j,K){if(!p)throw Error("Invalid event type");var st=y(j)?!!j.capture:!!j,zt=lo(c);if(zt||(c[yr]=zt=new ln(c)),v=zt.add(p,v,S,st,K),v.proxy)return v;if(S=xa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)ct||(j=st),j===void 0&&(j=!1),c.addEventListener(p.toString(),S,j);else if(c.attachEvent)c.attachEvent(Oa(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function xa(){function c(v){return p.call(c.src,c.listener,v)}const p=If;return c}function Ia(c,p,v,S,j){if(Array.isArray(p))for(var K=0;K<p.length;K++)Ia(c,p[K],v,S,j);else S=y(S)?!!S.capture:!!S,v=nc(v),c&&c[Se]?(c=c.i,p=String(p).toString(),p in c.g&&(K=c.g[p],v=Dn(K,v,S,j),-1<v&&(te(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[p],c.h--)))):c&&(c=lo(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Dn(p,v,S,j)),(v=-1<c?p[c]:null)&&Cs(v))}function Cs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Se])Mi(p.i,c);else{var v=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(v,S,c.capture):p.detachEvent?p.detachEvent(Oa(v),S):p.addListener&&p.removeListener&&p.removeListener(S),(v=lo(p))?(Mi(v,c),v.h==0&&(v.src=null,p[yr]=null)):te(c)}}}function Oa(c){return c in vr?vr[c]:vr[c]="on"+c}function If(c,p){if(c.da)c=!0;else{p=new Ot(p,this);var v=c.listener,S=c.ha||c.src;c.fa&&Cs(c),c=v.call(S,p)}return c}function lo(c){return c=c[yr],c instanceof ln?c:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function nc(c){return typeof c=="function"?c:(c[pn]||(c[pn]=function(p){return c.handleEvent(p)}),c[pn])}function xe(){yt.call(this),this.i=new ln(this),this.M=this,this.F=null}L(xe,yt),xe.prototype[Se]=!0,xe.prototype.removeEventListener=function(c,p,v,S){Ia(this,c,p,v,S)};function Le(c,p){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new ut(p,c);else if(p instanceof ut)p.target=p.target||c;else{var j=p;p=new ut(S,c),x(p,j)}if(j=!0,v)for(var K=v.length-1;0<=K;K--){var st=p.g=v[K];j=Ui(st,S,!0,p)&&j}if(st=p.g=c,j=Ui(st,S,!0,p)&&j,j=Ui(st,S,!1,p)&&j,v)for(K=0;K<v.length;K++)st=p.g=v[K],j=Ui(st,S,!1,p)&&j}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],S=0;S<v.length;S++)te(v[S]);delete c.g[p],c.h--}}this.F=null},xe.prototype.K=function(c,p,v,S){return this.i.add(String(c),p,!1,v,S)},xe.prototype.L=function(c,p,v,S){return this.i.add(String(c),p,!0,v,S)};function Ui(c,p,v,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var j=!0,K=0;K<p.length;++K){var st=p[K];if(st&&!st.da&&st.capture==v){var zt=st.listener,Oe=st.ha||st.src;st.fa&&Mi(c.i,st),j=zt.call(Oe,S)!==!1&&j}}return j&&!S.defaultPrevented}function ic(c,p,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function oo(c){c.g=ic(()=>{c.g=null,c.i&&(c.i=!1,oo(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Of extends yt{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:oo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(c){yt.call(this),this.h=c,this.g={}}L(Ds,yt);var _r=[];function $e(c){St(c.g,function(p,v){this.g.hasOwnProperty(v)&&Cs(p)},c),c.g={}}Ds.prototype.N=function(){Ds.aa.N.call(this),$e(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=m.JSON.stringify,li=m.JSON.parse,on=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function co(){}co.prototype.h=null;function rc(c){return c.h||(c.h=c.i())}function sc(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ar(){ut.call(this,"d")}L(Ar,ut);function Xn(){ut.call(this,"c")}L(Xn,ut);var xn={},Er=null;function Va(){return Er=Er||new xe}xn.La="serverreachability";function ho(c){ut.call(this,xn.La,c)}L(ho,ut);function Sr(c){const p=Va();Le(p,new ho(p))}xn.STAT_EVENT="statevent";function Ma(c,p){ut.call(this,xn.STAT_EVENT,c),this.stat=p}L(Ma,ut);function ve(c){const p=Va();Le(p,new Ma(p,c))}xn.Ma="timingevent";function ac(c,p){ut.call(this,xn.Ma,c),this.size=p}L(ac,ut);function Tr(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function lc(c,p,v,S,j,K){c.info(function(){if(c.g)if(K)for(var st="",zt=K.split("&"),Oe=0;Oe<zt.length;Oe++){var Ht=zt[Oe].split("=");if(1<Ht.length){var He=Ht[0];Ht=Ht[1];var Ve=He.split("_");st=2<=Ve.length&&Ve[1]=="type"?st+(He+"="+Ht+"&"):st+(He+"=redacted&")}}else st=null;else st=K;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+p+`
`+v+`
`+st})}function oc(c,p,v,S,j,K,st){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+p+`
`+v+`
`+K+" "+st})}function wr(c,p,v,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ke(c,v)+(S?" "+S:"")})}function ui(c,p){c.info(function(){return"TIMEOUT: "+p})}br.prototype.info=function(){};function ke(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var j=S[1];if(Array.isArray(j)&&!(1>j.length)){var K=j[0];if(K!="noop"&&K!="stop"&&K!="close")for(var st=1;st<j.length;st++)j[st]=""}}}}return uo(v)}catch{return p}}var Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Na(){}L(Na,co),Na.prototype.g=function(){return new XMLHttpRequest},Na.prototype.i=function(){return{}},xs=new Na;function ci(c,p,v,S){this.j=c,this.i=p,this.l=v,this.R=S||1,this.U=new Ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fo}function fo(){this.i=null,this.g="",this.h=!1}var Rr={},Is={};function Wn(c,p,v){c.L=1,c.v=Ms(de(p)),c.m=v,c.P=!0,Bi(c,null)}function Bi(c,p){c.F=Date.now(),le(c),c.A=de(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),zi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new fo,c.g=Sc(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Of(w(c.Y,c,c.g),c.O)),p=c.U,v=c.g,S=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(_r[0]=j.toString()),j=_r);for(var K=0;K<j.length;K++){var st=Ni(v,j[K],S||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Sr(),lc(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const p=this.M;p&&Nn(c)==3?p.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)t:{const Ve=Nn(this.g);var p=this.g.Ba();const Fi=this.g.Z();if(!(3>Ve)&&(Ve!=3||this.g&&(this.h.h||this.g.oa()||mc(this.g)))){this.J||Ve!=4||p==7||(p==8||0>=Fi?Sr(3):Sr(2)),Ua(this);var v=this.g.Z();this.X=v;e:if(Cr(this)){var S=mc(this.g);c="";var j=S.length,K=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),En(this);var st="";break e}this.h.i=new m.TextDecoder}for(p=0;p<j;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(K&&p==j-1)});S.length=0,this.h.g+=c,this.C=0,st=this.h.g}else st=this.g.oa();if(this.o=v==200,oc(this.i,this.u,this.A,this.l,this.R,Ve,v),this.o){if(this.T&&!this.K){e:{if(this.g){var zt,Oe=this.g;if((zt=Oe.g?Oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(zt)){var Ht=zt;break e}}Ht=null}if(v=Ht)wr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,v);else{this.o=!1,this.s=3,ve(12),gn(this),En(this);break t}}if(this.P){v=!0;let Ge;for(;!this.J&&this.C<st.length;)if(Ge=Dr(this,st),Ge==Is){Ve==4&&(this.s=4,ve(14),v=!1),wr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ge==Rr){this.s=4,ve(15),wr(this.i,this.l,st,"[Invalid Chunk]"),v=!1;break}else wr(this.i,this.l,Ge,null),Sn(this,Ge);if(Cr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ve!=4||st.length!=0||this.h.h||(this.s=1,ve(16),v=!1),this.o=this.o&&v,!v)wr(this.i,this.l,st,"[Invalid Chunked Response]"),gn(this),En(this);else if(0<st.length&&!this.W){this.W=!0;var He=this.j;He.g==this&&He.ba&&!He.M&&(He.j.info("Great, no buffering proxy detected. Bytes received: "+st.length),zs(He),He.M=!0,ve(11))}}else wr(this.i,this.l,st,null),Sn(this,st);Ve==4&&gn(this),this.o&&!this.J&&(Ve==4?_c(this.j,this):(this.o=!1,le(this)))}else Bf(this.g),v==400&&0<st.indexOf("Unknown SID")?(this.s=3,ve(12)):(this.s=0,ve(13)),gn(this),En(this)}}}catch{}finally{}};function Cr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Dr(c,p){var v=c.C,S=p.indexOf(`
`,v);return S==-1?Is:(v=Number(p.substring(v,S)),isNaN(v)?Rr:(S+=1,S+v>p.length?Is:(p=p.slice(S,S+v),c.C=S+v,p)))}ci.prototype.cancel=function(){this.J=!0,gn(this)};function le(c){c.S=Date.now()+c.I,mo(c,c.I)}function mo(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tr(w(c.ba,c),p)}function Ua(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(Sr(),ve(17)),gn(this),this.s=2,En(this)):mo(this,this.S-c)};function En(c){c.j.G==0||c.J||_c(c.j,c)}function gn(c){Ua(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,$e(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Sn(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||xr(v.h,c))){if(!c.K&&xr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Qa(v),qa(v);else break t;wo(v),ve(18)}}else v.za=j[1],0<v.za-v.T&&37500>j[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tr(w(v.Za,v),6e3));if(1>=uc(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qi(v,11)}else if((c.K||v.g==c)&&Qa(v),!it(p))for(j=v.Da.g.parse(p),p=0;p<j.length;p++){let Ht=j[p];if(v.T=Ht[0],Ht=Ht[1],v.G==2)if(Ht[0]=="c"){v.K=Ht[1],v.ia=Ht[2];const He=Ht[3];He!=null&&(v.la=He,v.j.info("VER="+v.la));const Ve=Ht[4];Ve!=null&&(v.Aa=Ve,v.j.info("SVER="+v.Aa));const Fi=Ht[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(S=1.5*Fi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Ge=c.g;if(Ge){const yi=Ge.g?Ge.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var K=S.h;K.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ir(K,K.h),K.h=null))}if(S.D){const Co=Ge.g?Ge.g.getResponseHeader("X-HTTP-Session-Id"):null;Co&&(S.ya=Co,Gt(S.I,S.D,Co))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var st=c;if(S.qa=Ec(S,S.J?S.ia:null,S.W),st.K){In(S.h,st);var zt=st,Oe=S.L;Oe&&(zt.I=Oe),zt.B&&(Ua(zt),le(zt)),S.g=st}else yc(S);0<v.i.length&&Fa(v)}else Ht[0]!="stop"&&Ht[0]!="close"||qi(v,7);else v.G==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?qi(v,7):To(v):Ht[0]!="noop"&&v.l&&v.l.ta(Ht),v.v=0)}}Sr(4)}catch{}}var Vf=class{constructor(c,p){this.g=c,this.map=p}};function po(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uc(c){return c.h?1:c.g?c.g.size:0}function xr(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Ir(c,p){c.g?c.g.add(p):c.h=p}function In(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}po.prototype.cancel=function(){if(this.i=un(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function un(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return F(c.i)}function cc(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,S=0;S<v;S++)p.push(c[S]);return p}p=[],v=0;for(S in c)p[v++]=c[S];return p}function Mf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const S in c)p[v++]=S;return p}}}function Os(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Mf(c),S=cc(c),j=S.length,K=0;K<j;K++)p.call(void 0,S[K],v&&v[K],c)}var yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pa(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),j=null;if(0<=S){var K=c[v].substring(0,S);j=c[v].substring(S+1)}else K=c[v];p(K,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Li){this.h=c.h,Or(this,c.j),this.o=c.o,this.g=c.g,Vs(this,c.s),this.l=c.l;var p=c.i,v=new hi;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ba(this,v),this.m=c.m}else c&&(p=String(c).match(yo))?(this.h=!1,Or(this,p[1]||"",!0),this.o=Vr(p[2]||""),this.g=Vr(p[3]||"",!0),Vs(this,p[4]),this.l=Vr(p[5]||"",!0),Ba(this,p[6]||"",!0),this.m=Vr(p[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Li.prototype.toString=function(){var c=[],p=this.j;p&&c.push(On(p,vo,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(On(p,vo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(On(v,v.charAt(0)=="/"?_o:hc,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",On(v,Pf)),c.join("")};function de(c){return new Li(c)}function Or(c,p,v){c.j=v?Vr(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Vs(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ba(c,p,v){p instanceof hi?(c.i=p,Ao(c.i,c.h)):(v||(p=On(p,Uf)),c.i=new hi(p,c.h))}function Gt(c,p,v){c.i.set(p,v)}function Ms(c){return Gt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vr(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function On(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,Nf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vo=/[#\/\?@]/g,hc=/[#\?:]/g,_o=/[#\?]/g,Uf=/[#\?@]/g,Pf=/#/g;function hi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Pa(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=hi.prototype,r.add=function(c,p){Vn(this),this.i=null,c=Hi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function La(c,p){Vn(c),p=Hi(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function ki(c,p){return Vn(c),p=Hi(c,p),c.g.has(p)}r.forEach=function(c,p){Vn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(p,j,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let S=0;S<p.length;S++){const j=c[S];for(let K=0;K<j.length;K++)v.push(p[S])}return v},r.V=function(c){Vn(this);let p=[];if(typeof c=="string")ki(this,c)&&(p=p.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return Vn(this),this.i=null,c=Hi(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function zi(c,p,v){La(c,p),0<v.length&&(c.i=null,c.g.set(Hi(c,p),F(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var S=p[v];const K=encodeURIComponent(String(S)),st=this.V(S);for(S=0;S<st.length;S++){var j=K;st[S]!==""&&(j+="="+encodeURIComponent(String(st[S]))),c.push(j)}}return this.i=c.join("&")};function Hi(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Ao(c,p){p&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(v,S){var j=S.toLowerCase();S!=j&&(La(this,S),zi(this,j,v))},c)),c.j=p}function fc(c,p){const v=new br;if(m.Image){const S=new Image;S.onload=O(Mn,v,"TestLoadImage: loaded",!0,p,S),S.onerror=O(Mn,v,"TestLoadImage: error",!1,p,S),S.onabort=O(Mn,v,"TestLoadImage: abort",!1,p,S),S.ontimeout=O(Mn,v,"TestLoadImage: timeout",!1,p,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function Ns(c,p){const v=new br,S=new AbortController,j=setTimeout(()=>{S.abort(),Mn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(j),K.ok?Mn(v,"TestPingServer: ok",!0,p):Mn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(j),Mn(v,"TestPingServer: error",!1,p)})}function Mn(c,p,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Us(){this.g=new on}function fi(c,p,v){const S=v||"";try{Os(c,function(j,K){let st=j;y(j)&&(st=uo(j)),p.push(S+K+"="+encodeURIComponent(st))})}catch(j){throw p.push(S+"type="+encodeURIComponent("_badmap")),j}}function Mr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Mr,co),Mr.prototype.g=function(){return new ji(this.l,this.j)},Mr.prototype.i=function(c){return function(){return c}}({});function ji(c,p){xe.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(ji,xe),r=ji.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,mi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?di(this):mi(this),this.readyState==3&&Eo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},r.Qa=function(c){this.g&&(this.response=c,di(this))},r.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function So(c){let p="";return St(c,function(v,S){p+=S,p+=":",p+=v,p+=`\r
`}),p}function ze(c,p,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=So(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Gt(c,p,v))}function Zt(c){xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Zt,xe);var ka=/^https?$/i,Ps=["POST","PUT"];r=Zt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?rc(this.o):rc(xs),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(K){dc(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ps,p,void 0))||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,st]of v)this.g.setRequestHeader(K,st);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){dc(this,K)}};function dc(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,za(c),pi(c)}function za(c){c.A||(c.A=!0,Le(c,"complete"),Le(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Le(this,"complete"),Le(this,"abort"),pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Zt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ha(this):this.bb())},r.bb=function(){Ha(this)};function Ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Nn(c)!=4||c.Z()!=2)){if(c.u&&Nn(c)==4)ic(c.Ea,0,c);else if(Le(c,"readystatechange"),Nn(c)==4){c.h=!1;try{const st=c.Z();t:switch(st){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var v;if(!(v=p)){var S;if(S=st===0){var j=String(c.D).match(yo)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),S=!ka.test(j?j.toLowerCase():"")}v=S}if(v)Le(c,"complete"),Le(c,"success");else{c.m=6;try{var K=2<Nn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",za(c)}}finally{pi(c)}}}}function pi(c,p){if(c.g){Bs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Le(c,"ready");try{v.onreadystatechange=S}catch{}}}function Bs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Nn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),li(p)}};function mc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bf(c){const p={};c=(c.g&&2<=Nn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(it(c[S]))continue;var v=N(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=p[j]||[];p[j]=K,K.push(v)}V(p,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ja(c){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new po(c&&c.concurrentRequestLimit),this.Da=new Us,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ja.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,S){ve(0),this.W=c,this.H=p||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ec(this,null,this.W),Fa(this)};function To(c){if(pc(c),c.G==3){var p=c.U++,v=de(c.I);if(Gt(v,"SID",c.K),Gt(v,"RID",p),Gt(v,"TYPE","terminate"),ks(c,v),p=new ci(c,c.j,p),p.L=2,p.v=Ms(de(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Sc(p.j,null),p.g.ea(p.v)),p.F=Date.now(),le(p)}Ac(c)}function qa(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function pc(c){qa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Qa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Fa(c){if(!go(c.h)&&!c.s){c.s=!0;var p=c.Ga;bt||M(),At||(bt(),At=!0),Wt.add(p,c),c.B=0}}function Lf(c,p){return uc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tr(w(c.Ga,c,p),Ro(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ci(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(j.H=K,K=null),this.P)t:{for(var p=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=v;break t}if(p===4096||v===this.i.length-1){p=v+1;break t}}p=1e3}else p=1e3;p=gc(this,j,p),v=de(this.I),Gt(v,"RID",c),Gt(v,"CVER",22),this.D&&Gt(v,"X-HTTP-Session-Id",this.D),ks(this,v),K&&(this.O?p="headers="+encodeURIComponent(String(So(K)))+"&"+p:this.m&&ze(v,this.m,K)),Ir(this.h,j),this.Ua&&Gt(v,"TYPE","init"),this.P?(Gt(v,"$req",p),Gt(v,"SID","null"),j.T=!0,Wn(j,v,null)):Wn(j,v,p),this.G=2}}else this.G==3&&(c?bo(this,c):this.i.length==0||go(this.h)||bo(this))};function bo(c,p){var v;p?v=p.l:v=c.U++;const S=de(c.I);Gt(S,"SID",c.K),Gt(S,"RID",v),Gt(S,"AID",c.T),ks(c,S),c.m&&c.o&&ze(S,c.m,c.o),v=new ci(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=gc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ir(c.h,v),Wn(v,S,p)}function ks(c,p){c.H&&St(c.H,function(v,S){Gt(p,S,v)}),c.l&&Os({},function(v,S){Gt(p,S,v)})}function gc(c,p,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;t:{var j=c.i;let K=-1;for(;;){const st=["count="+v];K==-1?0<v?(K=j[0].g,st.push("ofs="+K)):K=0:st.push("ofs="+K);let zt=!0;for(let Oe=0;Oe<v;Oe++){let Ht=j[Oe].g;const He=j[Oe].map;if(Ht-=K,0>Ht)K=Math.max(0,j[Oe].g-100),zt=!1;else try{fi(He,st,"req"+Ht+"_")}catch{S&&S(He)}}if(zt){S=st.join("&");break t}}}return c=c.i.splice(0,v),p.D=c,S}function yc(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;bt||M(),At||(bt(),At=!0),Wt.add(p,c),c.v=0}}function wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tr(w(c.Fa,c),Ro(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,vc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tr(w(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ve(10),qa(this),vc(this))};function zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function vc(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=de(c.qa);Gt(p,"RID","rpc"),Gt(p,"SID",c.K),Gt(p,"AID",c.T),Gt(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Gt(p,"TO",c.ja),Gt(p,"TYPE","xmlhttp"),ks(c,p),c.m&&c.o&&ze(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ms(de(p)),v.m=null,v.P=!0,Bi(v,c)}r.Za=function(){this.C!=null&&(this.C=null,qa(this),wo(this),ve(19))};function Qa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function _c(c,p){var v=null;if(c.g==p){Qa(c),zs(c),c.g=null;var S=2}else if(xr(c.h,p))v=p.D,In(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var j=c.B;S=Va(),Le(S,new ac(S,v)),Fa(c)}else yc(c);else if(j=p.s,j==3||j==0&&0<p.X||!(S==1&&Lf(c,p)||S==2&&wo(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),j){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function Ro(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function qi(c,p){if(c.j.info("Error code "+p),p==2){var v=w(c.fb,c),S=c.Xa;const j=!S;S=new Li(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Or(S,"https"),Ms(S),j?fc(S.toString(),v):Ns(S.toString(),v)}else ve(2);c.G=0,c.l&&c.l.sa(p),Ac(c),pc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function Ac(c){if(c.G=0,c.ka=[],c.l){const p=un(c.h);(p.length!=0||c.i.length!=0)&&(B(c.ka,p),B(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function Ec(c,p,v){var S=v instanceof Li?de(v):new Li(v);if(S.g!="")p&&(S.g=p+"."+S.g),Vs(S,S.s);else{var j=m.location;S=j.protocol,p=p?p+"."+j.hostname:j.hostname,j=+j.port;var K=new Li(null);S&&Or(K,S),p&&(K.g=p),j&&Vs(K,j),v&&(K.l=v),S=K}return v=c.D,p=c.ya,v&&p&&Gt(S,v,p),Gt(S,"VER",c.la),ks(c,S),S}function Sc(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Zt(new Mr({eb:v})):new Zt(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}r=Tc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ga(){}Ga.prototype.g=function(c,p){return new cn(c,p)};function cn(c,p){xe.call(this),this.g=new ja(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!it(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!it(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new gi(this)}L(cn,xe),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){To(this.g)},cn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=uo(c),c=v);p.i.push(new Vf(p.Ya++,c)),p.G==3&&Fa(p)},cn.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,cn.aa.N.call(this)};function bc(c){Ar.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const v in p){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}L(bc,Ar);function wc(){Xn.call(this),this.status=1}L(wc,Xn);function gi(c){this.g=c}L(gi,Tc),gi.prototype.ua=function(){Le(this.g,"a")},gi.prototype.ta=function(c){Le(this.g,new bc(c))},gi.prototype.sa=function(c){Le(this.g,new wc)},gi.prototype.ra=function(){Le(this.g,"b")},Ga.prototype.createWebChannel=Ga.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,FE=function(){return new Ga},qE=function(){return Va()},jE=xn,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,zh=Ie,Pi.COMPLETE="complete",HE=Pi,sc.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",xe.prototype.listen=xe.prototype.K,wu=sc,Zt.prototype.listenOnce=Zt.prototype.L,Zt.prototype.getLastError=Zt.prototype.Ka,Zt.prototype.getLastErrorCode=Zt.prototype.Ba,Zt.prototype.getStatus=Zt.prototype.Z,Zt.prototype.getResponseJson=Zt.prototype.Oa,Zt.prototype.getResponseText=Zt.prototype.oa,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Ha,zE=Zt}).apply(typeof xh<"u"?xh:typeof self<"u"?self:typeof window<"u"?window:{});const H_="@firebase/firestore",j_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=new ME("@firebase/firestore");function Sl(){return Ea.logLevel}function ht(r,...t){if(Ea.logLevel<=Ft.DEBUG){const n=t.map(gg);Ea.debug(`Firestore (${eo}): ${r}`,...n)}}function mr(r,...t){if(Ea.logLevel<=Ft.ERROR){const n=t.map(gg);Ea.error(`Firestore (${eo}): ${r}`,...n)}}function Ql(r,...t){if(Ea.logLevel<=Ft.WARN){const n=t.map(gg);Ea.warn(`Firestore (${eo}): ${r}`,...n)}}function gg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r="Unexpected state"){const t=`FIRESTORE (${eo}) INTERNAL ASSERTION FAILED: `+r;throw mr(t),new Error(t)}function $t(r,t){r||wt()}function Dt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends to{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(sn.UNAUTHENTICATED))}shutdown(){}}class ex{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nx{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){$t(this.o===void 0);let s=this.i;const l=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ys;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ys,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const g=u;t.enqueueRetryable(async()=>{await g.promise,await l(this.currentUser)})},m=g=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ys)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t(typeof s.accessToken=="string"),new QE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string"),new sn(t)}}class ix{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rx{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new ix(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sx{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kD(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){$t(this.o===void 0);const s=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable(()=>s(u))};const l=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new q_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?($t(typeof n.token=="string"),this.R=n.token,new q_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=ax(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function kt(r,t){return r<t?-1:r>t?1:0}function Gl(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=-62135596800,Q_=1e6;class Pe{static now(){return Pe.fromMillis(Date.now())}static fromDate(t){return Pe.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*Q_);return new Pe(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ft(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<F_)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q_}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-F_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new Pe(0,0))}static max(){return new Rt(new Pe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="__name__";class Ti{constructor(t,n,s){n===void 0?n=0:n>t.length&&wt(),s===void 0?s=t.length-n:s>t.length-n&&wt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=Ti.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Math.sign(t.length-n.length)}static compareSegments(t,n){const s=Ti.isNumericId(t),l=Ti.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(n)):t<n?-1:t>n?1:0}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return gs.fromString(t.substring(4,t.length-2))}}class ae extends Ti{construct(t,n,s){return new ae(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ft(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new ae(n)}static emptyPath(){return new ae([])}}const lx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ze extends Ti{construct(t,n,s){return new Ze(t,n,s)}static isValidIdentifier(t){return lx.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ze.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G_}static keyField(){return new Ze([G_])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new ft(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const m=t[l];if(m==="\\"){if(l+1===t.length)throw new ft(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[l+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ft(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=g,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new ft(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ze(n)}static emptyPath(){return new Ze([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t){this.path=t}static fromPath(t){return new Et(ae.fromString(t))}static fromName(t){return new Et(ae.fromString(t).popFirst(5))}static empty(){return new Et(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ae.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new ae(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=-1;function ox(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Rt.fromTimestamp(s===1e9?new Pe(n+1,0):new Pe(n,s));return new As(l,Et.empty(),t)}function ux(r){return new As(r.readTime,r.key,Pu)}class As{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new As(Rt.min(),Et.empty(),Pu)}static max(){return new As(Rt.max(),Et.empty(),Pu)}}function cx(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=Et.comparator(r.documentKey,t.documentKey),n!==0?n:kt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==hx)throw r;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&wt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new $((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):$.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):$.reject(n)}static resolve(t){return new $((n,s)=>{n(t)})}static reject(t){return new $((n,s)=>{s(t)})}static waitFor(t){return new $((n,s)=>{let l=0,u=0,f=!1;t.forEach(m=>{++l,m.next(()=>{++u,f&&u===l&&n()},g=>s(g))}),f=!0,u===l&&n()})}static or(t){let n=$.resolve(!1);for(const s of t)n=n.next(l=>l?$.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,u)=>{s.push(n.call(this,l,u))}),this.waitFor(s)}static mapArray(t,n){return new $((s,l)=>{const u=t.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(t[y]).next(A=>{f[y]=A,++m,m===u&&s(f)},A=>l(A))}})}static doWhile(t,n){return new $((s,l)=>{const u=()=>{t()===!0?n().next(()=>{u()},l):s()};u()})}}function dx(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}yf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg=-1;function vf(r){return r==null}function tf(r){return r===0&&1/r==-1/0}function mx(r){return typeof r=="number"&&Number.isInteger(r)&&!tf(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="";function px(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=K_(t)),t=gx(r.get(n),t);return K_(t)}function gx(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case KE:n+="";break;default:n+=u}}return n}function K_(r){return r+KE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function wa(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function YE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(t,n){this.comparator=t,this.root=n||We.EMPTY}insert(t,n){return new he(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new he(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ih(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ih(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ih(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ih(this.root,t,this.comparator,!0)}}class Ih{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??We.RED,this.left=l??We.EMPTY,this.right=u??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new We(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return We.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wt();const t=this.left.check();if(t!==this.right.check())throw wt();return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw wt()}get value(){throw wt()}get color(){throw wt()}get left(){throw wt()}get right(){throw wt()}copy(t,n,s,l,u){return this}insert(t,n,s){return new We(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(t){this.comparator=t,this.data=new he(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new X_(this.data.getIterator())}getIteratorFrom(t){return new X_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof Be)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new Be(this.comparator);return n.data=t,n}}class X_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(t){this.fields=t,t.sort(Ze.comparator)}static empty(){return new ri([])}unionWith(t){let n=new Be(Ze.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ri(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Gl(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new XE("Invalid base64 string: "+u):u}}(t);return new Je(n)}static fromUint8Array(t){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const yx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Es(r){if($t(!!r),typeof r=="string"){let t=0;const n=yx.exec(r);if($t(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ss(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="server_timestamp",ZE="__type__",JE="__previous_value__",$E="__local_write_time__";function vg(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===WE}function _f(r){const t=r.mapValue.fields[JE];return vg(t)?_f(t):t}function Bu(r){const t=Es(r.mapValue.fields[$E].timestampValue);return new Pe(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,n,s,l,u,f,m,g,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y}}const ef="(default)";class Lu{constructor(t,n){this.projectId=t,this.database=n||ef}static empty(){return new Lu("","")}get isDefaultDatabase(){return this.database===ef}isEqual(t){return t instanceof Lu&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__type__",_x="__max__",Oh={mapValue:{}},eS="__vector__",nf="value";function Ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?vg(r)?4:Ex(r)?9007199254740991:Ax(r)?10:11:wt()}function Oi(r,t){if(r===t)return!0;const n=Ts(r);if(n!==Ts(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Bu(r).isEqual(Bu(t));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=Es(l.timestampValue),m=Es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,u){return Ss(l.bytesValue).isEqual(Ss(u.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,u){return Ae(l.geoPointValue.latitude)===Ae(u.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(u.geoPointValue.longitude)}(r,t);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Ae(l.integerValue)===Ae(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=Ae(l.doubleValue),m=Ae(u.doubleValue);return f===m?tf(f)===tf(m):isNaN(f)&&isNaN(m)}return!1}(r,t);case 9:return Gl(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(Y_(f)!==Y_(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Oi(f[g],m[g])))return!1;return!0}(r,t);default:return wt()}}function ku(r,t){return(r.values||[]).find(n=>Oi(n,t))!==void 0}function Kl(r,t){if(r===t)return 0;const n=Ts(r),s=Ts(t);if(n!==s)return kt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return kt(r.booleanValue,t.booleanValue);case 2:return function(u,f){const m=Ae(u.integerValue||u.doubleValue),g=Ae(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,t);case 3:return W_(r.timestampValue,t.timestampValue);case 4:return W_(Bu(r),Bu(t));case 5:return kt(r.stringValue,t.stringValue);case 6:return function(u,f){const m=Ss(u),g=Ss(f);return m.compareTo(g)}(r.bytesValue,t.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const A=kt(m[y],g[y]);if(A!==0)return A}return kt(m.length,g.length)}(r.referenceValue,t.referenceValue);case 8:return function(u,f){const m=kt(Ae(u.latitude),Ae(f.latitude));return m!==0?m:kt(Ae(u.longitude),Ae(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Z_(r.arrayValue,t.arrayValue);case 10:return function(u,f){var m,g,y,A;const b=u.fields||{},w=f.fields||{},O=(m=b[nf])===null||m===void 0?void 0:m.arrayValue,L=(g=w[nf])===null||g===void 0?void 0:g.arrayValue,F=kt(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((A=L==null?void 0:L.values)===null||A===void 0?void 0:A.length)||0);return F!==0?F:Z_(O,L)}(r.mapValue,t.mapValue);case 11:return function(u,f){if(u===Oh.mapValue&&f===Oh.mapValue)return 0;if(u===Oh.mapValue)return 1;if(f===Oh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},A=Object.keys(y);g.sort(),A.sort();for(let b=0;b<g.length&&b<A.length;++b){const w=kt(g[b],A[b]);if(w!==0)return w;const O=Kl(m[g[b]],y[A[b]]);if(O!==0)return O}return kt(g.length,A.length)}(r.mapValue,t.mapValue);default:throw wt()}}function W_(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return kt(r,t);const n=Es(r),s=Es(t),l=kt(n.seconds,s.seconds);return l!==0?l:kt(n.nanos,s.nanos)}function Z_(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=Kl(n[l],s[l]);if(u)return u}return kt(n.length,s.length)}function Yl(r){return jp(r)}function jp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Es(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ss(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Et.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=jp(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${jp(n.fields[f])}`;return l+"}"}(r.mapValue):wt()}function Hh(r){switch(Ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_f(r);return t?16+Hh(t):16;case 5:return 2*r.stringValue.length;case 6:return Ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,u)=>l+Hh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return wa(s.fields,(u,f)=>{l+=u.length+Hh(f)}),l}(r.mapValue);default:throw wt()}}function J_(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function qp(r){return!!r&&"integerValue"in r}function _g(r){return!!r&&"arrayValue"in r}function $_(r){return!!r&&"nullValue"in r}function tA(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function jh(r){return!!r&&"mapValue"in r}function Ax(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[tS])===null||n===void 0?void 0:n.stringValue)===eS}function Du(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return wa(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=Du(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Du(r.arrayValue.values[n]);return t}return Object.assign({},r)}function Ex(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===_x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(t){this.value=t}static empty(){return new Kn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!jh(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Du(n)}setAll(t){let n=Ze.emptyPath(),s={},l=[];t.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Du(f):l.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());jh(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];jh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){wa(n,(l,u)=>t[l]=u);for(const l of s)delete t[l]}clone(){return new Kn(Du(this.value))}}function nS(r){const t=[];return wa(r.fields,(n,s)=>{const l=new Ze([n]);if(jh(s)){const u=nS(s.mapValue).fields;if(u.length===0)t.push(l);else for(const f of u)t.push(l.child(f))}else t.push(l)}),new ri(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t,n,s,l,u,f,m){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(t){return new an(t,0,Rt.min(),Rt.min(),Rt.min(),Kn.empty(),0)}static newFoundDocument(t,n,s,l){return new an(t,1,n,Rt.min(),s,l,0)}static newNoDocument(t,n){return new an(t,2,n,Rt.min(),Rt.min(),Kn.empty(),0)}static newUnknownDocument(t,n){return new an(t,3,n,Rt.min(),Rt.min(),Kn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Kn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(t,n){this.position=t,this.inclusive=n}}function eA(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],f=r.position[l];if(u.field.isKeyField()?s=Et.comparator(Et.fromName(f.referenceValue),n.key):s=Kl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nA(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Oi(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(t,n="asc"){this.field=t,this.dir=n}}function Sx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{}class Ce extends iS{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new bx(t,n,s):n==="array-contains"?new Cx(t,s):n==="in"?new Dx(t,s):n==="not-in"?new xx(t,s):n==="array-contains-any"?new Ix(t,s):new Ce(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new wx(t,s):new Rx(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kl(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return wt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends iS{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new ai(t,n)}matches(t){return rS(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function rS(r){return r.op==="and"}function sS(r){return Tx(r)&&rS(r)}function Tx(r){for(const t of r.filters)if(t instanceof ai)return!1;return!0}function Fp(r){if(r instanceof Ce)return r.field.canonicalString()+r.op.toString()+Yl(r.value);if(sS(r))return r.filters.map(t=>Fp(t)).join(",");{const t=r.filters.map(n=>Fp(n)).join(",");return`${r.op}(${t})`}}function aS(r,t){return r instanceof Ce?function(s,l){return l instanceof Ce&&s.op===l.op&&s.field.isEqual(l.field)&&Oi(s.value,l.value)}(r,t):r instanceof ai?function(s,l){return l instanceof ai&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((u,f,m)=>u&&aS(f,l.filters[m]),!0):!1}(r,t):void wt()}function lS(r){return r instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${Yl(n.value)}`}(r):r instanceof ai?function(n){return n.op.toString()+" {"+n.getFilters().map(lS).join(" ,")+"}"}(r):"Filter"}class bx extends Ce{constructor(t,n,s){super(t,n,s),this.key=Et.fromName(s.referenceValue)}matches(t){const n=Et.comparator(t.key,this.key);return this.matchesComparison(n)}}class wx extends Ce{constructor(t,n){super(t,"in",n),this.keys=oS("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class Rx extends Ce{constructor(t,n){super(t,"not-in",n),this.keys=oS("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function oS(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Et.fromName(s.referenceValue))}class Cx extends Ce{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return _g(n)&&ku(n.arrayValue,this.value)}}class Dx extends Ce{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ku(this.value.arrayValue,n)}}class xx extends Ce{constructor(t,n){super(t,"not-in",n)}matches(t){if(ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!ku(this.value.arrayValue,n)}}class Ix extends Ce{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!_g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ku(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(t,n=null,s=[],l=[],u=null,f=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function iA(r,t=null,n=[],s=[],l=null,u=null,f=null){return new Ox(r,t,n,s,l,u,f)}function Ag(r){const t=Dt(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Fp(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),vf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Yl(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Yl(s)).join(",")),t.le=n}return t.le}function Eg(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!Sx(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!aS(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!nA(r.startAt,t.startAt)&&nA(r.endAt,t.endAt)}function Qp(r){return Et.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,n=null,s=[],l=[],u=null,f="F",m=null,g=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Vx(r,t,n,s,l,u,f,m){return new ro(r,t,n,s,l,u,f,m)}function uS(r){return new ro(r)}function rA(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cS(r){return r.collectionGroup!==null}function xu(r){const t=Dt(r);if(t.he===null){t.he=[];const n=new Set;for(const u of t.explicitOrderBy)t.he.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Be(Ze.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(t).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||t.he.push(new zu(u,s))}),n.has(Ze.keyField().canonicalString())||t.he.push(new zu(Ze.keyField(),s))}return t.he}function xi(r){const t=Dt(r);return t.Pe||(t.Pe=Mx(t,xu(r))),t.Pe}function Mx(r,t){if(r.limitType==="F")return iA(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new zu(l.field,u)});const n=r.endAt?new rf(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new rf(r.startAt.position,r.startAt.inclusive):null;return iA(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function Gp(r,t){const n=r.filters.concat([t]);return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function sf(r,t,n){return new ro(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Af(r,t){return Eg(xi(r),xi(t))&&r.limitType===t.limitType}function hS(r){return`${Ag(xi(r))}|lt:${r.limitType}`}function Tl(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>lS(l)).join(", ")}]`),vf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Yl(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Yl(l)).join(",")),`Target(${s})`}(xi(r))}; limitType=${r.limitType})`}function Ef(r,t){return t.isFoundDocument()&&function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Et.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,t)&&function(s,l){for(const u of xu(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,m,g){const y=eA(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,xu(s),l)||s.endAt&&!function(f,m,g){const y=eA(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,xu(s),l))}(r,t)}function Nx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(t,n)=>{let s=!1;for(const l of xu(r)){const u=Ux(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function Ux(r,t,n){const s=r.field.isKeyField()?Et.comparator(t.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Kl(g,y):wt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return wt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){wa(this.inner,(n,s)=>{for(const[l,u]of s)t(l,u)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px=new he(Et.comparator);function pr(){return Px}const dS=new he(Et.comparator);function Ru(...r){let t=dS;for(const n of r)t=t.insert(n.key,n);return t}function mS(r){let t=dS;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ua(){return Iu()}function pS(){return Iu()}function Iu(){return new Ra(r=>r.toString(),(r,t)=>r.isEqual(t))}const Bx=new he(Et.comparator),Lx=new Be(Et.comparator);function Pt(...r){let t=Lx;for(const n of r)t=t.add(n);return t}const kx=new Be(kt);function zx(){return kx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tf(t)?"-0":t}}function gS(r){return{integerValue:""+r}}function Hx(r,t){return mx(t)?gS(t):Sg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function jx(r,t,n){return r instanceof af?function(l,u){const f={fields:{[ZE]:{stringValue:WE},[$E]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&vg(u)&&(u=_f(u)),u&&(f.fields[JE]=u),{mapValue:f}}(n,t):r instanceof Hu?vS(r,t):r instanceof ju?_S(r,t):function(l,u){const f=yS(l,u),m=sA(f)+sA(l.Ie);return qp(f)&&qp(l.Ie)?gS(m):Sg(l.serializer,m)}(r,t)}function qx(r,t,n){return r instanceof Hu?vS(r,t):r instanceof ju?_S(r,t):n}function yS(r,t){return r instanceof lf?function(s){return qp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(t)?t:{integerValue:0}:null}class af extends Sf{}class Hu extends Sf{constructor(t){super(),this.elements=t}}function vS(r,t){const n=AS(t);for(const s of r.elements)n.some(l=>Oi(l,s))||n.push(s);return{arrayValue:{values:n}}}class ju extends Sf{constructor(t){super(),this.elements=t}}function _S(r,t){let n=AS(t);for(const s of r.elements)n=n.filter(l=>!Oi(l,s));return{arrayValue:{values:n}}}class lf extends Sf{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function sA(r){return Ae(r.integerValue||r.doubleValue)}function AS(r){return _g(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Fx(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Hu&&l instanceof Hu||s instanceof ju&&l instanceof ju?Gl(s.elements,l.elements,Oi):s instanceof lf&&l instanceof lf?Oi(s.Ie,l.Ie):s instanceof af&&l instanceof af}(r.transform,t.transform)}class Qx{constructor(t,n){this.version=t,this.transformResults=n}}class hr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new hr}static exists(t){return new hr(void 0,t)}static updateTime(t){return new hr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Tf{}function ES(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new TS(r.key,hr.none()):new Ju(r.key,r.data,hr.none());{const n=r.data,s=Kn.empty();let l=new Be(Ze.comparator);for(let u of t.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new Ca(r.key,s,new ri(l.toArray()),hr.none())}}function Gx(r,t,n){r instanceof Ju?function(l,u,f){const m=l.value.clone(),g=lA(l.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,t,n):r instanceof Ca?function(l,u,f){if(!qh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=lA(l.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(SS(l)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Ou(r,t,n,s){return r instanceof Ju?function(u,f,m,g){if(!qh(u.precondition,f))return m;const y=u.value.clone(),A=oA(u.fieldTransforms,g,f);return y.setAll(A),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Ca?function(u,f,m,g){if(!qh(u.precondition,f))return m;const y=oA(u.fieldTransforms,g,f),A=f.data;return A.setAll(SS(u)),A.setAll(y),f.convertToFoundDocument(f.version,A).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,t,n,s):function(u,f,m){return qh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,t,n)}function Kx(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=yS(s.transform,l||null);u!=null&&(n===null&&(n=Kn.empty()),n.set(s.field,u))}return n||null}function aA(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Gl(s,l,(u,f)=>Fx(u,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ju extends Tf{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ca extends Tf{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function SS(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function lA(r,t,n){const s=new Map;$t(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=t.data.field(u.field);s.set(u.field,qx(f,m,n[l]))}return s}function oA(r,t,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,jx(u,f,t))}return s}class TS extends Tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yx extends Tf{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&Gx(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ou(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ou(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=pS();return this.mutations.forEach(l=>{const u=t.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const g=ES(f,m);g!==null&&s.set(l.key,g),f.isValidDocument()||f.convertToNoDocument(Rt.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Pt())}isEqual(t){return this.batchId===t.batchId&&Gl(this.mutations,t.mutations,(n,s)=>aA(n,s))&&Gl(this.baseMutations,t.baseMutations,(n,s)=>aA(n,s))}}class Tg{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){$t(t.mutations.length===s.length);let l=function(){return Bx}();const u=t.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Tg(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re,qt;function Jx(r){switch(r){case tt.OK:return wt();case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return wt()}}function bS(r){if(r===void 0)return mr("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Re.OK:return tt.OK;case Re.CANCELLED:return tt.CANCELLED;case Re.UNKNOWN:return tt.UNKNOWN;case Re.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Re.INTERNAL:return tt.INTERNAL;case Re.UNAVAILABLE:return tt.UNAVAILABLE;case Re.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Re.NOT_FOUND:return tt.NOT_FOUND;case Re.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Re.ABORTED:return tt.ABORTED;case Re.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Re.DATA_LOSS:return tt.DATA_LOSS;default:return wt()}}(qt=Re||(Re={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new gs([4294967295,4294967295],0);function uA(r){const t=$x().encode(r),n=new kE;return n.update(t),new Uint8Array(n.digest())}function cA(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new gs([n,s],0),new gs([l,u],0)]}class bg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Cu(`Invalid padding: ${n}`);if(s<0)throw new Cu(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=gs.fromNumber(this.Ee)}Ae(t,n,s){let l=t.add(n.multiply(gs.fromNumber(s)));return l.compare(tI)===1&&(l=new gs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=uA(t),[s,l]=cA(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);if(!this.Re(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new bg(u,l,n);return s.forEach(m=>f.insert(m)),f}insert(t){if(this.Ee===0)return;const n=uA(t),[s,l]=cA(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,l,u);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,$u.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new bf(Rt.min(),l,new he(kt),pr(),Pt())}}class $u{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new $u(s,n,Pt(),Pt(),Pt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(t,n,s,l){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=l}}class wS{constructor(t,n){this.targetId=t,this.ge=n}}class RS{constructor(t,n,s=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class hA{constructor(){this.pe=0,this.ye=fA(),this.we=Je.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(t){t.approximateByteSize()>0&&(this.Se=!0,this.we=t)}Fe(){let t=Pt(),n=Pt(),s=Pt();return this.ye.forEach((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:wt()}}),new $u(this.we,this.be,t,n,s)}Me(){this.Se=!1,this.ye=fA()}xe(t,n){this.Se=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.Se=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,$t(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class eI{constructor(t){this.ke=t,this.qe=new Map,this.Qe=pr(),this.$e=Vh(),this.Ke=Vh(),this.Ue=new he(kt)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:wt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,s=t.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Qp(u))if(s===0){const f=new Et(u.path);this.ze(n,f,an.newNoDocument(f,Rt.min()))}else $t(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(t),g=m?this.nt(m,t,f):1;if(g!==0){this.Ye(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=Ss(s).toUint8Array()}catch(g){if(g instanceof XE)return Ql("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new bg(f,l,u)}catch(g){return Ql(g instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Ee===0?null:m}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.ze(n,u,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Qp(m.target)){const g=new Et(m.target.path);this._t(g).has(f)||this.ut(f,g)||this.ze(f,g,an.newNoDocument(g,t))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pt();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.Xe(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(t));const l=new bf(t,n,this.Ue,this.Qe,s);return this.Qe=pr(),this.$e=Vh(),this.Ke=Vh(),this.Ue=new he(kt),l}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(t)),this.Ke=this.Ke.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new hA,this.qe.set(t,n)),n}ct(t){let n=this.Ke.get(t);return n||(n=new Be(kt),this.Ke=this.Ke.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new Be(kt),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new hA),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Vh(){return new he(Et.comparator)}function fA(){return new he(Et.comparator)}const nI={asc:"ASCENDING",desc:"DESCENDING"},iI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rI={and:"AND",or:"OR"};class sI{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Kp(r,t){return r.useProto3Json||vf(t)?t:{value:t}}function of(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CS(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function aI(r,t){return of(r,t.toTimestamp())}function Ii(r){return $t(!!r),Rt.fromTimestamp(function(n){const s=Es(n);return new Pe(s.seconds,s.nanos)}(r))}function wg(r,t){return Yp(r,t).canonicalString()}function Yp(r,t){const n=function(l){return new ae(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function DS(r){const t=ae.fromString(r);return $t(MS(t)),t}function Xp(r,t){return wg(r.databaseId,t.path)}function pp(r,t){const n=DS(t);if(n.get(1)!==r.databaseId.projectId)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ft(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Et(IS(n))}function xS(r,t){return wg(r.databaseId,t)}function lI(r){const t=DS(r);return t.length===4?ae.emptyPath():IS(t)}function Wp(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IS(r){return $t(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function dA(r,t,n){return{name:Xp(r,t),fields:n.value.mapValue.fields}}function oI(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:wt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=function(y,A){return y.useProto3Json?($t(A===void 0||typeof A=="string"),Je.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Je.fromUint8Array(A||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,m=f&&function(y){const A=y.code===void 0?tt.UNKNOWN:bS(y.code);return new ft(A,y.message||"")}(f);n=new RS(s,l,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=pp(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):Rt.min(),m=new Kn({mapValue:{fields:s.document.fields}}),g=an.newFoundDocument(l,u,f,m),y=s.targetIds||[],A=s.removedTargetIds||[];n=new Fh(y,A,g.key,g)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=pp(r,s.document),u=s.readTime?Ii(s.readTime):Rt.min(),f=an.newNoDocument(l,u),m=s.removedTargetIds||[];n=new Fh([],m,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=pp(r,s.document),u=s.removedTargetIds||[];n=new Fh([],u,l,null)}else{if(!("filter"in t))return wt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new Zx(l,u),m=s.targetId;n=new wS(m,f)}}return n}function uI(r,t){let n;if(t instanceof Ju)n={update:dA(r,t.key,t.value)};else if(t instanceof TS)n={delete:Xp(r,t.key)};else if(t instanceof Ca)n={update:dA(r,t.key,t.data),updateMask:vI(t.fieldMask)};else{if(!(t instanceof Yx))return wt();n={verify:Xp(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof af)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ju)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lf)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw wt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:aI(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:wt()}(r,t.precondition)),n}function cI(r,t){return r&&r.length>0?($t(t!==void 0),r.map(n=>function(l,u){let f=l.updateTime?Ii(l.updateTime):Ii(u);return f.isEqual(Rt.min())&&(f=Ii(u)),new Qx(f,l.transformResults||[])}(n,t))):[]}function hI(r,t){return{documents:[xS(r,t.path)]}}function fI(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=xS(r,l);const u=function(y){if(y.length!==0)return VS(ai.create(y,"and"))}(t.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(A=>function(w){return{field:bl(w.field),direction:pI(w.dir)}}(A))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Kp(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:l}}function dI(r){let t=lI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){$t(s===1);const A=n.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let u=[];n.where&&(u=function(b){const w=OS(b);return w instanceof ai&&sS(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(w=>function(L){return new zu(wl(L.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(w))}(n.orderBy));let m=null;n.limit&&(m=function(b){let w;return w=typeof b=="object"?b.value:b,vf(w)?null:w}(n.limit));let g=null;n.startAt&&(g=function(b){const w=!!b.before,O=b.values||[];return new rf(O,w)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const w=!b.before,O=b.values||[];return new rf(O,w)}(n.endAt)),Vx(t,l,f,u,m,"F",g,y)}function mI(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return wt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function OS(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=wl(n.unaryFilter.field);return Ce.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=wl(n.unaryFilter.field);return Ce.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=wl(n.unaryFilter.field);return Ce.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=wl(n.unaryFilter.field);return Ce.create(f,"!=",{nullValue:"NULL_VALUE"});default:return wt()}}(r):r.fieldFilter!==void 0?function(n){return Ce.create(wl(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return ai.create(n.compositeFilter.filters.map(s=>OS(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return wt()}}(n.compositeFilter.op))}(r):wt()}function pI(r){return nI[r]}function gI(r){return iI[r]}function yI(r){return rI[r]}function bl(r){return{fieldPath:r.canonicalString()}}function wl(r){return Ze.fromServerFormat(r.fieldPath)}function VS(r){return r instanceof Ce?function(n){if(n.op==="=="){if(tA(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NAN"}};if($_(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tA(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NAN"}};if($_(n.value))return{unaryFilter:{field:bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bl(n.field),op:gI(n.op),value:n.value}}}(r):r instanceof ai?function(n){const s=n.getFilters().map(l=>VS(l));return s.length===1?s[0]:{compositeFilter:{op:yI(n.op),filters:s}}}(r):wt()}function vI(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function MS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(t,n,s,l,u=Rt.min(),f=Rt.min(),m=Je.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(t){return new ds(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(t){this.Tt=t}}function AI(r){const t=dI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sf(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.Tn=new SI}addToCollectionParentIndex(t,n){return this.Tn.add(n),$.resolve()}getCollectionParents(t,n){return $.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return $.resolve()}deleteFieldIndex(t,n){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,n){return $.resolve()}getDocumentsMatchingTarget(t,n){return $.resolve(null)}getIndexType(t,n){return $.resolve(0)}getFieldIndexes(t,n){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,n){return $.resolve(As.min())}getMinOffsetFromCollectionGroup(t,n){return $.resolve(As.min())}updateCollectionGroup(t,n,s){return $.resolve()}updateIndexEntries(t,n){return $.resolve()}}class SI{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Be(ae.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Be(ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NS=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(NS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Kn(){return new Xl(0)}static Un(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="LruGarbageCollector",TI=1048576;function gA([r,t],[n,s]){const l=kt(r,n);return l===0?kt(t,s):l}class bI{constructor(t){this.Hn=t,this.buffer=new Be(gA),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gA(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){ht(pA,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?ht(pA,"Ignoring IndexedDB error during garbage collection: ",n):await no(n)}await this.er(3e5)})}}class RI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return $.resolve(yf.ae);const s=new bI(n);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(mA)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mA):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,l,u,f,m,g,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(t,l))).next(b=>(s=b,m=Date.now(),this.removeTargets(t,s,n))).next(b=>(u=b,g=Date.now(),this.removeOrphanedDocuments(t,s))).next(b=>(y=Date.now(),Sl()<=Ft.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-A}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${b} documents in `+(y-g)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b})))}}function CI(r,t){return new RI(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.changes=new Ra(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?$.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Ou(s.mutation,l,ri.empty(),Pe.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Pt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Pt()){const l=ua();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(u=>{let f=Ru();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ua();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Pt()))}populateOverlays(t,n,s){const l=[];return s.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(t,l).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(t,n,s,l){let u=pr();const f=Iu(),m=function(){return Iu()}();return n.forEach((g,y)=>{const A=s.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Ca)?u=u.insert(y.key,y):A!==void 0?(f.set(y.key,A.mutation.getFieldMask()),Ou(A.mutation,y,A.mutation.getFieldMask(),Pe.now())):f.set(y.key,ri.empty())}),this.recalculateAndSaveOverlays(t,u).next(g=>(g.forEach((y,A)=>f.set(y,A)),n.forEach((y,A)=>{var b;return m.set(y,new xI(A,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(t,n){const s=Iu();let l=new he((f,m)=>f-m),u=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let A=s.get(g)||ri.empty();A=m.applyToLocalView(y,A),s.set(g,A);const b=(l.get(m.batchId)||Pt()).add(g);l=l.insert(m.batchId,b)})}).next(()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,A=g.value,b=pS();A.forEach(w=>{if(!u.has(w)){const O=ES(n.get(w),s.get(w));O!==null&&b.set(w,O),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,b))}return $.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return Et.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):cS(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):$.resolve(ua());let m=Pu,g=u;return f.next(y=>$.forEach(y,(A,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next(w=>{g=g.insert(A,w)}))).next(()=>this.populateOverlays(t,y,u)).next(()=>this.computeViews(t,g,y,Pt())).next(A=>({batchId:m,changes:mS(A)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Et(n)).next(s=>{let l=Ru();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let f=Ru();return this.indexManager.getCollectionParents(t,u).next(m=>$.forEach(m,g=>{const y=function(b,w){return new ro(w,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(A=>{A.forEach((b,w)=>{f=f.insert(b,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l))).next(f=>{u.forEach((g,y)=>{const A=y.getKey();f.get(A)===null&&(f=f.insert(A,an.newInvalidDocument(A)))});let m=Ru();return f.forEach((g,y)=>{const A=u.get(g);A!==void 0&&Ou(A.mutation,y,ri.empty(),Pe.now()),Ef(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return $.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}}(n)),$.resolve()}getNamedQuery(t,n){return $.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:AI(l.bundledQuery),readTime:Ii(l.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.overlays=new he(Et.comparator),this.Rr=new Map}getOverlay(t,n){return $.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ua();return $.forEach(n,l=>this.getOverlay(t,l).next(u=>{u!==null&&s.set(l,u)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,u)=>{this.Et(t,n,u)}),$.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),$.resolve()}getOverlaysForCollection(t,n,s){const l=ua(),u=n.length+1,f=new Et(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&l.set(g.getKey(),g)}return $.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new he((y,A)=>y-A);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let A=u.get(y.largestBatchId);A===null&&(A=ua(),u=u.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const m=ua(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,A)=>m.set(y,A)),!(m.size()>=l)););return $.resolve(m)}Et(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Wx(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pt(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(){this.Vr=new Be(Qe.mr),this.gr=new Be(Qe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Qe(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Qe(t,n))}br(t,n){t.forEach(s=>this.removeReference(s,n))}Sr(t){const n=new Et(new ae([])),s=new Qe(n,t),l=new Qe(n,t+1),u=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new Et(new ae([])),s=new Qe(n,t),l=new Qe(n,t+1);let u=Pt();return this.gr.forEachInRange([s,l],f=>{u=u.add(f.key)}),u}containsKey(t){const n=new Qe(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Qe{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return Et.comparator(t.key,n.key)||kt(t.Cr,n.Cr)}static pr(t,n){return kt(t.Cr,n.Cr)||Et.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Be(Qe.mr)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Xx(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Mr=this.Mr.add(new Qe(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return $.resolve(f)}lookupMutationBatch(t,n){return $.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Nr(s),u=l<0?0:l;return $.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?yg:this.Fr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Qe(n,0),l=new Qe(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,l],f=>{const m=this.Or(f.Cr);u.push(m)}),$.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Be(kt);return n.forEach(l=>{const u=new Qe(l,0),f=new Qe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),$.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;Et.isDocumentKey(u)||(u=u.child(""));const f=new Qe(new Et(u),0);let m=new Be(kt);return this.Mr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(m=m.add(g.Cr)),!0)},f),$.resolve(this.Br(m))}Br(t){const n=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){$t(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return $.forEach(n.mutations,l=>{const u=new Qe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Qe(n,0),l=this.Mr.firstAfterOrEqual(s);return $.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(t){this.kr=t,this.docs=function(){return new he(Et.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return $.resolve(s?s.document.mutableCopy():an.newInvalidDocument(n))}getEntries(t,n){let s=pr();return n.forEach(l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():an.newInvalidDocument(l))}),$.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=pr();const f=n.path,m=new Et(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:A}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||cx(ux(A),s)<=0||(l.has(A.key)||Ef(n,A))&&(u=u.insert(A.key,A.mutableCopy()))}return $.resolve(u)}getAllFromCollectionGroup(t,n,s,l){wt()}qr(t,n){return $.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new PI(this)}getSize(t){return $.resolve(this.size)}}class PI extends DI{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),$.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(t){this.persistence=t,this.Qr=new Ra(n=>Ag(n),Eg),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rg,this.targetCount=0,this.Ur=Xl.Kn()}forEachTarget(t,n){return this.Qr.forEach((s,l)=>n(l)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Ur.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),$.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ur=new Xl(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,$.resolve()}updateTargetData(t,n){return this.zn(n),$.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),l++)}),$.waitFor(u).next(()=>l)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return $.resolve(s)}addMatchingKeys(t,n,s){return this.Kr.yr(n,s),$.resolve()}removeMatchingKeys(t,n,s){this.Kr.br(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(t,f))}),$.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.Kr.Sr(n),$.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Kr.vr(n);return $.resolve(s)}containsKey(t,n){return $.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new yf(0),this.zr=!1,this.zr=!0,this.jr=new MI,this.referenceDelegate=t(this),this.Hr=new BI(this),this.indexManager=new EI,this.remoteDocumentCache=function(l){return new UI(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new _I(n),this.Yr=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new VI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new NI(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){ht("MemoryPersistence","Starting transaction:",t);const l=new LI(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(t,n){return $.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class LI extends fx{constructor(t){super(),this.currentSequenceNumber=t}}class Cg{constructor(t){this.persistence=t,this.ti=new Rg,this.ni=null}static ri(t){return new Cg(t)}get ii(){if(this.ni)return this.ni;throw wt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),$.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),$.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),$.resolve()}removeTarget(t,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ii,s=>{const l=Et.fromPath(s);return this.si(t,l).next(u=>{u||n.removeEntry(l,Rt.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return $.or([()=>$.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class uf{constructor(t,n){this.persistence=t,this.oi=new Ra(s=>px(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=CI(this,n)}static ri(t,n){return new uf(t,n)}Zr(){}Xr(t){return $.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return $.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(u=>u?$.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,n).next(m=>{m||(s++,u.removeEntry(f,Rt.min()))})).next(()=>u.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),$.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),$.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),$.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hh(t.data.value)),n}ar(t,n,s){return $.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return $.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(t,n){let s=Pt(),l=Pt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Dg(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return P2()?8:dx(N2())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.rs(t,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(t,n,l,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new kI;return this._s(t,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(t,n,f,m.size)})}).next(()=>u.result)}us(t,n,s,l){return s.documentReadCount<this.es?(Sl()<=Ft.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Tl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),$.resolve()):(Sl()<=Ft.DEBUG&&ht("QueryEngine","Query:",Tl(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Sl()<=Ft.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Tl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(n))):$.resolve())}rs(t,n){if(rA(n))return $.resolve(null);let s=xi(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=sf(n,null,"F"),s=xi(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(u=>{const f=Pt(...u);return this.ns.getDocuments(t,f).next(m=>this.indexManager.getMinOffset(t,s).next(g=>{const y=this.cs(n,m);return this.ls(n,y,f,g.readTime)?this.rs(t,sf(n,null,"F")):this.hs(t,y,n,g)}))})))}ss(t,n,s,l){return rA(n)||l.isEqual(Rt.min())?$.resolve(null):this.ns.getDocuments(t,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,l)?$.resolve(null):(Sl()<=Ft.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Tl(n)),this.hs(t,f,n,ox(l,Pu)).next(m=>m))})}cs(t,n){let s=new Be(fS(t));return n.forEach((l,u)=>{Ef(t,u)&&(s=s.add(u))}),s}ls(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(t,n,s){return Sl()<=Ft.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Tl(n)),this.ns.getDocumentsMatchingQuery(t,n,As.min(),s)}hs(t,n,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="LocalStore",HI=3e8;class jI{constructor(t,n,s,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new he(kt),this.Is=new Ra(u=>Ag(u),Eg),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new II(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function qI(r,t,n,s){return new jI(r,t,n,s)}async function PS(r,t){const n=Dt(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(u=>(l=u,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Pt();for(const y of l){f.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}for(const y of u){m.push(y.batchId);for(const A of y.mutations)g=g.add(A.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function FI(r,t){const n=Dt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,g,y,A){const b=y.batch,w=b.keys();let O=$.resolve();return w.forEach(L=>{O=O.next(()=>A.getEntry(g,L)).next(F=>{const B=y.docVersions.get(L);$t(B!==null),F.version.compareTo(B)<0&&(b.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),A.addEntry(F)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,b))}(n,s,t,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Pt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function BS(r){const t=Dt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function QI(r,t){const n=Dt(r),s=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const m=[];t.targetChanges.forEach((A,b)=>{const w=l.get(b);if(!w)return;m.push(n.Hr.removeMatchingKeys(u,A.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,A.addedDocuments,b)));let O=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(b)!==null?O=O.withResumeToken(Je.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):A.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(A.resumeToken,s)),l=l.insert(b,O),function(F,B,Y){return F.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=HI?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(w,O,A)&&m.push(n.Hr.updateTargetData(u,O))});let g=pr(),y=Pt();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(GI(u,f,t.documentUpdates).next(A=>{g=A.Vs,y=A.fs})),!s.isEqual(Rt.min())){const A=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(A)}return $.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ts=l,u))}function GI(r,t,n){let s=Pt(),l=Pt();return n.forEach(u=>s=s.add(u)),t.getEntries(r,s).next(u=>{let f=pr();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(m)),g.isNoDocument()&&g.version.isEqual(Rt.min())?(t.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(g),f=f.insert(m,g)):ht(xg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{Vs:f,fs:l}})}function KI(r,t){const n=Dt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=yg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function YI(r,t){const n=Dt(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,t).next(u=>u?(l=u,$.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new ds(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function Zp(r,t,n){const s=Dt(r),l=s.Ts.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!io(f))throw f;ht(xg,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function yA(r,t,n){const s=Dt(r);let l=Rt.min(),u=Pt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,A){const b=Dt(g),w=b.Is.get(A);return w!==void 0?$.resolve(b.Ts.get(w)):b.Hr.getTargetData(y,A)}(s,f,xi(t)).next(m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?l:Rt.min(),n?u:Pt())).next(m=>(XI(s,Nx(t),m),{documents:m,gs:u})))}function XI(r,t,n){let s=r.Es.get(t)||Rt.min();n.forEach((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(t,s)}class vA{constructor(){this.activeTargetIds=zx()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ss(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class WI{constructor(){this.ho=new vA,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new vA,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="ConnectivityMonitor";class AA{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ht(_A,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){ht(_A,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh=null;function Jp(){return Mh===null?Mh=function(){return 268435456+Math.round(2147483648*Math.random())}():Mh++,"0x"+Mh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="RestConnection",JI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $I{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===ef?`project_id=${s}`:`project_id=${s}&database_id=${l}`}bo(t,n,s,l,u){const f=Jp(),m=this.So(t,n.toUriEncodedString());ht(gp,`Sending RPC '${t}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(g,l,u),this.vo(t,m,g,s).then(y=>(ht(gp,`Received RPC '${t}' ${f}: `,y),y),y=>{throw Ql(gp,`RPC '${t}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(t,n,s,l,u,f){return this.bo(t,n,s,l,u)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+eo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),s&&s.headers.forEach((l,u)=>t[u]=l)}So(t,n){const s=JI[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Ko(t){this.ko(t)}Uo(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn="WebChannelConnection";class eO extends $I{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,l){const u=Jp();return new Promise((f,m)=>{const g=new zE;g.setWithCredentials(!0),g.listenOnce(HE.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case zh.NO_ERROR:const A=g.getResponseJson();ht(nn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(A)),f(A);break;case zh.TIMEOUT:ht(nn,`RPC '${t}' ${u} timed out`),m(new ft(tt.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const b=g.getStatus();if(ht(nn,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const L=function(B){const Y=B.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(Y)>=0?Y:tt.UNKNOWN}(O.status);m(new ft(L,O.message))}else m(new ft(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ft(tt.UNAVAILABLE,"Connection failed."));break;default:wt()}}finally{ht(nn,`RPC '${t}' ${u} completed.`)}});const y=JSON.stringify(l);ht(nn,`RPC '${t}' ${u} sending request:`,l),g.send(n,"POST",y,s,15)})}Wo(t,n,s){const l=Jp(),u=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=FE(),m=qE(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Do(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const A=u.join("");ht(nn,`Creating RPC '${t}' stream ${l}: ${A}`,g);const b=f.createWebChannel(A,g);let w=!1,O=!1;const L=new tO({Fo:B=>{O?ht(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,B):(w||(ht(nn,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),ht(nn,`RPC '${t}' stream ${l} sending:`,B),b.send(B))},Mo:()=>b.close()}),F=(B,Y,it)=>{B.listen(Y,Z=>{try{it(Z)}catch(dt){setTimeout(()=>{throw dt},0)}})};return F(b,wu.EventType.OPEN,()=>{O||(ht(nn,`RPC '${t}' stream ${l} transport opened.`),L.Qo())}),F(b,wu.EventType.CLOSE,()=>{O||(O=!0,ht(nn,`RPC '${t}' stream ${l} transport closed`),L.Ko())}),F(b,wu.EventType.ERROR,B=>{O||(O=!0,Ql(nn,`RPC '${t}' stream ${l} transport errored:`,B),L.Ko(new ft(tt.UNAVAILABLE,"The operation could not be completed")))}),F(b,wu.EventType.MESSAGE,B=>{var Y;if(!O){const it=B.data[0];$t(!!it);const Z=it,dt=(Z==null?void 0:Z.error)||((Y=Z[0])===null||Y===void 0?void 0:Y.error);if(dt){ht(nn,`RPC '${t}' stream ${l} received error:`,dt);const ot=dt.status;let St=function(T){const x=Re[T];if(x!==void 0)return bS(x)}(ot),V=dt.message;St===void 0&&(St=tt.INTERNAL,V="Unknown error status: "+ot+" with message "+dt.message),O=!0,L.Ko(new ft(St,V)),b.close()}else ht(nn,`RPC '${t}' stream ${l} received:`,it),L.Uo(it)}}),F(m,jE.STAT_EVENT,B=>{B.stat===Hp.PROXY?ht(nn,`RPC '${t}' stream ${l} detected buffering proxy`):B.stat===Hp.NOPROXY&&ht(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function yp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){return new sI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&ht("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="PersistentStream";class kS{constructor(t,n,s,l,u,f,m,g){this.Ti=t,this.n_=s,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new LS(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{t(()=>{const l=new ft(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return ht(EA,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(ht(EA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nO extends kS{constructor(t,n,s,l,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=oI(this.serializer,t),s=function(u){if(!("targetChange"in u))return Rt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Rt.min():f.readTime?Ii(f.readTime):Rt.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=Wp(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Qp(g)?{documents:hI(u,g)}:{query:fI(u,g).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=CS(u,f.resumeToken);const y=Kp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Rt.min())>0){m.readTime=of(u,f.snapshotVersion.toTimestamp());const y=Kp(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,t);const s=mI(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=Wp(this.serializer),n.removeTarget=t,this.I_(n)}}class iO extends kS{constructor(t,n,s,l,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=cI(t.writeResults,t.commitTime),s=Ii(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=Wp(this.serializer),this.I_(t)}S_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>uI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{}class sO extends rO{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(t,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(t,Yp(n,s),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ft(tt.UNKNOWN,u.toString())})}Co(t,n,s,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(t,Yp(n,s),l,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ft(tt.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aO{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mr(n),this.N_=!1):ht("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa="RemoteStore";class lO{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{Da(this)&&(ht(Sa,"Restarting streams for network reachability change."),await async function(g){const y=Dt(g);y.W_.add(4),await tc(y),y.j_.set("Unknown"),y.W_.delete(4),await Rf(y)}(this))})}),this.j_=new aO(s,l)}}async function Rf(r){if(Da(r))for(const t of r.G_)await t(!0)}async function tc(r){for(const t of r.G_)await t(!1)}function zS(r,t){const n=Dt(r);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Mg(n)?Vg(n):so(n).c_()&&Og(n,t))}function Ig(r,t){const n=Dt(r),s=so(n);n.U_.delete(t),s.c_()&&HS(n,t),n.U_.size===0&&(s.c_()?s.P_():Da(n)&&n.j_.set("Unknown"))}function Og(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}so(r).y_(t)}function HS(r,t){r.H_.Ne(t),so(r).w_(t)}function Vg(r){r.H_=new eI({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.U_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),so(r).start(),r.j_.B_()}function Mg(r){return Da(r)&&!so(r).u_()&&r.U_.size>0}function Da(r){return Dt(r).W_.size===0}function jS(r){r.H_=void 0}async function oO(r){r.j_.set("Online")}async function uO(r){r.U_.forEach((t,n)=>{Og(r,t)})}async function cO(r,t){jS(r),Mg(r)?(r.j_.q_(t),Vg(r)):r.j_.set("Unknown")}async function hO(r,t,n){if(r.j_.set("Online"),t instanceof RS&&t.state===2&&t.cause)try{await async function(l,u){const f=u.cause;for(const m of u.targetIds)l.U_.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.U_.delete(m),l.H_.removeTarget(m))}(r,t)}catch(s){ht(Sa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await cf(r,s)}else if(t instanceof Fh?r.H_.We(t):t instanceof wS?r.H_.Ze(t):r.H_.je(t),!n.isEqual(Rt.min()))try{const s=await BS(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const A=u.U_.get(y);A&&u.U_.set(y,A.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const A=u.U_.get(g);if(!A)return;u.U_.set(g,A.withResumeToken(Je.EMPTY_BYTE_STRING,A.snapshotVersion)),HS(u,g);const b=new ds(A.target,g,y,A.sequenceNumber);Og(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ht(Sa,"Failed to raise snapshot:",s),await cf(r,s)}}async function cf(r,t,n){if(!io(t))throw t;r.W_.add(1),await tc(r),r.j_.set("Offline"),n||(n=()=>BS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ht(Sa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Rf(r)})}function qS(r,t){return t().catch(n=>cf(r,n,t))}async function Cf(r){const t=Dt(r),n=bs(t);let s=t.K_.length>0?t.K_[t.K_.length-1].batchId:yg;for(;fO(t);)try{const l=await KI(t.localStore,s);if(l===null){t.K_.length===0&&n.P_();break}s=l.batchId,dO(t,l)}catch(l){await cf(t,l)}FS(t)&&QS(t)}function fO(r){return Da(r)&&r.K_.length<10}function dO(r,t){r.K_.push(t);const n=bs(r);n.c_()&&n.b_&&n.S_(t.mutations)}function FS(r){return Da(r)&&!bs(r).u_()&&r.K_.length>0}function QS(r){bs(r).start()}async function mO(r){bs(r).C_()}async function pO(r){const t=bs(r);for(const n of r.K_)t.S_(n.mutations)}async function gO(r,t,n){const s=r.K_.shift(),l=Tg.from(s,t,n);await qS(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await Cf(r)}async function yO(r,t){t&&bs(r).b_&&await async function(s,l){if(function(f){return Jx(f)&&f!==tt.ABORTED}(l.code)){const u=s.K_.shift();bs(s).h_(),await qS(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l)),await Cf(s)}}(r,t),FS(r)&&QS(r)}async function SA(r,t){const n=Dt(r);n.asyncQueue.verifyOperationInProgress(),ht(Sa,"RemoteStore received new credentials");const s=Da(n);n.W_.add(3),await tc(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Rf(n)}async function vO(r,t){const n=Dt(r);t?(n.W_.delete(2),await Rf(n)):t||(n.W_.add(2),await tc(n),n.j_.set("Unknown"))}function so(r){return r.J_||(r.J_=function(n,s,l){const u=Dt(n);return u.M_(),new nO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:oO.bind(null,r),No:uO.bind(null,r),Lo:cO.bind(null,r),p_:hO.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Mg(r)?Vg(r):r.j_.set("Unknown")):(await r.J_.stop(),jS(r))})),r.J_}function bs(r){return r.Y_||(r.Y_=function(n,s,l){const u=Dt(n);return u.M_(),new iO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:mO.bind(null,r),Lo:yO.bind(null,r),D_:pO.bind(null,r),v_:gO.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await Cf(r)):(await r.Y_.stop(),r.K_.length>0&&(ht(Sa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const f=Date.now()+s,m=new Ng(t,n,f,l,u);return m.start(s),m}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ug(r,t){if(mr("AsyncQueue",`${t}: ${r}`),io(r))return new ft(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{static emptySet(t){return new Dl(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||Et.comparator(n.key,s.key):(n,s)=>Et.comparator(n.key,s.key),this.keyedMap=Ru(),this.sortedSet=new he(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Dl)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Dl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(){this.Z_=new he(Et.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):wt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Wl{constructor(t,n,s,l,u,f,m,g,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Wl(t,n,Dl.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Af(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class AO{constructor(){this.queries=bA(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=Dt(n),u=l.queries;l.queries=bA(),u.forEach((f,m)=>{for(const g of m.ta)g.onError(s)})})(this,new ft(tt.ABORTED,"Firestore shutting down"))}}function bA(){return new Ra(r=>hS(r),Af)}async function EO(r,t){const n=Dt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.na()&&t.ra()&&(s=2):(u=new _O,s=t.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Ug(f,`Initialization of query '${Tl(t.query)}' failed`);return void t.onError(m)}n.queries.set(l,u),u.ta.push(t),t.sa(n.onlineState),u.ea&&t.oa(u.ea)&&Pg(n)}async function SO(r,t){const n=Dt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(t);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=t.ra()?0:1:!u.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TO(r,t){const n=Dt(r);let s=!1;for(const l of t){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(l)&&(s=!0);f.ea=l}}s&&Pg(n)}function bO(r,t,n){const s=Dt(r),l=s.queries.get(t);if(l)for(const u of l.ta)u.onError(n);s.queries.delete(t)}function Pg(r){r.ia.forEach(t=>{t.next()})}var $p,wA;(wA=$p||($p={}))._a="default",wA.Cache="cache";class wO{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Wl(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==$p.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t){this.key=t}}class KS{constructor(t){this.key=t}}class RO{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pt(),this.mutatedKeys=Pt(),this.ya=fS(t),this.wa=new Dl(this.ya)}get ba(){return this.fa}Sa(t,n){const s=n?n.Da:new TA,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const g=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,b)=>{const w=l.get(A),O=Ef(this.query,b)?b:null,L=!!w&&this.mutatedKeys.has(w.key),F=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let B=!1;w&&O?w.data.isEqual(O.data)?L!==F&&(s.track({type:3,doc:O}),B=!0):this.va(w,O)||(s.track({type:2,doc:O}),B=!0,(g&&this.ya(O,g)>0||y&&this.ya(O,y)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),B=!0):w&&!O&&(s.track({type:1,doc:w}),B=!0,(g||y)&&(m=!0)),B&&(O?(f=f.add(O),u=F?u.add(A):u.delete(A)):(f=f.delete(A),u=u.delete(A)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const A=this.query.limitType==="F"?f.last():f.first();f=f.delete(A.key),u=u.delete(A.key),s.track({type:1,doc:A})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((A,b)=>function(O,L){const F=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wt()}};return F(O)-F(L)}(A.type,b.type)||this.ya(A.doc,b.doc)),this.Ca(s),l=l!=null&&l;const m=n&&!l?this.Fa():[],g=this.pa.size===0&&this.current&&!l?1:0,y=g!==this.ga;return this.ga=g,f.length!==0||y?{snapshot:new Wl(this.query,t.wa,u,f,t.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new TA,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Pt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new KS(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new GS(s))}),n}Oa(t){this.fa=t.gs,this.pa=Pt();const n=this.Sa(t.documents);return this.applyChanges(n,!0)}Na(){return Wl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Bg="SyncEngine";class CO{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class DO{constructor(t){this.key=t,this.Ba=!1}}class xO{constructor(t,n,s,l,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ra(m=>hS(m),Af),this.qa=new Map,this.Qa=new Set,this.$a=new he(Et.comparator),this.Ka=new Map,this.Ua=new Rg,this.Wa={},this.Ga=new Map,this.za=Xl.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function IO(r,t,n=!0){const s=$S(r);let l;const u=s.ka.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await YS(s,t,n,!0),l}async function OO(r,t){const n=$S(r);await YS(n,t,!0,!1)}async function YS(r,t,n,s){const l=await YI(r.localStore,xi(t)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VO(r,t,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&zS(r.remoteStore,l),m}async function VO(r,t,n,s,l){r.Ha=(b,w,O)=>async function(F,B,Y,it){let Z=B.view.Sa(Y);Z.ls&&(Z=await yA(F.localStore,B.query,!1).then(({documents:V})=>B.view.Sa(V,Z)));const dt=it&&it.targetChanges.get(B.targetId),ot=it&&it.targetMismatches.get(B.targetId)!=null,St=B.view.applyChanges(Z,F.isPrimaryClient,dt,ot);return CA(F,B.targetId,St.Ma),St.snapshot}(r,b,w,O);const u=await yA(r.localStore,t,!0),f=new RO(t,u.gs),m=f.Sa(u.documents),g=$u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(m,r.isPrimaryClient,g);CA(r,n,y.Ma);const A=new CO(t,n,f);return r.ka.set(t,A),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function MO(r,t,n){const s=Dt(r),l=s.ka.get(t),u=s.qa.get(l.targetId);if(u.length>1)return s.qa.set(l.targetId,u.filter(f=>!Af(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Zp(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Ig(s.remoteStore,l.targetId),tg(s,l.targetId)}).catch(no)):(tg(s,l.targetId),await Zp(s.localStore,l.targetId,!0))}async function NO(r,t){const n=Dt(r),s=n.ka.get(t),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Ig(n.remoteStore,s.targetId))}async function UO(r,t,n){const s=jO(r);try{const l=await function(f,m){const g=Dt(f),y=Pe.now(),A=m.reduce((O,L)=>O.add(L.key),Pt());let b,w;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let L=pr(),F=Pt();return g.ds.getEntries(O,A).next(B=>{L=B,L.forEach((Y,it)=>{it.isValidDocument()||(F=F.add(Y))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,L)).next(B=>{b=B;const Y=[];for(const it of m){const Z=Kx(it,b.get(it.key).overlayedDocument);Z!=null&&Y.push(new Ca(it.key,Z,nS(Z.value.mapValue),hr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,y,Y,m)}).next(B=>{w=B;const Y=B.applyToLocalDocumentSet(b,F);return g.documentOverlayCache.saveOverlays(O,B.batchId,Y)})}).then(()=>({batchId:w.batchId,changes:mS(b)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,m,g){let y=f.Wa[f.currentUser.toKey()];y||(y=new he(kt)),y=y.insert(m,g),f.Wa[f.currentUser.toKey()]=y}(s,l.batchId,n),await ec(s,l.changes),await Cf(s.remoteStore)}catch(l){const u=Ug(l,"Failed to persist write");n.reject(u)}}async function XS(r,t){const n=Dt(r);try{const s=await QI(n.localStore,t);t.targetChanges.forEach((l,u)=>{const f=n.Ka.get(u);f&&($t(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?$t(f.Ba):l.removedDocuments.size>0&&($t(f.Ba),f.Ba=!1))}),await ec(n,s,t)}catch(s){await no(s)}}function RA(r,t,n){const s=Dt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((u,f)=>{const m=f.view.sa(t);m.snapshot&&l.push(m.snapshot)}),function(f,m){const g=Dt(f);g.onlineState=m;let y=!1;g.queries.forEach((A,b)=>{for(const w of b.ta)w.sa(m)&&(y=!0)}),y&&Pg(g)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function PO(r,t,n){const s=Dt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Ka.get(t),u=l&&l.key;if(u){let f=new he(Et.comparator);f=f.insert(u,an.newNoDocument(u,Rt.min()));const m=Pt().add(u),g=new bf(Rt.min(),new Map,new he(kt),f,m);await XS(s,g),s.$a=s.$a.remove(u),s.Ka.delete(t),Lg(s)}else await Zp(s.localStore,t,!1).then(()=>tg(s,t,n)).catch(no)}async function BO(r,t){const n=Dt(r),s=t.batch.batchId;try{const l=await FI(n.localStore,t);ZS(n,s,null),WS(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ec(n,l)}catch(l){await no(l)}}async function LO(r,t,n){const s=Dt(r);try{const l=await function(f,m){const g=Dt(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let A;return g.mutationQueue.lookupMutationBatch(y,m).next(b=>($t(b!==null),A=b.keys(),g.mutationQueue.removeMutationBatch(y,b))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,A,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A)).next(()=>g.localDocuments.getDocuments(y,A))})}(s.localStore,t);ZS(s,t,n),WS(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await ec(s,l)}catch(l){await no(l)}}function WS(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function ZS(r,t,n){const s=Dt(r);let l=s.Wa[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function tg(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ua.Sr(t).forEach(s=>{r.Ua.containsKey(s)||JS(r,s)})}function JS(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Ig(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ka.delete(n),Lg(r))}function CA(r,t,n){for(const s of n)s instanceof GS?(r.Ua.addReference(s.key,t),kO(r,s)):s instanceof KS?(ht(Bg,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,t),r.Ua.containsKey(s.key)||JS(r,s.key)):wt()}function kO(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ht(Bg,"New document in limbo: "+n),r.Qa.add(s),Lg(r))}function Lg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new Et(ae.fromString(t)),s=r.za.next();r.Ka.set(s,new DO(n)),r.$a=r.$a.insert(n,s),zS(r.remoteStore,new ds(xi(uS(n.path)),s,"TargetPurposeLimboResolution",yf.ae))}}async function ec(r,t,n){const s=Dt(r),l=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,g)=>{f.push(s.Ha(g,t,n).then(y=>{var A;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(A=n==null?void 0:n.targetChanges.get(g.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Dg.Yi(g.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(l),await async function(g,y){const A=Dt(g);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>$.forEach(y,w=>$.forEach(w.Hi,O=>A.persistence.referenceDelegate.addReference(b,w.targetId,O)).next(()=>$.forEach(w.Ji,O=>A.persistence.referenceDelegate.removeReference(b,w.targetId,O)))))}catch(b){if(!io(b))throw b;ht(xg,"Failed to update sequence numbers: "+b)}for(const b of y){const w=b.targetId;if(!b.fromCache){const O=A.Ts.get(w),L=O.snapshotVersion,F=O.withLastLimboFreeSnapshotVersion(L);A.Ts=A.Ts.insert(w,F)}}}(s.localStore,u))}async function zO(r,t){const n=Dt(r);if(!n.currentUser.isEqual(t)){ht(Bg,"User change. New user:",t.toKey());const s=await PS(n.localStore,t);n.currentUser=t,function(u,f){u.Ga.forEach(m=>{m.forEach(g=>{g.reject(new ft(tt.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await ec(n,s.Rs)}}function HO(r,t){const n=Dt(r),s=n.Ka.get(t);if(s&&s.Ba)return Pt().add(s.key);{let l=Pt();const u=n.qa.get(t);if(!u)return l;for(const f of u){const m=n.ka.get(f);l=l.unionWith(m.view.ba)}return l}}function $S(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=XS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=HO.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=PO.bind(null,t),t.La.p_=TO.bind(null,t.eventManager),t.La.Ja=bO.bind(null,t.eventManager),t}function jO(r){const t=Dt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BO.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=LO.bind(null,t),t}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=wf(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return qI(this.persistence,new zI,t.initialUser,this.serializer)}Xa(t){return new US(Cg.ri,this.serializer)}Za(t){return new WI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class qO extends hf{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){$t(this.persistence.referenceDelegate instanceof uf);const s=this.persistence.referenceDelegate.garbageCollector;return new wI(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new US(s=>uf.ri(s,n),this.serializer)}}class eg{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RA(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zO.bind(null,this.syncEngine),await vO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new AO}()}createDatastore(t){const n=wf(t.databaseInfo.databaseId),s=function(u){return new eO(u)}(t.databaseInfo);return function(u,f,m,g){return new sO(u,f,m,g)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,u,f,m){return new lO(s,l,u,f,m)}(this.localStore,this.datastore,t.asyncQueue,n=>RA(this.syncEngine,n,0),function(){return AA.D()?new AA:new ZI}())}createSyncEngine(t,n){return function(l,u,f,m,g,y,A){const b=new xO(l,u,f,m,g,y);return A&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const u=Dt(l);ht(Sa,"RemoteStore shutting down."),u.W_.add(5),await tc(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}eg.provider={build:()=>new eg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):mr("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class QO{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=sn.UNAUTHENTICATED,this.clientId=GE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ht(ws,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ht(ws,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Ug(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function vp(r,t){r.asyncQueue.verifyOperationInProgress(),ht(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await PS(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function DA(r,t){r.asyncQueue.verifyOperationInProgress();const n=await GO(r);ht(ws,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>SA(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>SA(t.remoteStore,l)),r._onlineComponents=t}async function GO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ht(ws,"Using user provided OfflineComponentProvider");try{await vp(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await vp(r,new hf)}}else ht(ws,"Using default OfflineComponentProvider"),await vp(r,new qO(void 0));return r._offlineComponents}async function tT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ht(ws,"Using user provided OnlineComponentProvider"),await DA(r,r._uninitializedComponentsProvider._online)):(ht(ws,"Using default OnlineComponentProvider"),await DA(r,new eg))),r._onlineComponents}function KO(r){return tT(r).then(t=>t.syncEngine)}async function YO(r){const t=await tT(r),n=t.eventManager;return n.onListen=IO.bind(null,t.syncEngine),n.onUnlisten=MO.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=OO.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=NO.bind(null,t.syncEngine),n}function XO(r,t,n={}){const s=new ys;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const A=new FO({next:w=>{A.su(),f.enqueueAndForget(()=>SO(u,b)),w.fromCache&&g.source==="server"?y.reject(new ft(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),b=new wO(m,A,{includeMetadataChanges:!0,Ta:!0});return EO(u,b)}(await YO(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(r,t,n){if(!n)throw new ft(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function WO(r,t,n,s){if(t===!0&&s===!0)throw new ft(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function IA(r){if(!Et.isDocumentKey(r))throw new ft(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function OA(r){if(Et.isDocumentKey(r))throw new ft(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Df(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":wt()}function ff(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Df(r);throw new ft(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firestore.googleapis.com",VA=!0;class MA{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ft(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iT,this.ssl=VA}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:VA;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=NS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TI)throw new ft(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WO("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eT((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ft(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xf{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tx;switch(s.type){case"firstParty":return new rx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ft(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xA.get(n);s&&(ht("ComponentProvider","Removing Datastore"),xA.delete(n),s.terminate())}(this),Promise.resolve()}}function ZO(r,t,n,s={}){var l;const u=(r=ff(r,xf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${t}:${n}`;u.host!==iT&&u.host!==m&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Zh(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,A;if(typeof s.mockUserToken=="string")y=s.mockUserToken,A=sn.MOCK_USER;else{y=M2(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ft(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new sn(b)}r._authCredentials=new ex(new QE(y,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Rs(this.firestore,t,this._query)}}class Yn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yn(this.firestore,t,this._key)}}class vs extends Rs{constructor(t,n,s){super(t,n,uS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yn(this.firestore,null,new Et(t))}withConverter(t){return new vs(this.firestore,t,this._path)}}function rT(r,t,...n){if(r=Fl(r),nT("collection","path",t),r instanceof xf){const s=ae.fromString(t,...n);return OA(s),new vs(r,null,s)}{if(!(r instanceof Yn||r instanceof vs))throw new ft(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return OA(s),new vs(r.firestore,null,s)}}function JO(r,t,...n){if(r=Fl(r),arguments.length===1&&(t=GE.newId()),nT("doc","path",t),r instanceof xf){const s=ae.fromString(t,...n);return IA(s),new Yn(r,null,new Et(s))}{if(!(r instanceof Yn||r instanceof vs))throw new ft(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ae.fromString(t,...n));return IA(s),new Yn(r.firestore,r instanceof vs?r.converter:null,new Et(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="AsyncQueue";class UA{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new LS(this,"async_queue_retry"),this.bu=()=>{const s=yp();s&&ht(NA,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=t;const n=yp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=yp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ys;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!io(t))throw t;ht(NA,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.Su.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw mr("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Ng.createAndSchedule(this,t,n,s,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&wt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.Su,await t;while(t!==this.Su)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class kg extends xf{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new UA,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new UA(t),this._firestoreClient=void 0,await t}}}function $O(r,t){const n=typeof r=="object"?r:qD(),s=typeof r=="string"?r:ef,l=LD(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=O2("firestore");u&&ZO(l,...u)}return l}function sT(r){if(r._terminated)throw new ft(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||tV(r),r._firestoreClient}function tV(r){var t,n,s;const l=r._freezeSettings(),u=function(m,g,y,A){return new vx(m,g,y,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,eT(A.experimentalLongPollingOptions),A.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new QO(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zl(Je.fromBase64String(t))}catch(n){throw new ft(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Zl(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ft(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ze(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ft(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ft(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=/^__.*__$/;class nV{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Ca(t,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(t,this.data,n,this.fieldTransforms)}}function lT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wt()}}class qg{constructor(t,n,s,l,u,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new qg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Ku(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Uu(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return df(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(lT(this.Lu)&&eV.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class iV{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||wf(t)}ju(t,n,s,l=!1){return new qg({Lu:t,methodName:n,zu:s,path:Ze.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oT(r){const t=r._freezeSettings(),n=wf(r._databaseId);return new iV(r._databaseId,!!t.ignoreUndefinedProperties,n)}function rV(r,t,n,s,l,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,t,n,l);hT("Data must be an object, but it was:",f,s);const m=uT(s,f);let g,y;if(u.merge)g=new ri(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const A=[];for(const b of u.mergeFields){const w=aV(t,b,n);if(!f.contains(w))throw new ft(tt.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);oV(A,w)||A.push(w)}g=new ri(A),y=f.fieldTransforms.filter(b=>g.covers(b.field))}else g=null,y=f.fieldTransforms;return new nV(new Kn(m),g,y)}function sV(r,t,n,s=!1){return Fg(n,r.ju(s?4:3,t))}function Fg(r,t){if(cT(r=Fl(r)))return hT("Unsupported field value:",t,r),uT(r,t);if(r instanceof aT)return function(s,l){if(!lT(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const u=[];let f=0;for(const m of s){let g=Fg(m,l.Uu(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(r,t)}return function(s,l){if((s=Fl(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Hx(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Pe.fromDate(s);return{timestampValue:of(l.serializer,u)}}if(s instanceof Pe){const u=new Pe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:of(l.serializer,u)}}if(s instanceof Hg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Zl)return{bytesValue:CS(l.serializer,s._byteString)};if(s instanceof Yn){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:wg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof jg)return function(f,m){return{mapValue:{fields:{[tS]:{stringValue:eS},[nf]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return Sg(m.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Df(s)}`)}(r,t)}function uT(r,t){const n={};return YE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wa(r,(s,l)=>{const u=Fg(l,t.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function cT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Pe||r instanceof Hg||r instanceof Zl||r instanceof Yn||r instanceof aT||r instanceof jg)}function hT(r,t,n){if(!cT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=Df(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function aV(r,t,n){if((t=Fl(t))instanceof zg)return t._internalPath;if(typeof t=="string")return fT(r,t);throw df("Field path arguments must be of type string or ",r,!1,void 0,n)}const lV=new RegExp("[~\\*/\\[\\]]");function fT(r,t,n){if(t.search(lV)>=0)throw df(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zg(...t.split("."))._internalPath}catch{throw df(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function df(r,t,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${l}`),g+=")"),new ft(tt.INVALID_ARGUMENT,m+r+g)}function oV(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Qg("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uV extends dT{data(){return super.data()}}function Qg(r,t){return typeof t=="string"?fT(r,t):t instanceof zg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gg{}class Kg extends Gg{}function hV(r,t,...n){let s=[];t instanceof Gg&&s.push(t),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Xg).length,m=u.filter(g=>g instanceof Yg).length;if(f>1||f>0&&m>0)throw new ft(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Yg extends Kg{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Yg(t,n,s)}_apply(t){const n=this._parse(t);return mT(t._query,n),new Rs(t.firestore,t.converter,Gp(t._query,n))}_parse(t){const n=oT(t.firestore);return function(u,f,m,g,y,A,b){let w;if(y.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new ft(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){BA(b,A);const L=[];for(const F of b)L.push(PA(g,u,F));w={arrayValue:{values:L}}}else w=PA(g,u,b)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||BA(b,A),w=sV(m,f,b,A==="in"||A==="not-in");return Ce.create(y,A,w)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class Xg extends Gg{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Xg(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,u){let f=l;const m=u.getFlattenedFilters();for(const g of m)mT(f,g),f=Gp(f,g)}(t._query,n),new Rs(t.firestore,t.converter,Gp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wg extends Kg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Wg(t,n)}_apply(t){const n=function(l,u,f){if(l.startAt!==null)throw new ft(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new ft(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zu(u,f)}(t._query,this._field,this._direction);return new Rs(t.firestore,t.converter,function(l,u){const f=l.explicitOrderBy.concat([u]);return new ro(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function fV(r,t="asc"){const n=t,s=Qg("orderBy",r);return Wg._create(s,n)}class Zg extends Kg{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Zg(t,n,s)}_apply(t){return new Rs(t.firestore,t.converter,sf(t._query,this._limit,this._limitType))}}function dV(r){return Zg._create("limit",r,"F")}function PA(r,t,n){if(typeof(n=Fl(n))=="string"){if(n==="")throw new ft(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cS(t)&&n.indexOf("/")!==-1)throw new ft(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ae.fromString(n));if(!Et.isDocumentKey(s))throw new ft(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return J_(r,new Et(s))}if(n instanceof Yn)return J_(r,n._key);throw new ft(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Df(n)}.`)}function BA(r,t){if(!Array.isArray(r)||r.length===0)throw new ft(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function mT(r,t){const n=function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new ft(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class mV{convertValue(t,n="none"){switch(Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw wt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return wa(t,(l,u)=>{s[l]=this.convertValue(u,n)}),s}convertVectorValue(t){var n,s,l;const u=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[nf].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>Ae(f.doubleValue));return new jg(u)}convertGeoPoint(t){return new Hg(Ae(t.latitude),Ae(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=_f(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Bu(t));default:return null}}convertTimestamp(t){const n=Es(t);return new Pe(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ae.fromString(t);$t(MS(s));const l=new Lu(s.get(1),s.get(3)),u=new Et(s.popFirst(5));return l.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class gV extends dT{constructor(t,n,s,l,u,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Qg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Qh extends gV{data(t={}){return super.data(t)}}class yV{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Nh(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Qh(this._firestore,this._userDataWriter,s.key,s,new Nh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ft(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(m=>{const g=new Qh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Nh(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Qh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Nh(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),A=f.indexOf(m.doc.key)),{type:vV(m.type),doc:g,oldIndex:y,newIndex:A}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vV(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wt()}}class _V extends mV{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zl(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function AV(r){r=ff(r,Rs);const t=ff(r.firestore,kg),n=sT(t),s=new _V(t);return cV(r._query),XO(n,r._query).then(l=>new yV(t,s,r,l))}function EV(r,t){const n=ff(r.firestore,kg),s=JO(r),l=pV(r.converter,t);return SV(n,[rV(oT(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,hr.exists(!1))]).then(()=>s)}function SV(r,t){return function(s,l){const u=new ys;return s.asyncQueue.enqueueAndForget(async()=>UO(await KO(s),l,u)),u.promise}(sT(r),t)}(function(t,n=!0){(function(l){eo=l})(jD),$h(new Nu("firestore",(s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new kg(new nx(s.getProvider("auth-internal")),new sx(f,s.getProvider("app-check-internal")),function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lu(y.options.projectId,A)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Cl(H_,j_,t),Cl(H_,j_,"esm2017")})();var TV="firebase",bV="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cl(TV,bV,"app");const wV={apiKey:"AIzaSyCZE6BZ-fwmrpRpDB2PzcXyZVHzO2Bzkxs",authDomain:"bust-a-move.firebaseapp.com",projectId:"bust-a-move",storageBucket:"bust-a-move.firebasestorage.app",messagingSenderId:"959038606401",appId:"1:959038606401:web:23de2ae7af17bc0e704ac0"},RV=PE(wV),pT=$O(RV);function gT(){return new Promise((r,t)=>{const n=[],s=hV(rT(pT,"users"),fV("score","desc"),dV(10));AV(s).then(l=>{l.forEach(u=>{n.push(u.data())}),r(n)}).catch(l=>{t(l)})})}function CV(r){return EV(rT(pT,"users"),{name:r.name,score:r.score})}function DV({game:r,frame:t,syncReactFrames:n}){cancelAnimationFrame(t);const{data:s}=DE({queryKey:["scores"],queryFn:gT}),{mutate:l,isSuccess:u,isPending:f,isError:m}=A2({mutationFn:CV}),g=async y=>{y.preventDefault();const A=new FormData(y.currentTarget),b={name:"",score:0};b.name=A.get("name"),b.score=r.score,l(b)};return et.jsxs("section",{className:"absolute left-0 top-0 h-full w-full z-10 flex flex-col justify-center items-center gap-8",children:[s&&(r.score>s[s.length-1].score||s.length<10)&&et.jsxs("form",{className:"bg-black text-white p-4 border-2 border-white rounded-2xl w-max absolute top-1/4 -translate-y-1/4 flex flex-col justify-center items-center gap-4",onSubmit:g,children:[et.jsxs("div",{className:"flex gap-2 items-center",children:[et.jsx("div",{className:"w-6 h-6 bg-[url(/src/assets/stars.png)] bg-cover animate-star"}),et.jsx("h2",{className:"w-max",children:"NEW HIGH SCORE"}),et.jsx("div",{className:"w-6 h-6 bg-[url(/src/assets/stars.png)] bg-cover animate-star"})]}),et.jsx("input",{type:"text",placeholder:"name",className:"bg-white text-black text-center",size:15,name:"name"}),et.jsx("div",{className:"m-auto w-max",children:et.jsx(Kh,{children:"SUBMIT"})}),u&&et.jsx("p",{children:"SUCCESS!"}),f&&et.jsx("p",{children:"SUBMITTING..."}),m&&et.jsx("p",{children:"Something went wrong"})]}),et.jsxs("div",{className:"flex gap-8 justify-center m-4 absolute bottom-3/8",children:[et.jsx(Kh,{cb:()=>{r.restart(),n()},children:"RESTART"}),et.jsx(va,{to:"/",text:"HOME"})]})]})}function xV(){const[r,t]=G.useState(0),{width:n,height:s}=kC(),l=zC(n),u=G.useRef(null),f=G.useMemo(()=>new LC(n,s),[]),m=G.useCallback(()=>t(requestAnimationFrame(m)),[]),g=G.useContext(gf);return G.useEffect(()=>{if(u.current){const y=u.current.getContext("2d");f.setContext(y),f.setOptions(g),f.start(),f.animationLoop(),m()}return()=>{f.stop(),cancelAnimationFrame(r)}},[]),G.useEffect(()=>{f.width=n,f.height=s,f.transformScaler=Math.min(n/Xt.width,s/Xt.height,l),f.transformOrigin={x:(n-Xt.width*f.transformScaler)/2,y:(s-Xt.height*f.transformScaler)/2}},[n,s]),et.jsxs("main",{className:"h-dvh relative",children:[et.jsx(jC,{game:f}),et.jsx("canvas",{className:"absolute left-0 top-0 z-0",width:n,height:s,ref:u}),f.gameOverFlag&&et.jsx(DV,{game:f,frame:r,syncReactFrames:m})]})}const IV="/bust-a-move/assets/title-jayMemy8.png";function OV(){return et.jsx("main",{className:"h-dvh flex items-center justify-center flex-col bg-[url(/src/assets/title-bg.png)] bg-repeat overflow-x-hidden",children:et.jsxs("section",{className:"relative",children:[et.jsx("img",{src:IV,alt:"Bust a Move",className:"m-auto w-96 lg:w-4xl h-auto animate-pulse p-8"}),et.jsx("div",{className:"animate-slide absolute -top-12",children:et.jsx("div",{className:"w-[98px] h-[98px] bg-[url(/src/assets/title-run.png)] bg-cover animate-run"})}),et.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 relative m-auto w-max",children:[et.jsx(va,{to:"game",text:"START"}),et.jsx(va,{to:"options",text:"OPTIONS"}),et.jsx(va,{to:"scoreboard",text:"SCOREBOARD"}),et.jsx("div",{className:"w-[98px] h-[98px] bg-[url(/src/assets/title-look.png)] bg-cover animate-look absolute top-36 right-1/12 sm:-top-1/2 sm:-right-1/4"})]})]})})}function VV({updateOptions:r}){const t=G.useContext(gf),[n,s]=G.useState(!1),l=u=>{u.preventDefault();const f=new FormData(u.currentTarget),m=Object.fromEntries(f.entries()),g={sfx:!!m.sfx,music:!!m.music,mobileUI:!!m.mobileUI,left:m.left.toString()[0]||"a",right:m.right.toString()[0]||"d",fire:m.fire.toString()==="space"?" ":m.fire.toString()[0]||" "};r(g),s(!0)};return et.jsx("main",{className:"p-8 flex items-center justify-center min-h-svh bg-[url(/src/assets/modal-bg.png)] bg-repeat",children:et.jsxs("form",{className:"flex flex-col gap-4 p-8 border-white-solid border-2 lg:min-w-2xl bg-[#242424]",onSubmit:u=>l(u),children:[et.jsx("h1",{className:"m-auto",children:"Options"}),et.jsxs(El,{children:[et.jsx("label",{children:"Enable SFX"}),et.jsx("input",{name:"sfx",type:"checkbox",defaultChecked:!!t.sfx})]}),et.jsxs(El,{children:[et.jsx("label",{children:"Enable Music"}),et.jsx("input",{name:"music",type:"checkbox",defaultChecked:!!t.music})]}),et.jsxs(El,{children:[et.jsx("label",{children:"Mobile Controls"}),et.jsx("input",{name:"mobileUI",type:"checkbox",defaultChecked:!!t.mobileUI})]}),et.jsxs("div",{className:"flex-col flex gap-4",children:[et.jsx("h2",{className:"m-auto",children:"Controls"}),et.jsxs(El,{children:[et.jsx("label",{htmlFor:"left",children:"Aim Left"}),et.jsx("input",{name:"left",maxLength:1,defaultValue:t.left,className:"focus:bg-white focus:text-black w-24 px-1 border-2 border-white",onClick:u=>u.currentTarget.value="",autoComplete:"false"})]}),et.jsxs(El,{children:[et.jsx("label",{htmlFor:"right",children:"Aim Right"}),et.jsx("input",{name:"right",maxLength:1,defaultValue:t.right,className:" focus:bg-white focus:text-black w-24 px-1 border-2 border-white",onClick:u=>u.currentTarget.value="",autoComplete:"false"})]}),et.jsxs(El,{children:[et.jsx("label",{htmlFor:"right",children:"Fire Cannon"}),et.jsx("input",{name:"fire",maxLength:1,defaultValue:t.fire===" "?"space":t.fire,className:"focus:bg-white focus:text-black w-24 px-1 border-2 border-white",onClick:u=>u.currentTarget.value="",autoComplete:"false"})]})]}),et.jsxs("div",{className:"flex gap-4",children:[et.jsx(Kh,{children:"SAVE"}),et.jsx(va,{to:"/",text:"BACK"})]}),et.jsx("p",{className:"text-green-400",children:n?"Options Saved!":""})]})})}function El({children:r}){return et.jsx("div",{className:"flex justify-between flex-auto gap-4",children:r})}function MV(){const{data:r,isError:t,isLoading:n}=DE({queryKey:["scores"],queryFn:gT});return et.jsx("main",{className:"min-h-svh p-8 bg-[url(/src/assets/title-bg.png)] bg-repeat",children:et.jsxs("div",{className:"p-8 border-2 border-white bg-[#242424]",children:[et.jsx("h1",{className:"m-auto w-max p-4",children:"HIGH SCORES"}),et.jsxs("div",{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(even)]:text-black",children:[r&&r.map((s,l)=>et.jsxs("div",{className:"grid grid-cols-[40px_1fr] sm:grid-cols-[40px_2fr_1fr] gap-1 p-4 min-w-max",children:[et.jsxs("span",{children:[l+1,"."]}),et.jsx("p",{className:"text-center sm:text-left",children:s.name}),et.jsx("p",{className:"col-span-2 text-center sm:col-span-1 sm:text-left",children:s.score})]},l)),t&&et.jsx("p",{children:"Error retrieving scores. Try again later."}),n&&et.jsx("p",{children:"Loading..."})]}),et.jsx("div",{className:"m-auto w-max p-4",children:et.jsx(va,{to:"/",text:"BACK"})})]})})}const NV=new i2;function UV(){const[r,t]=G.useState({sfx:!0,music:!0,mobileUI:!0,left:"a",right:"d",fire:" "}),n=s=>{t(s)};return et.jsx(et.Fragment,{children:et.jsx(o2,{client:NV,children:et.jsx(gf.Provider,{value:r,children:et.jsx(dR,{children:et.jsxs(qw,{children:[et.jsx(Au,{index:!0,element:et.jsx(OV,{})}),et.jsx(Au,{path:"game",element:et.jsx(xV,{})}),et.jsx(Au,{path:"options",element:et.jsx(VV,{updateOptions:n})}),et.jsx(Au,{path:"scoreboard",element:et.jsx(MV,{})})]})})})})})}Jb.createRoot(document.getElementById("root")).render(et.jsx(G.StrictMode,{children:et.jsx(UV,{})}));
